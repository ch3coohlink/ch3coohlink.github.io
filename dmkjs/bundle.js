!function i(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,r){"use strict";r.__esModule=!0;var n=e("./styles/editor"),o=e("./styles/injector"),i=e("./styles/theme-default"),a=e("./utils/html-escape"),s=e("prismjs"),u=(c.prototype.startEditor=function(){if(!o.injectCss(n.editorCss,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},c.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},c.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},c.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},c.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},c.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},c.prototype.createElement=function(e,t){var r=document.createElement(e);return t.appendChild(r),r},c.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=!1!==this.opts.defaultTheme,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,"boolean"!=typeof this.opts.handleTabs&&(this.opts.handleTabs=!0),"boolean"!=typeof this.opts.handleSelfClosingCharacters&&(this.opts.handleSelfClosingCharacters=!0),"boolean"!=typeof this.opts.handleNewLineIndentation&&(this.opts.handleNewLineIndentation=!0),!0===this.opts.rtl&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),!1===this.opts.enableAutocorrect&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&o.injectCss(i.defaultCssTheme,"theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},c.prototype.updateLineNumbersCount=function(){for(var e="",t=1;t<=this.lineNumber;t++)e=e+'<span class="codeflask__lines__line">'+t+"</span>";this.elLineNumbers.innerHTML=e},c.prototype.listenTextarea=function(){var t=this;this.elTextarea.addEventListener("input",function(e){t.code=e.target.value,t.elCode.innerHTML=a.escapeHtml(e.target.value),t.highlight(),setTimeout(function(){t.runUpdate(),t.setLineNumber()},1)}),this.elTextarea.addEventListener("keydown",function(e){t.handleTabs(e),t.handleSelfClosingCharacters(e),t.handleNewLineIndentation(e)}),this.elTextarea.addEventListener("scroll",function(e){t.elPre.style.transform="translate3d(-"+e.target.scrollLeft+"px, -"+e.target.scrollTop+"px, 0)",t.elLineNumbers&&(t.elLineNumbers.style.transform="translate3d(0, -"+e.target.scrollTop+"px, 0)")})},c.prototype.handleTabs=function(e){if(this.opts.handleTabs){if(9!==e.keyCode)return;e.preventDefault();var t=this.elTextarea,r=t.selectionDirection,n=t.selectionStart,o=t.selectionEnd,i=t.value,a=i.substr(0,n),s=i.substring(n,o),u=i.substring(o),c=" ".repeat(this.opts.tabSize);if(n!==o&&s.length>=c.length){var l=n-a.split("\n").pop().length,f=c.length,d=c.length;s=e.shiftKey?(i.substr(l,c.length)===c?(f=-f,n<l?(s=s.substring(0,l)+s.substring(l+c.length),d=0):l===n?(d=f=0,s=s.substring(c.length)):(d=-d,a=a.substring(0,l)+a.substring(l+c.length))):d=f=0,s.replace(new RegExp("\n"+c.split("").join("\\"),"g"),"\n")):(a=a.substr(0,l)+c+a.substring(l,n),s.replace(/\n/g,"\n"+c)),t.value=a+s+u,t.selectionStart=n+f,t.selectionEnd=n+s.length+d,t.selectionDirection=r}else t.value=a+c+u,t.selectionStart=n+c.length,t.selectionEnd=n+c.length;var p=t.value;this.updateCode(p),this.elTextarea.selectionEnd=o+this.opts.tabSize}},c.prototype.handleSelfClosingCharacters=function(e){if(this.opts.handleSelfClosingCharacters){var t=e.key;if(["(","[","{","<","'",'"'].includes(t)||[")","]","}",">","'",'"'].includes(t))switch(t){case"(":case")":this.closeCharacter(t);break;case"[":case"]":this.closeCharacter(t);break;case"{":case"}":this.closeCharacter(t);break;case"<":case">":case"'":case'"':this.closeCharacter(t)}}},c.prototype.setLineNumber=function(){this.lineNumber=this.code.split("\n").length,this.opts.lineNumbers&&this.updateLineNumbersCount()},c.prototype.handleNewLineIndentation=function(e){if(this.opts.handleNewLineIndentation&&13===e.keyCode){e.preventDefault();var t=this.elTextarea,r=t.selectionStart,n=t.selectionEnd,o=t.value,i=o.substr(0,r),a=o.substring(n),s=o.lastIndexOf("\n",r-1),u=s+o.slice(s+1).search(/[^ ]|$/),c=s<u?u-s:0,l=i+"\n"+" ".repeat(c)+a;t.value=l,t.selectionStart=r+c+1,t.selectionEnd=r+c+1,this.updateCode(t.value)}},c.prototype.closeCharacter=function(e){var t=this.elTextarea.selectionStart,r=this.elTextarea.selectionEnd;if(this.skipCloseChar(e)){var n=this.code.substr(r,1)===e,o=n?r+1:r;i=!n&&["'",'"'].includes(e)?e:"",s=""+this.code.substring(0,t)+i+this.code.substring(o),this.updateCode(s),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var i=e;switch(e){case"(":i=String.fromCharCode(e.charCodeAt()+1);break;case"<":case"{":case"[":i=String.fromCharCode(e.charCodeAt()+2)}var a=this.code.substring(t,r),s=""+this.code.substring(0,t)+a+i+this.code.substring(r);this.updateCode(s)}this.elTextarea.selectionEnd=t},c.prototype.skipCloseChar=function(e){var t=this.elTextarea.selectionStart,r=this.elTextarea.selectionEnd,n=0<Math.abs(r-t);return[")","}","]",">"].includes(e)||["'",'"'].includes(e)&&!n},c.prototype.updateCode=function(e){this.code=e,this.elTextarea.value=e,this.elCode.innerHTML=a.escapeHtml(e),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},c.prototype.updateLanguage=function(e){var t=this.opts.language;this.elCode.classList.remove("language-"+t),this.elCode.classList.add("language-"+e),this.opts.language=e,this.highlight()},c.prototype.addLanguage=function(e,t){s.languages[e]=t},c.prototype.populateDefault=function(){this.updateCode(this.code)},c.prototype.highlight=function(){s.highlightElement(this.elCode,!1)},c.prototype.onUpdate=function(e){if(e&&"[object Function]"!=={}.toString.call(e))throw Error("CodeFlask expects callback of type Function");this.updateCallBack=e},c.prototype.getCode=function(){return this.code},c.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},c.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},c.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")},c);function c(e,t){if(!e)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!t)throw Error("CodeFlask expects an object containing options as second parameter");if(e.nodeType)this.editorRoot=e;else{var r=document.querySelector(e);r&&(this.editorRoot=r)}this.opts=t,this.startEditor()}r.default=u},{"./styles/editor":2,"./styles/injector":3,"./styles/theme-default":4,"./utils/html-escape":6,prismjs:13}],2:[function(e,t,r){"use strict";r.__esModule=!0;var n=e("./theme-default"),o='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',i=e("../utils/css-supports").cssSupports("caret-color","#000")?n.BACKGROUND_COLOR:"#ccc",a="40px";r.editorCss="\n  .codeflask {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .codeflask, .codeflask * {\n    box-sizing: border-box;\n  }\n\n  .codeflask__pre {\n    pointer-events: none;\n    z-index: 3;\n    overflow: hidden;\n  }\n\n  .codeflask__textarea {\n    background: none;\n    border: none;\n    color: "+i+";\n    z-index: 1;\n    resize: none;\n    font-family: "+o+";\n    -webkit-appearance: pre;\n    caret-color: #111;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n  }\n\n  .codeflask--has-line-numbers .codeflask__textarea {\n    width: calc(100% - "+a+");\n  }\n\n  .codeflask__code {\n    display: block;\n    font-family: "+o+";\n    overflow: hidden;\n  }\n\n  .codeflask__flatten {\n    padding: 10px;\n    font-size: "+n.FONT_SIZE+";\n    line-height: "+n.LINE_HEIGHT+";\n    white-space: pre;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: auto;\n    margin: 0 !important;\n    outline: none;\n    text-align: left;\n  }\n\n  .codeflask--has-line-numbers .codeflask__flatten {\n    width: calc(100% - "+a+");\n    left: "+a+";\n  }\n\n  .codeflask__line-highlight {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    width: 100%;\n    height: "+n.LINE_HEIGHT+";\n    background: rgba(0,0,0,0.1);\n    z-index: 1;\n  }\n\n  .codeflask__lines {\n    padding: 10px 4px;\n    font-size: 12px;\n    line-height: "+n.LINE_HEIGHT+";\n    font-family: 'Cousine', monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+a+";\n    height: 100%;\n    text-align: right;\n    color: #999;\n    z-index: 2;\n  }\n\n  .codeflask__lines__line {\n    display: block;\n  }\n\n  .codeflask.codeflask--has-line-numbers {\n    padding-left: "+a+";\n  }\n\n  .codeflask.codeflask--has-line-numbers:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+a+";\n    height: 100%;\n    background: #eee;\n    z-index: 1;\n  }\n"},{"../utils/css-supports":5,"./theme-default":4}],3:[function(e,t,r){"use strict";r.__esModule=!0,r.injectCss=function(e,t,r){var n=t||"codeflask-style",o=r||document.head;if(!e)return!1;if(document.getElementById(n))return!0;var i=document.createElement("style");return i.innerHTML=e,i.id=n,o.appendChild(i),!0}},{}],4:[function(e,t,r){"use strict";r.__esModule=!0,r.BACKGROUND_COLOR="#fff",r.LINE_HEIGHT="20px",r.FONT_SIZE="13px",r.defaultCssTheme="\n.codeflask {\n  background: "+r.BACKGROUND_COLOR+";\n  color: #4f559c;\n}\n\n.codeflask .token.punctuation {\n  color: #4a4a4a;\n}\n\n.codeflask .token.keyword {\n  color: #8500ff;\n}\n\n.codeflask .token.operator {\n  color: #ff5598;\n}\n\n.codeflask .token.string {\n  color: #41ad8f;\n}\n\n.codeflask .token.comment {\n  color: #9badb7;\n}\n\n.codeflask .token.function {\n  color: #8500ff;\n}\n\n.codeflask .token.boolean {\n  color: #8500ff;\n}\n\n.codeflask .token.number {\n  color: #8500ff;\n}\n\n.codeflask .token.selector {\n  color: #8500ff;\n}\n\n.codeflask .token.property {\n  color: #8500ff;\n}\n\n.codeflask .token.tag {\n  color: #8500ff;\n}\n\n.codeflask .token.attr-value {\n  color: #8500ff;\n}\n"},{}],5:[function(e,t,r){"use strict";function n(e){return(e=e.split("-").filter(function(e){return!!e}).map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(""))[0].toLowerCase()+e.substr(1)}r.__esModule=!0,r.cssSupports=function(e,t){return"undefined"!=typeof CSS?CSS.supports(e,t):"undefined"!=typeof document&&n(e)in document.body.style},r.toCamelCase=n},{}],6:[function(e,t,r){"use strict";r.__esModule=!0;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};r.escapeHtml=function(e){return String(e).replace(/[&<>"'`=/]/g,function(e){return n[e]})}},{}],7:[function(e,t,r){!function(){JailedSite=function(e){this._interface={},this._remote=null,this._remoteUpdateHandler=function(){},this._getInterfaceHandler=function(){},this._interfaceSetAsRemoteHandler=function(){},this._disconnectHandler=function(){},this._store=new r;var t=this;this._connection=e,this._connection.onMessage(function(e){t._processMessage(e)}),this._connection.onDisconnect(function(e){t._disconnectHandler(e)})},JailedSite.prototype.onRemoteUpdate=function(e){this._remoteUpdateHandler=e},JailedSite.prototype.onInterfaceSetAsRemote=function(e){this._interfaceSetAsRemoteHandler=e},JailedSite.prototype.onGetInterface=function(e){this._getInterfaceHandler=e},JailedSite.prototype.getRemote=function(){return this._remote},JailedSite.prototype.setInterface=function(e){this._interface=e,this._sendInterface()},JailedSite.prototype._sendInterface=function(){var e=[];for(var t in this._interface)this._interface.hasOwnProperty(t)&&e.push(t);this._connection.send({type:"setInterface",api:e})},JailedSite.prototype._processMessage=function(e){switch(e.type){case"method":var t=this._interface[e.name],r=this._unwrap(e.args);t.apply(null,r);break;case"callback":t=this._store.fetch(e.id)[e.num],r=this._unwrap(e.args);t.apply(null,r);break;case"setInterface":this._setRemote(e.api);break;case"getInterface":this._sendInterface(),this._getInterfaceHandler();break;case"interfaceSetAsRemote":this._interfaceSetAsRemoteHandler();break;case"disconnect":this._disconnectHandler(),this._connection.disconnect()}},JailedSite.prototype.requestRemote=function(){this._connection.send({type:"getInterface"})},JailedSite.prototype._setRemote=function(e){var t,r;for(this._remote={},t=0;t<e.length;t++)r=e[t],this._remote[r]=this._genRemoteMethod(r);this._remoteUpdateHandler(),this._reportRemoteSet()},JailedSite.prototype._genRemoteMethod=function(e){var t=this;return function(){t._connection.send({type:"method",name:e,args:t._wrap(arguments)})}},JailedSite.prototype._reportRemoteSet=function(){this._connection.send({type:"interfaceSetAsRemote"})},JailedSite.prototype._wrap=function(e){for(var t=[],r={},n=!1,o=0;o<e.length;o++)"function"==typeof e[o]?(r[o]=e[o],t[o]={type:"callback",num:o},n=!0):t[o]={type:"argument",value:e[o]};var i={args:t};return n&&(i.callbackId=this._store.put(r)),i},JailedSite.prototype._unwrap=function(e){function t(e){return function(){if(i){throw new Error("A callback from this set has already been executed")}i=!0,e.apply(this,arguments)}}var r,n,o,i=!1,a=[];for(r=0;r<e.args.length;r++)"argument"==(n=e.args[r]).type?a.push(n.value):(o=t(this._genRemoteCallback(e.callbackId,r)),a.push(o));return a},JailedSite.prototype._genRemoteCallback=function(e,t){var r=this;return function(){r._connection.send({type:"callback",id:e,num:t,args:r._wrap(arguments)})}},JailedSite.prototype.disconnect=function(){this._connection.send({type:"disconnect"}),this._connection.disconnect()},JailedSite.prototype.onDisconnect=function(e){this._disconnectHandler=e};var r=function(){this._store={},this._indices=[0]};r.prototype._genId=function(){return 1==this._indices.length?this._indices[0]++:this._indices.shift()},r.prototype._releaseId=function(e){for(var t=0;t<this._indices.length;t++)if(e<this._indices[t]){this._indices.splice(t,0,e);break}for(t=this._indices.length-1;0<=t&&this._indices[t]-1==this._indices[t-1];t--)this._indices.pop()},r.prototype.put=function(e){var t=this._genId();return this._store[t]=e,t},r.prototype.fetch=function(e){var t=this._store[e];return this._store[e]=null,delete this._store[e],this._releaseId(e),t}}()},{}],8:[function(l,e,i){(function(e,t){var u,r,n,c=void 0!==e&&!e.browser&&-1!==e.release.name.search(/node|io.js/);if(c)u=t+"/";else{var o=document.getElementsByTagName("script");u=o[o.length-1].src.split("?")[0].split("/").slice(0,-1).join("/")+"/jailed/"}r=this,n=function(e){function n(){this._emitted=!1,this._handlers=[]}n.prototype.emit=function(){var e;if(!this._emitted)for(this._emitted=!0;e=this._handlers.pop();)setTimeout(e,0)},n.prototype.whenEmitted=function(e){e=this._checkHandler(e),this._emitted?setTimeout(e,0):this._handlers.push(e)},n.prototype._checkHandler=function(e){var t=typeof e;if("function"==t)return e;throw new Error("A function may only be subsribed to the event, "+t+" was provided instead")};var o,i,r;c?(l("./_JailedSite.js"),r=l("child_process"),(i=function(){this.dedicatedThread=!0,this._disconnected=!1,this._messageHandler=function(){},this._disconnectHandler=function(){},this._process=r.fork(u+"_pluginNode.js");var t=this;this._process.on("message",function(e){t._messageHandler(e)}),this._process.on("exit",function(e){t._disconnected=!0,t._disconnectHandler(e)})}).prototype.whenInit=function(e){e()},i.prototype.send=function(e){this._disconnected||this._process.send(e)},i.prototype.onMessage=function(t){this._messageHandler=function(e){try{t(e)}catch(e){console.error(),console.error(e.stack)}}},i.prototype.onDisconnect=function(e){this._disconnectHandler=e},i.prototype.disconnect=function(){this._process.kill("SIGKILL"),this._disconnected=!0}):(function(){o=new n;var e=window.onload||function(){};window.onload=function(){e(),function(e,t){var r=document.createElement("script");r.src=e;function n(){r.onload=null,r.onerror=null,r.onreadystatechange=null,r.parentNode.removeChild(r)}function o(){n(),t()}r.onerror=n,r.onload=o,r.onreadystatechange=function(){var e=r.readyState;"loaded"!==e&&"complete"!==e||o()},document.body.appendChild(r)}(u+"_JailedSite.js",function(){o.emit()})}}(),function(){var e=["allow-scripts"];"file://"==u.substr(0,7).toLowerCase()&&e.push("allow-same-origin");var r=document.createElement("iframe");r.src=u+"_frame.html",r.sandbox=e.join(" "),r.style.display="none",(i=function(){this._init=new n,this._disconnected=!1;var t=this;o.whenEmitted(function(){t._disconnected||(t._frame=r.cloneNode(!1),document.body.appendChild(t._frame),window.addEventListener("message",function(e){e.source===t._frame.contentWindow&&("initialized"==e.data.type?(t.dedicatedThread=e.data.dedicatedThread,t._init.emit()):t._messageHandler(e.data))}))})}).prototype.whenInit=function(e){this._init.whenEmitted(e)},i.prototype.send=function(e){this._frame.contentWindow.postMessage({type:"message",data:e},"*")},i.prototype.onMessage=function(e){this._messageHandler=e},i.prototype.onDisconnect=function(){},i.prototype.disconnect=function(){this._disconnected||(this._disconnected=!0,void 0!==this._frame&&this._frame.parentNode.removeChild(this._frame))}}());function t(){this._platformConnection=new i,this._importCallbacks={},this._executeSCb=function(){},this._executeFCb=function(){},this._messageHandler=function(){};var t=this;this.whenInit=function(e){t._platformConnection.whenInit(e)},this._platformConnection.onMessage(function(e){switch(e.type){case"message":t._messageHandler(e.data);break;case"importSuccess":t._handleImportSuccess(e.url);break;case"importFailure":t._handleImportFailure(e.url);break;case"executeSuccess":t._executeSCb();break;case"executeFailure":t._executeFCb()}})}t.prototype.hasDedicatedThread=function(){return this._platformConnection.dedicatedThread},t.prototype.importScript=function(e,t,r){function n(){}this._importCallbacks[e]={sCb:t||n,fCb:r||n},this._platformConnection.send({type:"import",url:e})},t.prototype.importJailedScript=function(e,t,r){function n(){}this._importCallbacks[e]={sCb:t||n,fCb:r||n},this._platformConnection.send({type:"importJailed",url:e})},t.prototype.execute=function(e,t,r){this._executeSCb=t||function(){},this._executeFCb=r||function(){},this._platformConnection.send({type:"execute",code:e})},t.prototype.onMessage=function(e){this._messageHandler=e},t.prototype.onDisconnect=function(e){this._platformConnection.onDisconnect(e)},t.prototype.send=function(e){this._platformConnection.send({type:"message",data:e})},t.prototype._handleImportSuccess=function(e){var t=this._importCallbacks[e].sCb;this._importCallbacks[e]=null,delete this._importCallbacks[e],t()},t.prototype._handleImportFailure=function(e){var t=this._importCallbacks[e].fCb;this._importCallbacks[e]=null,delete this._importCallbacks[e],t()},t.prototype.disconnect=function(){this._platformConnection.disconnect()};function a(e,t){this._path=e,this._initialInterface=t||{},this._connect()}function s(e,t){this._code=e,this._initialInterface=t||{},this._connect()}s.prototype._connect=a.prototype._connect=function(){this.remote=null,this._connect=new n,this._fail=new n,this._disconnect=new n;var e=this;this._fCb=function(){e._fail.emit(),e.disconnect()},this._connection=new t,this._connection.whenInit(function(){e._init()})},s.prototype._init=a.prototype._init=function(){this._site=new JailedSite(this._connection);var e=this;this._site.onDisconnect(function(){e._disconnect.emit()});this._connection.importScript(u+"_JailedSite.js",function(){e._loadCore()},this._fCb)},s.prototype._loadCore=a.prototype._loadCore=function(){var e=this;this._connection.importScript(u+"_pluginCore.js",function(){e._sendInterface()},this._fCb)},s.prototype._sendInterface=a.prototype._sendInterface=function(){var e=this;this._site.onInterfaceSetAsRemote(function(){e._connected||e._loadPlugin()}),this._site.setInterface(this._initialInterface)},a.prototype._loadPlugin=function(){var e=this;this._connection.importJailedScript(this._path,function(){e._requestRemote()},this._fCb)},s.prototype._loadPlugin=function(){var e=this;this._connection.execute(this._code,function(){e._requestRemote()},this._fCb)},s.prototype._requestRemote=a.prototype._requestRemote=function(){var e=this;this._site.onRemoteUpdate(function(){e.remote=e._site.getRemote(),e._connect.emit()}),this._site.requestRemote()},s.prototype.hasDedicatedThread=a.prototype.hasDedicatedThread=function(){return this._connection.hasDedicatedThread()},s.prototype.disconnect=a.prototype.disconnect=function(){this._connection.disconnect(),this._disconnect.emit()},s.prototype.whenFailed=a.prototype.whenFailed=function(e){this._fail.whenEmitted(e)},s.prototype.whenConnected=a.prototype.whenConnected=function(e){this._connect.whenEmitted(e)},s.prototype.whenDisconnected=a.prototype.whenDisconnected=function(e){this._disconnect.whenEmitted(e)},e.Plugin=a,e.DynamicPlugin=s},"function"==typeof define&&define.amd?define(["exports"],n):n(void 0!==i?i:r.jailed={})}).call(this,l("_process"),"/dmkjs/jailed")},{"./_JailedSite.js":7,_process:14,child_process:10}],9:[function(e,t,r){"use strict";var v=this&&this.__awaiter||function(i,a,s,u){return new(s=s||Promise)(function(e,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function n(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(r,n)}o((u=u.apply(i,a||[])).next())})},g=this&&this.__generator||function(r,n){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},n=this;r.__esModule=!0;var b=e("./jailed/jailed"),o=(e("twgl.js"),e("typestyle")),_=e("./editor/codeflask"),E=e("localforage"),w=console.log;console.error;(0,console.clear)();var x=(i.prototype.start=function(){return requestAnimationFrame(this.loop),this},i.prototype.add=function(e){return this.callback_arr.push(e),this},i);function i(e){var r=this;this.loop=function(t){t/=1e3,0<r.frame_count&&r.callback_arr.forEach(function(e){return e(t)}),(r.max_frame<0||r.frame_count<r.max_frame)&&(r.frame_count+=1,r.prev_time=t,requestAnimationFrame(r.loop))},this.callback_arr=[],this.frame_count=0,this.max_frame=-1,this.prev_time=0,"number"==typeof e&&0<=e&&(this.max_frame=e)}var A=(a.prototype.style=function(e){return this.element.className=o.style(e),this},a.prototype.child=function(e){return e instanceof a?this.element.appendChild(e.element):this.element.appendChild(e),this},a);function a(e,t){e instanceof HTMLElement?this.element=e:this.element=document.createElement(e,t)}function T(t,e,r,n){for(var o in t.save(),n)"fill"!==o&&(t[o]=n[o]);var i=r.a,a=r.b,s=r.c,u=r.d,c=r.e,l=r.f;t.transform(i,a,s,u,c,l),t.beginPath(),0<e.length&&(t.moveTo(e[0].x,e[0].y),e.forEach(function(e){t.lineTo(e.x,e.y)}),t.lineTo(e[0].x,e[0].y)),t.stroke(),n&&!0===n.fill&&t.fill(),t.restore()}function S(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(function(e,t,r){return r%2==0?e.push(new s(t,0)):e[e.length-1].y=t,e},new Array)}var s=function(e,t){this.x=0,this.y=0,this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},F=function(e,t,r,n,o,i){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.a="number"==typeof e?e:1,this.b="number"==typeof t?t:0,this.c="number"==typeof r?r:0,this.d="number"==typeof n?n:1,this.e="number"==typeof o?o:0,this.f="number"==typeof i?i:0};v(n,void 0,void 0,function(){var n,o,t,r,i,a,s,u,c,l,f,d,p,h,y,m=this;return g(this,function(e){switch(e.label){case 0:return n=new A("canvas").style({width:400,height:400,display:"block"}).element,o=n.getContext("2d"),n.getContext("webgl2"),t=new x(1),r=new A("div").style({width:400,height:400}).element,new A(document.body).style({overflow:"hidden",display:"flex",flexWrap:"wrap"}).child(n).child(r),i=new _.default(r,{language:"js"}),a="// Code Editor, use Ctrl+S to run code\nconst define = api => application.setInterface({ define:() => api });\n\n// User code start here\ndefine({a:()=>{}})",s="code",[4,E.getItem(s)];case 1:return u=e.sent(),i.updateCode(u||a),c=function(t){return v(m,void 0,void 0,function(){return g(this,function(e){return t&&E.setItem(s,t),[2]})})},document.addEventListener("keydown",function(e){("Enter"===e.key&&!0===e.altKey||"r"===e.key&&!0===e.altKey||"s"===e.key&&!0===e.ctrlKey||"Alt"===e.key)&&e.preventDefault()}),document.addEventListener("keyup",function(e){if("Enter"===e.key&&!0===e.altKey||"r"===e.key&&!0===e.altKey||"s"===e.key&&!0===e.ctrlKey){var t=i.getCode();c(t),h(t)}}),l=function(e,t){return void 0===t&&(t={}),new b.DynamicPlugin(e,t)},p=(f=function(e,t,r){void 0===r&&(r={});var n=l(e,r);return n.whenConnected(function(){return t(n)}),n})(a,d=function(e){var t=e.remote;w(t.define())}),h=function(e){p&&p.disconnect(),p=f(e,d)},t.start(),function(){}(.03),Math.sin,Math.cos,y=function(e){var t=window.devicePixelRatio||1;n.width=n.clientWidth*t,n.height=n.clientHeight*t,o.save(),o.clearRect(0,0,n.width,n.height),o.translate(n.width/2,n.height/2);var r={strokeStyle:"red",fillStyle:"none",lineWidth:8,lineCap:"round",lineJoin:"round"};T(o,S(-100,50,200,0,0,200),new F(1,0,0,-1,100,-100),r),T(o,S(-100,50,200,0,0,200),new F(1,0,0,-1,0,0),r),T(o,S(0,0,0,0,0,0),new F(1,0,0,-1),{strokeStyle:"black",lineWidth:8,lineCap:"round",lineJoin:"round"})},t.add(y),[2]}})})},{"./editor/codeflask":1,"./jailed/jailed":8,localforage:12,"twgl.js":15,typestyle:16}],10:[function(e,t,r){},{}],11:[function(e,t,M){(function(n){"use strict";var o,e=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(M,"__esModule",{value:!0});var _=0;M.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var t=/[A-Z]/g,r=/^ms-/,i=/&/g,a=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,s=function(e){return"-"+e.toLowerCase()},u={"animation-iteration-count":!0,"border-image-outset":!0,"border-image-slice":!0,"border-image-width":!0,"box-flex":!0,"box-flex-group":!0,"box-ordinal-group":!0,"column-count":!0,columns:!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"flex-order":!0,"font-weight":!0,"grid-area":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-span":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-span":!0,"grid-row-start":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"flood-opacity":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0},c=0,l=Object.keys(u);c<l.length;c++)for(var f=l[c],d=0,p=["-webkit-","-ms-","-moz-","-o-",""];d<p.length;d++){u[p[d]+f]=!0}function h(e){return e.replace(t,s).replace(r,"-ms-")}function y(e){for(var t=5381,r=e.length;r--;)t=33*t^e.charCodeAt(r);return(t>>>0).toString(36)}function m(e,t){return"number"!=typeof t||0===t||u.hasOwnProperty(e)?e+":"+t:e+":"+t+"px"}function v(e){return e.sort(function(e,t){return e[0]>t[0]?1:-1})}function b(e,t){for(var r=[],n=[],o=!1,i=0,a=Object.keys(e);i<a.length;i++){var s=a[i],u=e[s];null!=u&&(s===M.IS_UNIQUE?o=!0:"object"!=typeof u||Array.isArray(u)?r.push([h(s.trim()),u]):n.push([s.trim(),u]))}return{style:function(e){return e.map(function(e){var t=e[0],r=e[1];return Array.isArray(r)?r.map(function(e){return m(t,e)}).join(";"):m(t,r)}).join(";")}(v(r)),nested:t?n:v(n),isUnique:o}}function E(e,t){return-1===e.indexOf("&")?t+" "+e:e.replace(i,t)}function w(e,t,r,n,o){var i=b(t,""!==e),a=i.style,s=i.nested,u=i.isUnique,c=a;if(64===e.charCodeAt(0)){var l={selector:e,styles:[],rules:[],style:o?"":a};r.push(l),a&&o&&l.styles.push({selector:o,style:a,isUnique:u});for(var f=0,d=s;f<d.length;f++){var p=d[f];c+=(v=p[0])+w(v,p[1],l.rules,l.styles,o)}}else{var h=o?E(e,o):e;a&&n.push({selector:h,style:a,isUnique:u});for(var y=0,m=s;y<m.length;y++){var v,g=m[y];c+=(v=g[0])+w(v,g[1],r,n,h)}}return c}function x(e,t,r,n,o,i){for(var a=0,s=n;a<s.length;a++){var u=s[a],c=u.selector,l=u.style,f=u.isUnique,d=i?E(c,o):c,p=f?"u\0"+(++_).toString(36):"s\0"+t+"\0"+l;(m=new C(l,p)).add(new F(d,"k\0"+t+"\0"+d)),e.add(m)}for(var h=0,y=r;h<y.length;h++){var m,v=y[h],g=(c=v.selector,l=v.style,v.rules),b=v.styles;x(m=new O(c,l,"r\0"+t+"\0"+c+"\0"+l),t,g,b,o,i),e.add(m)}}function g(e){for(var t="",r=0;r<e.length;r++)t+=e[r];return t}M.escape=function(e){return e.replace(a,"\\$&")},M.hyphenate=h,M.stringHash=y;var A={add:function(){},change:function(){},remove:function(){}},T=(S.prototype.add=function(e){var t=this._counters[e.id]||0,r=this._children[e.id]||e.clone();if(this._counters[e.id]=t+1,0===t)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else if(r instanceof S&&e instanceof S){var n=this._keys.indexOf(e.id),o=r.changeId;r.merge(e),r.changeId!==o&&(this.sheet.splice(n,1,r.getStyles()),this.changeId++,this.changes.change(r,n,n))}return r},S.prototype.remove=function(e){var t=this._counters[e.id];if(void 0!==t&&0<t){this._counters[e.id]=t-1;var r=this._children[e.id],n=this._keys.indexOf(r.id);if(1===t)delete this._counters[e.id],delete this._children[e.id],this._keys.splice(n,1),this.sheet.splice(n,1),this.changeId++,this.changes.remove(r,n);else if(r instanceof S&&e instanceof S){var o=r.changeId;r.unmerge(e),r.changeId!==o&&(this.sheet.splice(n,1,r.getStyles()),this.changeId++,this.changes.change(r,n,n))}}},S.prototype.values=function(){var t=this;return this._keys.map(function(e){return t._children[e]})},S.prototype.merge=function(e){for(var t=0,r=e.values();t<r.length;t++){var n=r[t];this.add(n)}return this},S.prototype.unmerge=function(e){for(var t=0,r=e.values();t<r.length;t++){var n=r[t];this.remove(n)}return this},S.prototype.clone=function(){return(new S).merge(this)},S);function S(e){void 0===e&&(e=A),this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}M.Cache=T;var F=(R.prototype.getStyles=function(){return this.selector},R.prototype.clone=function(){return new R(this.selector,this.id)},R);function R(e,t){this.selector=e,this.id=t}M.Selector=F;var I,C=(e(P,I=T),P.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},P.prototype.clone=function(){return new P(this.style,this.id).merge(this)},P);function P(e,t){var r=I.call(this)||this;return r.style=e,r.id=t,r}M.Style=C;var k,O=(e(j,k=T),j.prototype.getStyles=function(){return this.rule+"{"+this.style+g(this.sheet)+"}"},j.prototype.clone=function(){return new j(this.rule,this.style,this.id).merge(this)},j);function j(e,t,r){var n=k.call(this)||this;return n.rule=e,n.style=t,n.id=r,n}M.Rule=O;var B,U=(e(N,B=T),N.prototype.registerStyle=function(e,t){var r=[],n=[],o=w("&",e,r,n),i="f"+this.hash(o),a=this.debug&&t?t+"_"+i:i;return x(this,o,r,n,"."+M.escape(a),!0),a},N.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},N.prototype.registerHashRule=function(e,t,r){var n=[],o=[],i=w("",t,n,o),a="f"+this.hash(i),s=this.debug&&r?r+"_"+a:a,u=new O(e+" "+M.escape(s),"","h\0"+i+"\0"+e);return x(u,i,n,o,"",!1),this.add(u),s},N.prototype.registerRule=function(e,t){var r=[],n=[];x(this,w(e,t,r,n),r,n,"",!1)},N.prototype.registerCss=function(e){return this.registerRule("",e)},N.prototype.getStyles=function(){return g(this.sheet)},N.prototype.clone=function(){return new N(this.hash,this.debug,this.id,this.changes).merge(this)},N);function N(e,t,r,n){var o=B.call(this,n)||this;return o.hash=e,o.debug=t,o.id=r,o}M.FreeStyle=U,M.create=function(e,t,r){return void 0===e&&(e=y),void 0===t&&(t=void 0!==n&&"production"!==n.env.NODE_ENV),void 0===r&&(r=A),new U(e,t,"f"+(++_).toString(36),r)}}).call(this,e("_process"))},{_process:14}],12:[function(f,t,r){(function(n){!function(e){if("object"==typeof r&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).localforage=e()}}(function(){return function i(a,s,u){function c(r,e){if(!s[r]){if(!a[r]){var t="function"==typeof f&&f;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[r]={exports:{}};a[r][0].call(o.exports,function(e){var t=a[r][1][e];return c(t||e)},o,o.exports,i,a,s,u)}return s[r].exports}for(var l="function"==typeof f&&f,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,l,t){(function(t){"use strict";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var o=0,i=new e(c),a=t.document.createTextNode("");i.observe(a,{characterData:!0}),r=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var s=new t.MessageChannel;s.port1.onmessage=c,r=function(){s.port2.postMessage(0)}}var u=[];function c(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}l.exports=function(e){1!==u.push(e)||n||r()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var o=e(1);function c(){}var l={},i=["REJECTED"],a=["FULFILLED"],n=["PENDING"];function s(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=n,this.queue=[],this.outcome=void 0,e!==c&&p(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){o(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError("Cannot resolve promise with itself")):l.resolve(t,e)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function o(e){r||(r=!0,l.resolve(t,e))}var i=h(function(){e(o,n)});"error"===i.status&&n(i.value)}function h(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=s).prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===i)return this;var r=new this.constructor(c);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new u(r,e,t));return r},u.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){l.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=h(d,t);if("error"===r.status)return l.reject(e,r.value);var n=r.value;if(n)p(e,n);else{e.state=a,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},l.reject=function(e,t){e.state=i,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},s.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(c),e)},s.reject=function(e){var t=new this(c);return l.reject(t,e)},s.all=function(e){var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);var i=new Array(n),a=0,t=-1,s=new this(c);for(;++t<n;)u(e[t],t);return s;function u(e,t){r.resolve(e).then(function(e){i[t]=e,++a!==n||o||(o=!0,l.resolve(s,i))},function(e){o||(o=!0,l.reject(s,e))})}},s.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var o=-1,i=new this(c);for(;++o<r;)a=e[o],t.resolve(a).then(function(e){n||(n=!0,l.resolve(i,e))},function(e){n||(n=!0,l.reject(i,e))});var a;return i}},{1:1}],3:[function(t,e,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(t,r){t=t||[],r=r||{};try{return new Blob(t,r)}catch(e){if("TypeError"!==e.name)throw e;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(r.type)}}"undefined"==typeof Promise&&e(3);var f=Promise;function d(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function u(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function p(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function i(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var c="local-forage-detect-blob-support",o=void 0,l={},h=Object.prototype.toString,y="readonly",m="readwrite";function v(e){return"boolean"==typeof o?f.resolve(o):function(n){return new f(function(r){var e=n.transaction(c,m),t=a([""]);e.objectStore(c).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),r(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);r(t||!e||43<=parseInt(e[1],10))}}).catch(function(){return!1})}(e).then(function(e){return o=e})}function g(e){var t=l[e.name],r={};r.promise=new f(function(e,t){r.resolve=e,r.reject=t}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function b(e){var t=l[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function _(e,t){var r=l[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function E(o,i){return new f(function(e,t){if(l[o.name]=l[o.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},o.db){if(!i)return e(o.db);g(o),o.db.close()}var r=[o.name];i&&r.push(o.version);var n=s.open.apply(s,r);i&&(n.onupgradeneeded=function(t){var e=n.result;try{e.createObjectStore(o.storeName),t.oldVersion<=1&&e.createObjectStore(c)}catch(e){if("ConstraintError"!==e.name)throw e;console.warn('The database "'+o.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+o.storeName+'" already exists.')}}),n.onerror=function(e){e.preventDefault(),t(n.error)},n.onsuccess=function(){e(n.result),b(o)}})}function w(e){return E(e,!1)}function x(e){return E(e,!0)}function A(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function T(e){return a([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}(atob(e.data))],{type:e.type})}function S(e){return e&&e.__local_forage_encoded_blob}function F(e){var t=this,r=t._initReady().then(function(){var e=l[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return u(r,e,e),r}function R(t,r,n,o){void 0===o&&(o=1);try{var e=t.db.transaction(t.storeName,r);n(null,e)}catch(e){if(0<o&&(!t.db||"InvalidStateError"===e.name||"NotFoundError"===e.name))return f.resolve().then(function(){if(!t.db||"NotFoundError"===e.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),x(t)}).then(function(){return function(r){g(r);for(var n=l[r.name],o=n.forages,e=0;e<o.length;e++){var t=o[e];t._dbInfo.db&&(t._dbInfo.db.close(),t._dbInfo.db=null)}return r.db=null,w(r).then(function(e){return r.db=e,A(r)?x(r):e}).then(function(e){r.db=n.db=e;for(var t=0;t<o.length;t++)o[t]._dbInfo.db=e}).catch(function(e){throw _(r,e),e})}(t).then(function(){R(t,r,n,o-1)})}).catch(n);n(e)}}var I={_driver:"asyncStorage",_initStorage:function(e){var n=this,o={db:null};if(e)for(var t in e)o[t]=e[t];var i=l[o.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},l[o.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=F);var r=[];function a(){return f.resolve()}for(var s=0;s<i.forages.length;s++){var u=i.forages[s];u!==n&&r.push(u._initReady().catch(a))}var c=i.forages.slice(0);return f.all(r).then(function(){return o.db=i.db,w(o)}).then(function(e){return o.db=e,A(o,n._defaultConfig.version)?x(o):e}).then(function(e){o.db=i.db=e,n._dbInfo=o;for(var t=0;t<c.length;t++){var r=c[t];r!==n&&(r._dbInfo.db=o.db,r._dbInfo.version=o.version)}})},_support:function(){try{if(!s)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(a,e){var s=this,t=new f(function(i,r){s.ready().then(function(){R(s._dbInfo,y,function(e,t){if(e)return r(e);try{var n=t.objectStore(s._dbInfo.storeName).openCursor(),o=1;n.onsuccess=function(){var e=n.result;if(e){var t=e.value;S(t)&&(t=T(t));var r=a(t,e.key,o++);void 0!==r?i(r):e.continue()}else i()},n.onerror=function(){r(n.error)}}catch(e){r(e)}})}).catch(r)});return d(t,e),t},getItem:function(i,e){var a=this;i=p(i);var t=new f(function(n,o){a.ready().then(function(){R(a._dbInfo,y,function(e,t){if(e)return o(e);try{var r=t.objectStore(a._dbInfo.storeName).get(i);r.onsuccess=function(){var e=r.result;void 0===e&&(e=null),S(e)&&(e=T(e)),n(e)},r.onerror=function(){o(r.error)}}catch(e){o(e)}})}).catch(o)});return d(t,e),t},setItem:function(s,t,e){var u=this;s=p(s);var r=new f(function(i,a){var e;u.ready().then(function(){return e=u._dbInfo,"[object Blob]"===h.call(t)?v(e.db).then(function(e){return e?t:function(n){return new f(function(r,e){var t=new FileReader;t.onerror=e,t.onloadend=function(e){var t=btoa(e.target.result||"");r({__local_forage_encoded_blob:!0,data:t,type:n.type})},t.readAsBinaryString(n)})}(t)}):t}).then(function(o){R(u._dbInfo,m,function(e,t){if(e)return a(e);try{var r=t.objectStore(u._dbInfo.storeName);null===o&&(o=void 0);var n=r.put(o,s);t.oncomplete=function(){void 0===o&&(o=null),i(o)},t.onabort=t.onerror=function(){var e=n.error?n.error:n.transaction.error;a(e)}}catch(e){a(e)}})}).catch(a)});return d(r,e),r},removeItem:function(i,e){var a=this;i=p(i);var t=new f(function(n,o){a.ready().then(function(){R(a._dbInfo,m,function(e,t){if(e)return o(e);try{var r=t.objectStore(a._dbInfo.storeName).delete(i);t.oncomplete=function(){n()},t.onerror=function(){o(r.error)},t.onabort=function(){var e=r.error?r.error:r.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return d(t,e),t},clear:function(e){var i=this,t=new f(function(n,o){i.ready().then(function(){R(i._dbInfo,m,function(e,t){if(e)return o(e);try{var r=t.objectStore(i._dbInfo.storeName).clear();t.oncomplete=function(){n()},t.onabort=t.onerror=function(){var e=r.error?r.error:r.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return d(t,e),t},length:function(e){var i=this,t=new f(function(n,o){i.ready().then(function(){R(i._dbInfo,y,function(e,t){if(e)return o(e);try{var r=t.objectStore(i._dbInfo.storeName).count();r.onsuccess=function(){n(r.result)},r.onerror=function(){o(r.error)}}catch(e){o(e)}})}).catch(o)});return d(t,e),t},key:function(s,e){var u=this,t=new f(function(i,a){s<0?i(null):u.ready().then(function(){R(u._dbInfo,y,function(e,t){if(e)return a(e);try{var r=t.objectStore(u._dbInfo.storeName),n=!1,o=r.openCursor();o.onsuccess=function(){var e=o.result;e?0===s?i(e.key):n?i(e.key):(n=!0,e.advance(s)):i(null)},o.onerror=function(){a(o.error)}}catch(e){a(e)}})}).catch(a)});return d(t,e),t},keys:function(e){var a=this,t=new f(function(o,i){a.ready().then(function(){R(a._dbInfo,y,function(e,t){if(e)return i(e);try{var r=t.objectStore(a._dbInfo.storeName).openCursor(),n=[];r.onsuccess=function(){var e=r.result;e?(n.push(e.key),e.continue()):o(n)},r.onerror=function(){i(r.error)}}catch(e){i(e)}})}).catch(i)});return d(t,e),t},dropInstance:function(a,e){e=i.apply(this,arguments);var t,r=this.config();if((a="function"!=typeof a&&a||{}).name||(a.name=a.name||r.name,a.storeName=a.storeName||r.storeName),a.name){var n=a.name===r.name&&this._dbInfo.db?f.resolve(this._dbInfo.db):w(a).then(function(e){var t=l[a.name],r=t.forages;t.db=e;for(var n=0;n<r.length;n++)r[n]._dbInfo.db=e;return e});t=a.storeName?n.then(function(e){if(e.objectStoreNames.contains(a.storeName)){var o=e.version+1;g(a);var n=l[a.name],i=n.forages;e.close();for(var t=0;t<i.length;t++){var r=i[t];r._dbInfo.db=null,r._dbInfo.version=o}return new f(function(t,r){var n=s.open(a.name,o);n.onerror=function(e){n.result.close(),r(e)},n.onupgradeneeded=function(){n.result.deleteObjectStore(a.storeName)},n.onsuccess=function(){var e=n.result;e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<i.length;t++){var r=i[t];r._dbInfo.db=e,b(r._dbInfo)}}).catch(function(e){throw(_(a,e)||f.resolve()).catch(function(){}),e})}}):n.then(function(e){g(a);var r=l[a.name],n=r.forages;e.close();for(var t=0;t<n.length;t++){n[t]._dbInfo.db=null}return new f(function(t,r){var n=s.deleteDatabase(a.name);n.onerror=n.onblocked=function(e){var t=n.result;t&&t.close(),r(e)},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<n.length;t++){b(n[t]._dbInfo)}}).catch(function(e){throw(_(a,e)||f.resolve()).catch(function(){}),e})})}else t=f.reject("Invalid arguments");return d(t,e),t}};var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",O=k.length,j="arbf",B="blob",U=O+j.length,N=Object.prototype.toString;function M(e){var t,r,n,o,i,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)r=C.indexOf(e[t]),n=C.indexOf(e[t+1]),o=C.indexOf(e[t+2]),i=C.indexOf(e[t+3]),l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c}function L(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=C[r[t]>>2],n+=C[(3&r[t])<<4|r[t+1]>>4],n+=C[(15&r[t+1])<<2|r[t+2]>>6],n+=C[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var D={serialize:function(t,r){var e="";if(t&&(e=N.call(t)),t&&("[object ArrayBuffer]"===e||t.buffer&&"[object ArrayBuffer]"===N.call(t.buffer))){var n,o=k;t instanceof ArrayBuffer?(n=t,o+=j):(n=t.buffer,"[object Int8Array]"===e?o+="si08":"[object Uint8Array]"===e?o+="ui08":"[object Uint8ClampedArray]"===e?o+="uic8":"[object Int16Array]"===e?o+="si16":"[object Uint16Array]"===e?o+="ur16":"[object Int32Array]"===e?o+="si32":"[object Uint32Array]"===e?o+="ui32":"[object Float32Array]"===e?o+="fl32":"[object Float64Array]"===e?o+="fl64":r(new Error("Failed to get type for BinaryArray"))),r(o+L(n))}else if("[object Blob]"===e){var i=new FileReader;i.onload=function(){var e="~~local_forage_type~"+t.type+"~"+L(this.result);r(k+B+e)},i.readAsArrayBuffer(t)}else try{r(JSON.stringify(t))}catch(e){console.error("Couldn't convert value into a JSON string: ",t),r(null,e)}},deserialize:function(e){if(e.substring(0,O)!==k)return JSON.parse(e);var t,r=e.substring(U),n=e.substring(O,U);if(n===B&&P.test(r)){var o=r.match(P);t=o[1],r=r.substring(o[0].length)}var i=M(r);switch(n){case j:return i;case B:return a([i],{type:t});case"si08":return new Int8Array(i);case"ui08":return new Uint8Array(i);case"uic8":return new Uint8ClampedArray(i);case"si16":return new Int16Array(i);case"ur16":return new Uint16Array(i);case"si32":return new Int32Array(i);case"ui32":return new Uint32Array(i);case"fl32":return new Float32Array(i);case"fl64":return new Float64Array(i);default:throw new Error("Unkown type: "+n)}},stringToBuffer:M,bufferToString:L};function z(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function G(e,n,o,i,a,s){e.executeSql(o,i,a,function(e,r){r.code===r.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(e,t){t.rows.length?s(e,r):z(e,n,function(){e.executeSql(o,i,a,s)},s)},s):s(e,r)},s)}var W={_driver:"webSQLStorage",_initStorage:function(e){var n=this,o={db:null};if(e)for(var t in e)o[t]="string"!=typeof e[t]?e[t].toString():e[t];var r=new f(function(t,r){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(e){return r(e)}o.db.transaction(function(e){z(e,o,function(){n._dbInfo=o,t()},function(e,t){r(t)})},r)});return o.serializer=D,r},_support:"function"==typeof openDatabase,iterate:function(c,e){var t=this,r=new f(function(u,r){t.ready().then(function(){var s=t._dbInfo;s.db.transaction(function(e){G(e,s,"SELECT * FROM "+s.storeName,[],function(e,t){for(var r=t.rows,n=r.length,o=0;o<n;o++){var i=r.item(o),a=i.value;if(a=a&&s.serializer.deserialize(a),void 0!==(a=c(a,i.key,o+1)))return void u(a)}u()},function(e,t){r(t)})})}).catch(r)});return d(r,e),r},getItem:function(t,e){var i=this;t=p(t);var r=new f(function(o,r){i.ready().then(function(){var n=i._dbInfo;n.db.transaction(function(e){G(e,n,"SELECT * FROM "+n.storeName+" WHERE key = ? LIMIT 1",[t],function(e,t){var r=t.rows.length?t.rows.item(0).value:null;r=r&&n.serializer.deserialize(r),o(r)},function(e,t){r(t)})})}).catch(r)});return d(r,e),r},setItem:function(e,t,r){return function a(s,e,u,c){var l=this;s=p(s);var t=new f(function(o,i){l.ready().then(function(){void 0===e&&(e=null);var r=e,n=l._dbInfo;n.serializer.serialize(e,function(t,e){e?i(e):n.db.transaction(function(e){G(e,n,"INSERT OR REPLACE INTO "+n.storeName+" (key, value) VALUES (?, ?)",[s,t],function(){o(r)},function(e,t){i(t)})},function(e){if(e.code===e.QUOTA_ERR){if(0<c)return void o(a.apply(l,[s,r,u,c-1]));i(e)}})})}).catch(i)});return d(t,u),t}.apply(this,[e,t,r,1])},removeItem:function(o,e){var i=this;o=p(o);var t=new f(function(r,n){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){G(e,t,"DELETE FROM "+t.storeName+" WHERE key = ?",[o],function(){r()},function(e,t){n(t)})})}).catch(n)});return d(t,e),t},clear:function(e){var o=this,t=new f(function(r,n){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){G(e,t,"DELETE FROM "+t.storeName,[],function(){r()},function(e,t){n(t)})})}).catch(n)});return d(t,e),t},length:function(e){var o=this,t=new f(function(n,r){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){G(e,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(e,t){var r=t.rows.item(0).c;n(r)},function(e,t){r(t)})})}).catch(r)});return d(t,e),t},key:function(o,e){var i=this,t=new f(function(n,r){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){G(e,t,"SELECT key FROM "+t.storeName+" WHERE id = ? LIMIT 1",[o+1],function(e,t){var r=t.rows.length?t.rows.item(0).key:null;n(r)},function(e,t){r(t)})})}).catch(r)});return d(t,e),t},keys:function(e){var n=this,t=new f(function(o,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(e){G(e,t,"SELECT key FROM "+t.storeName,[],function(e,t){for(var r=[],n=0;n<t.rows.length;n++)r.push(t.rows.item(n).key);o(r)},function(e,t){r(t)})})}).catch(r)});return d(t,e),t},dropInstance:function(r,e){e=i.apply(this,arguments);var n=this.config();(r="function"!=typeof r&&r||{}).name||(r.name=r.name||n.name,r.storeName=r.storeName||n.storeName);var t,o=this;return d(t=r.name?new f(function(e){var t;t=r.name===n.name?o._dbInfo.db:openDatabase(r.name,"","",0),r.storeName?e({db:t,storeNames:[r.storeName]}):e(function(i){return new f(function(o,r){i.transaction(function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,t){for(var r=[],n=0;n<t.rows.length;n++)r.push(t.rows.item(n).name);o({db:i,storeNames:r})},function(e,t){r(t)})},function(e){r(e)})})}(t))}).then(function(s){return new f(function(i,a){s.db.transaction(function(n){function e(t){return new f(function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(e,t){r(t)})})}for(var t=[],r=0,o=s.storeNames.length;r<o;r++)t.push(e(s.storeNames[r]));f.all(t).then(function(){i()}).catch(function(e){a(e)})},function(e){a(e)})})}):f.reject("Invalid arguments"),e),t}};function X(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function H(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||0<localStorage.length}function V(e,t){for(var r,n,o=e.length,i=0;i<o;){if((r=e[i])===(n=t)||"number"==typeof r&&"number"==typeof n&&isNaN(r)&&isNaN(n))return!0;i++}return!1}var K={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=X(e,this._defaultConfig),H()?((this._dbInfo=t).serializer=D,f.resolve()):f.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(u,e){var c=this,t=c.ready().then(function(){for(var e=c._dbInfo,t=e.keyPrefix,r=t.length,n=localStorage.length,o=1,i=0;i<n;i++){var a=localStorage.key(i);if(0===a.indexOf(t)){var s=localStorage.getItem(a);if(s=s&&e.serializer.deserialize(s),void 0!==(s=u(s,a.substring(r),o++)))return s}}});return d(t,e),t},getItem:function(r,e){var n=this;r=p(r);var t=n.ready().then(function(){var e=n._dbInfo,t=localStorage.getItem(e.keyPrefix+r);return t=t&&e.serializer.deserialize(t)});return d(t,e),t},setItem:function(a,e,t){var s=this;a=p(a);var r=s.ready().then(function(){void 0===e&&(e=null);var i=e;return new f(function(r,n){var o=s._dbInfo;o.serializer.serialize(e,function(e,t){if(t)n(t);else try{localStorage.setItem(o.keyPrefix+a,e),r(i)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||n(e),n(e)}})})});return d(r,t),r},removeItem:function(t,e){var r=this;t=p(t);var n=r.ready().then(function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return d(n,e),n},clear:function(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=localStorage.length-1;0<=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}});return d(t,e),t},length:function(e){var t=this.keys().then(function(e){return e.length});return d(t,e),t},key:function(r,e){var n=this,t=n.ready().then(function(){var t,e=n._dbInfo;try{t=localStorage.key(r)}catch(e){t=null}return t=t&&t.substring(e.keyPrefix.length)});return d(t,e),t},keys:function(e){var i=this,t=i.ready().then(function(){for(var e=i._dbInfo,t=localStorage.length,r=[],n=0;n<t;n++){var o=localStorage.key(n);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return d(t,e),t},dropInstance:function(t,e){if(e=i.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,o=this;return d(n=t.name?new f(function(e){t.storeName?e(X(t,o._defaultConfig)):e(t.name+"/")}).then(function(e){for(var t=localStorage.length-1;0<=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}}):f.reject("Invalid arguments"),e),n}},Y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},q={},$={},J={INDEXEDDB:I,WEBSQL:W,LOCALSTORAGE:K},Z=[J.INDEXEDDB._driver,J.WEBSQL._driver,J.LOCALSTORAGE._driver],Q=["dropInstance"],ee=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Q),te={description:"",driver:Z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function re(t,r){t[r]=function(){var e=arguments;return t.ready().then(function(){return t[r].apply(t,e)})}}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];if(r)for(var n in r)r.hasOwnProperty(n)&&(Y(r[n])?e[n]=r[n].slice():e[n]=r[n])}return e}function oe(e){for(var t in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,oe),J)if(J.hasOwnProperty(t)){var r=J[t],n=r._driver;this[t]=n,q[n]||this.defineDriver(r)}this._defaultConfig=ne({},te),this._config=ne({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}var ie=new(oe.prototype.config=function(e){if("object"!==(void 0===e?"undefined":n(e)))return"string"==typeof e?this._config[e]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)},oe.prototype.defineDriver=function(c,e,t){var r=new f(function(t,r){try{var n=c._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!c._driver)return void r(e);for(var o=ee.concat("_initStorage"),i=0,a=o.length;i<a;i++){var s=o[i];if((!V(Q,s)||c[s])&&"function"!=typeof c[s])return void r(e)}!function(){for(var e=function(r){return function(){var e=new Error("Method "+r+" is not implemented by the current driver"),t=f.reject(e);return d(t,arguments[arguments.length-1]),t}},t=0,r=Q.length;t<r;t++){var n=Q[t];c[n]||(c[n]=e(n))}}();var u=function(e){q[n]&&console.info("Redefining LocalForage driver: "+n),q[n]=c,$[n]=e,t()};"_support"in c?c._support&&"function"==typeof c._support?c._support().then(u,r):u(!!c._support):u(!0)}catch(e){r(e)}});return u(r,e,t),r},oe.prototype.driver=function(){return this._driver||null},oe.prototype.getDriver=function(e,t,r){var n=q[e]?f.resolve(q[e]):f.reject(new Error("Driver not found."));return u(n,t,r),n},oe.prototype.getSerializer=function(e){var t=f.resolve(D);return u(t,e),t},oe.prototype.ready=function(e){var t=this,r=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return u(r,e,e),r},oe.prototype.setDriver=function(e,t,r){var i=this;Y(e)||(e=[e]);var n=this._getSupportedDrivers(e);function a(){i._config.driver=i.driver()}function s(e){return i._extend(e),a(),i._ready=i._initStorage(i._config),i._ready}var o=null!==this._driverSet?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=o.then(function(){var e=n[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then(function(e){i._driver=e._driver,a(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(o){return function(){var n=0;return function e(){for(;n<o.length;){var t=o[n];return n++,i._dbInfo=null,i._ready=null,i.getDriver(t).then(s).catch(e)}a();var r=new Error("No available storage method found.");return i._driverSet=f.reject(r),i._driverSet}()}}(n)})}).catch(function(){a();var e=new Error("No available storage method found.");return i._driverSet=f.reject(e),i._driverSet}),u(this._driverSet,t,r),this._driverSet},oe.prototype.supports=function(e){return!!$[e]},oe.prototype._extend=function(e){ne(this,e)},oe.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];this.supports(o)&&t.push(o)}return t},oe.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ee.length;e<t;e++)re(this,ee[e])},oe.prototype.createInstance=function(e){return new oe(e)},oe);t.exports=ie},{3:3}]},{},[4])(4)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,r){(function(e){var c=function(c){var l=/\blang(?:uage)?-([\w-]+)\b/i,t=0,P={manual:c.Prism&&c.Prism.manual,disableWorkerMessageHandler:c.Prism&&c.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof k?new k(e.type,P.util.encode(e.content),e.alias):Array.isArray(e)?e.map(P.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function r(e,n){var o,t,i=P.util.type(e);switch(n=n||{},i){case"Object":if(t=P.util.objId(e),n[t])return n[t];for(var a in o={},n[t]=o,e)e.hasOwnProperty(a)&&(o[a]=r(e[a],n));return o;case"Array":return t=P.util.objId(e),n[t]?n[t]:(o=[],n[t]=o,e.forEach(function(e,t){o[t]=r(e,n)}),o);default:return e}}},languages:{extend:function(e,t){var r=P.util.clone(P.languages[e]);for(var n in t)r[n]=t[n];return r},insertBefore:function(r,e,t,n){var o=(n=n||P.languages)[r],i={};for(var a in o)if(o.hasOwnProperty(a)){if(a==e)for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);t.hasOwnProperty(a)||(i[a]=o[a])}var u=n[r];return n[r]=i,P.languages.DFS(P.languages,function(e,t){t===u&&e!=r&&(this[e]=i)}),i},DFS:function e(t,r,n,o){o=o||{};var i=P.util.objId;for(var a in t)if(t.hasOwnProperty(a)){r.call(t,a,t[a],n||a);var s=t[a],u=P.util.type(s);"Object"!==u||o[i(s)]?"Array"!==u||o[i(s)]||(o[i(s)]=!0,e(s,r,a,o)):(o[i(s)]=!0,e(s,r,null,o))}}},plugins:{},highlightAll:function(e,t){P.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,r){var n={callback:r,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};P.hooks.run("before-highlightall",n);for(var o,i=n.elements||e.querySelectorAll(n.selector),a=0;o=i[a++];)P.highlightElement(o,!0===t,n.callback)},highlightElement:function(e,t,r){for(var n,o,i=e;i&&!l.test(i.className);)i=i.parentNode;i&&(n=(i.className.match(l)||[,""])[1].toLowerCase(),o=P.languages[n]),e.className=e.className.replace(l,"").replace(/\s+/g," ")+" language-"+n,e.parentNode&&(i=e.parentNode,/pre/i.test(i.nodeName)&&(i.className=i.className.replace(l,"").replace(/\s+/g," ")+" language-"+n));function a(e){s.highlightedCode=e,P.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,P.hooks.run("after-highlight",s),P.hooks.run("complete",s),r&&r.call(s.element)}var s={element:e,language:n,grammar:o,code:e.textContent};if(P.hooks.run("before-sanity-check",s),s.code)if(P.hooks.run("before-highlight",s),s.grammar)if(t&&c.Worker){var u=new Worker(P.filename);u.onmessage=function(e){a(e.data)},u.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else a(P.highlight(s.code,s.grammar,s.language));else a(P.util.encode(s.code));else P.hooks.run("complete",s)},highlight:function(e,t,r){var n={code:e,grammar:t,language:r};return P.hooks.run("before-tokenize",n),n.tokens=P.tokenize(n.code,n.grammar),P.hooks.run("after-tokenize",n),k.stringify(P.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,o,i,a){for(var s in r)if(r.hasOwnProperty(s)&&r[s]){if(s==a)return;var u=r[s];u="Array"===P.util.type(u)?u:[u];for(var c=0;c<u.length;++c){var l=u[c],f=l.inside,d=!!l.lookbehind,p=!!l.greedy,h=0,y=l.alias;if(p&&!l.pattern.global){var m=l.pattern.toString().match(/[imuy]*$/)[0];l.pattern=RegExp(l.pattern.source,m+"g")}l=l.pattern||l;for(var v=n,g=o;v<t.length;g+=t[v].length,++v){var b=t[v];if(t.length>e.length)return;if(!(b instanceof k)){if(p&&v!=t.length-1){if(l.lastIndex=g,!(T=l.exec(e)))break;for(var _=T.index+(d?T[1].length:0),E=T.index+T[0].length,w=v,x=g,A=t.length;w<A&&(x<E||!t[w].type&&!t[w-1].greedy);++w)(x+=t[w].length)<=_&&(++v,g=x);if(t[v]instanceof k)continue;S=w-v,b=e.slice(g,x),T.index-=g}else{l.lastIndex=0;var T=l.exec(b),S=1}if(T){d&&(h=T[1]?T[1].length:0);E=(_=T.index+h)+(T=T[0].slice(h)).length;var F=b.slice(0,_),R=b.slice(E),I=[v,S];F&&(++v,g+=F.length,I.push(F));var C=new k(s,f?P.tokenize(T,f):T,y,T,p);if(I.push(C),R&&I.push(R),Array.prototype.splice.apply(t,I),1!=S&&P.matchGrammar(e,t,r,v,g,!0,s),i)break}else if(i)break}}}}},tokenize:function(e,t){var r=[e],n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}return P.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){var r=P.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=P.hooks.all[e];if(r&&r.length)for(var n,o=0;n=r[o++];)n(t)}},Token:k};function k(e,t,r,n,o){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length,this.greedy=!!o}if(c.Prism=P,k.stringify=function(t,r,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map(function(e){return k.stringify(e,r,t)}).join("");var n={type:t.type,content:k.stringify(t.content,r,e),tag:"span",classes:["token",t.type],attributes:{},language:r,parent:e};if(t.alias){var o=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(n.classes,o)}P.hooks.run("wrap",n);var i=Object.keys(n.attributes).map(function(e){return e+'="'+(n.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(i?" "+i:"")+">"+n.content+"</"+n.tag+">"},!c.document)return c.addEventListener&&(P.disableWorkerMessageHandler||c.addEventListener("message",function(e){var t=JSON.parse(e.data),r=t.language,n=t.code,o=t.immediateClose;c.postMessage(P.highlight(n,P.languages[r],r)),o&&c.close()},!1)),P;var e=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return e&&(P.filename=e.src,P.manual||e.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(P.highlightAll):window.setTimeout(P.highlightAll,16):document.addEventListener("DOMContentLoaded",P.highlightAll))),P}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});void 0!==t&&t.exports&&(t.exports=c),void 0!==e&&(e.Prism=c),c.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},c.languages.markup.tag.inside["attr-value"].inside.entity=c.languages.markup.entity,c.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(c.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:c.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var n={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};n["language-"+t]={pattern:/[\s\S]+/,inside:c.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:n},c.languages.insertBefore("markup","cdata",o)}}),c.languages.xml=c.languages.extend("markup",{}),c.languages.html=c.languages.markup,c.languages.mathml=c.languages.markup,c.languages.svg=c.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+t.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:r.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},r.tag))}(c),c.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},c.languages.javascript=c.languages.extend("clike",{"class-name":[c.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),c.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,c.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:c.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:c.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:c.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:c.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),c.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:c.languages.javascript}},string:/[\s\S]+/}}}),c.languages.markup&&c.languages.markup.tag.addInlined("script","javascript"),c.languages.js=c.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var u={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach(function(e){if(!e.hasAttribute("data-src-loaded")){for(var t,r=e.getAttribute("data-src"),n=e,o=/\blang(?:uage)?-([\w-]+)\b/i;n&&!o.test(n.className);)n=n.parentNode;if(n&&(t=(e.className.match(o)||[,""])[1]),!t){var i=(r.match(/\.(\w+)$/)||[,""])[1];t=u[i]||i}var a=document.createElement("code");a.className="language-"+t,e.textContent="",a.textContent="Loading",e.appendChild(a);var s=new XMLHttpRequest;s.open("GET",r,!0),s.onreadystatechange=function(){4==s.readyState&&(s.status<400&&s.responseText?(a.textContent=s.responseText,c.highlightElement(a),e.setAttribute("data-src-loaded","")):400<=s.status?a.textContent=" Error "+s.status+" while fetching file: "+s.statusText:a.textContent=" Error: File does not exist or is empty")},s.send(null)}}),c.plugins.toolbar&&c.plugins.toolbar.registerButton("download-file",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var r=t.getAttribute("data-src"),n=document.createElement("a");return n.textContent=t.getAttribute("data-download-link-label")||"Download",n.setAttribute("download",""),n.href=r,n}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,r){var n,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!f){var e=u(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new y(e,t)),1!==l.length||f||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],15:[function(e,t,r){var n,o;n="undefined"!=typeof self?self:this,o=function(){return n={},o.m=r={"./src/attributes.js":function(e,t,r){"use strict";t.__esModule=!0,t.createAttribsFromArrays=c,t.createBuffersFromArrays=function(t,r){var n={};Object.keys(r).forEach(function(e){n[e]=f(t,r[e],e)}),r.indices?(n.numElements=r.indices.length,n.elementType=h.getGLTypeForTypedArray(_(r.indices),"indices")):n.numElements=function(e){var t,r;for(r=0;r<l.length&&!((t=l[r])in e);++r);r===l.length&&(t=Object.keys(e)[0]);var n=e[t],o=s(n).length,i=b(n,t),a=o/i;if(0<o%i)throw new Error("numComponents ".concat(i," not correct for length ").concat(o));return a}(r);return n},t.createBufferFromArray=f,t.createBufferFromTypedArray=m,t.createBufferInfoFromArrays=function(e,t,r){var n=c(e,t),o=Object.assign({},r||{});o.attribs=Object.assign({},r?r.attribs:{},n);var i=t.indices;if(i){var a=_(i,"indices");o.indices=m(e,a,e.ELEMENT_ARRAY_BUFFER),o.numElements=a.length,o.elementType=h.getGLTypeForTypedArray(a)}else o.numElements||(o.numElements=function(e,t){var r,n;for(n=0;n<l.length&&!((r=l[n])in t)&&!((r=y.attribPrefix+r)in t);++n);n===l.length&&(r=Object.keys(t)[0]);var o=t[r];e.bindBuffer(e.ARRAY_BUFFER,o.buffer);var i=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var a=function(e,t){return t===e.BYTE?1:t===e.UNSIGNED_BYTE?1:t===e.SHORT?2:t===e.UNSIGNED_SHORT?2:t===e.INT?4:t===e.UNSIGNED_INT?4:t===e.FLOAT?4:0}(e,o.type),s=i/a,u=o.numComponents||o.size,c=s/u;if(c%1==0)return c;throw new Error("numComponents ".concat(u," not correct for length ").concat(length))}(e,o.attribs));return o},t.setAttribInfoBufferFromArray=function(e,t,r,n){r=_(r),void 0!==n?(e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,r)):a(e,e.ARRAY_BUFFER,t.buffer,r,t.drawType)},t.setAttributePrefix=function(e){y.attribPrefix=e},t.setAttributeDefaults_=function(e){i.copyExistingProperties(e,y)},t.getNumComponents_=b,t.getArray_=s;var h=n(r("./src/typedarrays.js")),i=n(r("./src/helper.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var y={attribPrefix:""};function a(e,t,r,n,o){e.bindBuffer(t,r),e.bufferData(t,n,o||e.STATIC_DRAW)}function m(e,t,r,n){if(i.isBuffer(e,t))return t;r=r||e.ARRAY_BUFFER;var o=e.createBuffer();return a(e,r,o,t,n),o}function v(e){return"indices"===e}function s(e){return e.length?e:e.data}var o=/coord|texture/i,u=/color|colour/i;function g(e,t){var r;if(0<t%(r=o.test(e)?2:u.test(e)?4:3))throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(r," but ").concat(t," values is not evenly divisible by ").concat(r,". You should specify it."));return r}function b(e,t){return e.numComponents||e.size||g(t,s(e).length)}function _(e,t){if(h.isArrayBuffer(e))return e;if(h.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var r=e.type;return new(r=r||(v(t)?Uint16Array:Float32Array))(e.data)}function c(f,d){var p={};return Object.keys(d).forEach(function(e){if(!v(e)){var t=d[e],r=t.attrib||t.name||t.attribName||y.attribPrefix+e;if(t.value){if(!Array.isArray(t.value)&&!h.isArrayBuffer(t.value))throw new Error("array.value is not array or typedarray");p[r]={value:t.value}}else{var n,o,i,a;if(t.buffer&&t.buffer instanceof WebGLBuffer)n=t.buffer,a=t.numComponents||t.size,o=t.type,i=t.normalize;else if("number"==typeof t||"number"==typeof t.data){var s=t.data||t,u=t.type||Float32Array,c=s*u.BYTES_PER_ELEMENT;o=h.getGLTypeForTypedArrayType(u),i=void 0!==t.normalize?t.normalize:function(e){return e===Int8Array||e===Uint8Array}(u),a=t.numComponents||t.size||g(e,s),n=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,n),f.bufferData(f.ARRAY_BUFFER,c,t.drawType||f.STATIC_DRAW)}else{var l=_(t,e);n=m(f,l,void 0,t.drawType),o=h.getGLTypeForTypedArray(l),i=void 0!==t.normalize?t.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(l),a=b(t,e)}p[r]={buffer:n,numComponents:a,type:o,normalize:i,stride:t.stride||0,offset:t.offset||0,divisor:void 0===t.divisor?void 0:t.divisor,drawType:t.drawType}}}}),f.bindBuffer(f.ARRAY_BUFFER,null),p}var l=["position","positions","a_position"];function f(e,t,r){var n="indices"===r?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;return m(e,_(t,r),n)}},"./src/draw.js":function(e,t,r){"use strict";t.__esModule=!0,t.drawBufferInfo=c,t.drawObjectList=function(i,e){var a=null,s=null;e.forEach(function(e){if(!1!==e.active){var t=e.programInfo,r=e.vertexArrayInfo||e.bufferInfo,n=!1,o=void 0===e.type?i.TRIANGLES:e.type;t!==a&&(a=t,i.useProgram(t.program),n=!0),!n&&r===s||(s&&s.vertexArrayObject&&!r.vertexArrayObject&&i.bindVertexArray(null),s=r,u.setBuffersAndAttributes(i,t,r)),u.setUniforms(t,e.uniforms),c(i,r,o,e.count,e.offset,e.instanceCount)}}),s.vertexArrayObject&&i.bindVertexArray(null)};var u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r("./src/programs.js"));function c(e,t,r,n,o,i){r=void 0===r?e.TRIANGLES:r;var a=t.indices,s=t.elementType,u=void 0===n?t.numElements:n;o=void 0===o?0:o,s||a?void 0!==i?e.drawElementsInstanced(r,u,void 0===s?e.UNSIGNED_SHORT:t.elementType,o,i):e.drawElements(r,u,void 0===s?e.UNSIGNED_SHORT:t.elementType,o):void 0!==i?e.drawArraysInstanced(r,o,u,i):e.drawArrays(r,o,u)}},"./src/framebuffers.js":function(e,t,r){"use strict";t.__esModule=!0,t.bindFramebufferInfo=function(e,t,r){r=r||e.FRAMEBUFFER,t?(e.bindFramebuffer(r,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(r,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},t.createFramebufferInfo=function(i,e,a,s){var u=i.FRAMEBUFFER,t=i.createFramebuffer();i.bindFramebuffer(u,t),a=a||i.drawingBufferWidth,s=s||i.drawingBufferHeight;var c=0,l={framebuffer:t,attachments:[],width:a,height:s};return(e=e||h).forEach(function(e){var t=e.attachment,r=e.format,n=function(e){return y[e]}(r);if(n=n||p+c++,!t)if(function(e){return m[e]}(r))t=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,t),i.renderbufferStorage(i.RENDERBUFFER,r,a,s);else{var o=Object.assign({},e);o.width=a,o.height=s,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||i.LINEAR,o.mag=o.mag||o.minMag||i.LINEAR,o.wrapS=o.wrapS||o.wrap||i.CLAMP_TO_EDGE,o.wrapT=o.wrapT||o.wrap||i.CLAMP_TO_EDGE),t=f.createTexture(i,o)}if(d.isRenderbuffer(i,t))i.framebufferRenderbuffer(u,n,i.RENDERBUFFER,t);else{if(!d.isTexture(i,t))throw new Error("unknown attachment type");i.framebufferTexture2D(u,n,e.texTarget||i.TEXTURE_2D,t,e.level||0)}l.attachments.push(t)}),l},t.resizeFramebufferInfo=function(o,i,e,a,s){a=a||o.drawingBufferWidth,s=s||o.drawingBufferHeight,i.width=a,i.height=s,(e=e||h).forEach(function(e,t){var r=i.attachments[t],n=e.format;if(d.isRenderbuffer(o,r))o.bindRenderbuffer(o.RENDERBUFFER,r),o.renderbufferStorage(o.RENDERBUFFER,n,a,s);else{if(!d.isTexture(o,r))throw new Error("unknown attachment type");f.resizeTexture(o,r,e,a,s)}})};var f=n(r("./src/textures.js")),d=n(r("./src/helper.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var p=36064,h=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],y={};y[34041]=33306,y[6401]=36128,y[36168]=36128,y[6402]=36096,y[33189]=36096;var m={};m[32854]=!0,m[32855]=!0,m[36194]=!0,m[34041]=!0,m[33189]=!0,m[6401]=!0,m[36168]=!0},"./src/helper.js":function(e,t,r){"use strict";t.__esModule=!0,t.copyExistingProperties=function(t,r){Object.keys(r).forEach(function(e){r.hasOwnProperty(e)&&t.hasOwnProperty(e)&&(r[e]=t[e])})},t.copyNamedProperties=function(e,r,n){e.forEach(function(e){var t=r[e];void 0!==t&&(n[e]=t)})},t.isBuffer=function(e,t){return"undefined"!=typeof WebGLBuffer&&t instanceof WebGLBuffer},t.isRenderbuffer=function(e,t){return"undefined"!=typeof WebGLRenderbuffer&&t instanceof WebGLRenderbuffer},t.isShader=function(e,t){return"undefined"!=typeof WebGLShader&&t instanceof WebGLShader},t.isTexture=function(e,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture},t.isSampler=function(e,t){return"undefined"!=typeof WebGLSampler&&t instanceof WebGLSampler},t.warn=t.error=void 0;var n="undefined"!=typeof console&&console.error&&"function"==typeof console.error?console.error.bind(console):function(){};t.error=n;var o="undefined"!=typeof console&&console.warn&&"function"==typeof console.warn?console.warn.bind(console):function(){};t.warn=o},"./src/m4.js":function(e,t,r){"use strict";t.__esModule=!0,t.axisRotate=function(e,t,r,n){n=n||new K(16);var o=t[0],i=t[1],a=t[2],s=Math.sqrt(o*o+i*i+a*a),u=(o/=s)*o,c=(i/=s)*i,l=(a/=s)*a,f=Math.cos(r),d=Math.sin(r),p=1-f,h=u+(1-u)*f,y=o*i*p+a*d,m=o*a*p-i*d,v=o*i*p-a*d,g=c+(1-c)*f,b=i*a*p+o*d,_=o*a*p+i*d,E=i*a*p-o*d,w=l+(1-l)*f,x=e[0],A=e[1],T=e[2],S=e[3],F=e[4],R=e[5],I=e[6],C=e[7],P=e[8],k=e[9],O=e[10],j=e[11];n[0]=h*x+y*F+m*P,n[1]=h*A+y*R+m*k,n[2]=h*T+y*I+m*O,n[3]=h*S+y*C+m*j,n[4]=v*x+g*F+b*P,n[5]=v*A+g*R+b*k,n[6]=v*T+g*I+b*O,n[7]=v*S+g*C+b*j,n[8]=_*x+E*F+w*P,n[9]=_*A+E*R+w*k,n[10]=_*T+E*I+w*O,n[11]=_*S+E*C+w*j,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n},t.axisRotation=function(e,t,r){r=r||new K(16);var n=e[0],o=e[1],i=e[2],a=Math.sqrt(n*n+o*o+i*i),s=(n/=a)*n,u=(o/=a)*o,c=(i/=a)*i,l=Math.cos(t),f=Math.sin(t),d=1-l;return r[0]=s+(1-s)*l,r[1]=n*o*d+i*f,r[2]=n*i*d-o*f,r[3]=0,r[4]=n*o*d-i*f,r[5]=u+(1-u)*l,r[6]=o*i*d+n*f,r[7]=0,r[8]=n*i*d+o*f,r[9]=o*i*d-n*f,r[10]=c+(1-c)*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},t.copy=i,t.frustum=function(e,t,r,n,o,i,a){a=a||new K(16);var s=t-e,u=n-r,c=o-i;return a[0]=2*o/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*o/u,a[6]=0,a[7]=0,a[8]=(e+t)/s,a[9]=(n+r)/u,a[10]=i/c,a[11]=-1,a[12]=0,a[13]=0,a[14]=o*i/c,a[15]=0,a},t.getAxis=function(e,t,r){r=r||s.create();var n=4*t;return r[0]=e[0+n],r[1]=e[1+n],r[2]=e[2+n],r},t.getTranslation=function(e,t){return(t=t||s.create())[0]=e[12],t[1]=e[13],t[2]=e[14],t},t.identity=n,t.inverse=f,t.lookAt=function(e,t,r,n){n=n||new K(16);var o=u,i=c,a=l;return s.normalize(s.subtract(e,t,a),a),s.normalize(s.cross(r,a,o),o),s.normalize(s.cross(a,o,i),i),n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=a[0],n[9]=a[1],n[10]=a[2],n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n},t.multiply=function(e,t,r){r=r||new K(16);var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=e[9],p=e[10],h=e[11],y=e[12],m=e[13],v=e[14],g=e[15],b=t[0],_=t[1],E=t[2],w=t[3],x=t[4],A=t[5],T=t[6],S=t[7],F=t[8],R=t[9],I=t[10],C=t[11],P=t[12],k=t[13],O=t[14],j=t[15];return r[0]=n*b+s*_+f*E+y*w,r[1]=o*b+u*_+d*E+m*w,r[2]=i*b+c*_+p*E+v*w,r[3]=a*b+l*_+h*E+g*w,r[4]=n*x+s*A+f*T+y*S,r[5]=o*x+u*A+d*T+m*S,r[6]=i*x+c*A+p*T+v*S,r[7]=a*x+l*A+h*T+g*S,r[8]=n*F+s*R+f*I+y*C,r[9]=o*F+u*R+d*I+m*C,r[10]=i*F+c*R+p*I+v*C,r[11]=a*F+l*R+h*I+g*C,r[12]=n*P+s*k+f*O+y*j,r[13]=o*P+u*k+d*O+m*j,r[14]=i*P+c*k+p*O+v*j,r[15]=a*P+l*k+h*O+g*j,r},t.negate=function(e,t){return(t=t||new K(16))[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},t.ortho=function(e,t,r,n,o,i,a){return(a=a||new K(16))[0]=2/(t-e),a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2/(n-r),a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2/(o-i),a[11]=0,a[12]=(t+e)/(e-t),a[13]=(n+r)/(r-n),a[14]=(i+o)/(o-i),a[15]=1,a},t.perspective=function(e,t,r,n,o){o=o||new K(16);var i=Math.tan(.5*Math.PI-.5*e),a=1/(r-n);return o[0]=i/t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(r+n)*a,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*n*a*2,o[15]=0,o},t.rotateX=function(e,t,r){r=r||new K(16);var n=e[4],o=e[5],i=e[6],a=e[7],s=e[8],u=e[9],c=e[10],l=e[11],f=Math.cos(t),d=Math.sin(t);r[4]=f*n+d*s,r[5]=f*o+d*u,r[6]=f*i+d*c,r[7]=f*a+d*l,r[8]=f*s-d*n,r[9]=f*u-d*o,r[10]=f*c-d*i,r[11]=f*l-d*a,e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]);return r},t.rotateY=function(e,t,r){r=r||new K(16);var n=e[0],o=e[1],i=e[2],a=e[3],s=e[8],u=e[9],c=e[10],l=e[11],f=Math.cos(t),d=Math.sin(t);r[0]=f*n-d*s,r[1]=f*o-d*u,r[2]=f*i-d*c,r[3]=f*a-d*l,r[8]=f*s+d*n,r[9]=f*u+d*o,r[10]=f*c+d*i,r[11]=f*l+d*a,e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]);return r},t.rotateZ=function(e,t,r){r=r||new K(16);var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=Math.cos(t),d=Math.sin(t);r[0]=f*n+d*s,r[1]=f*o+d*u,r[2]=f*i+d*c,r[3]=f*a+d*l,r[4]=f*s-d*n,r[5]=f*u-d*o,r[6]=f*c-d*i,r[7]=f*l-d*a,e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]);return r},t.rotationX=function(e,t){t=t||new K(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.rotationY=function(e,t){t=t||new K(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.rotationZ=function(e,t){t=t||new K(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.scale=function(e,t,r){r=r||new K(16);var n=t[0],o=t[1],i=t[2];r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=n*e[3],r[4]=o*e[4],r[5]=o*e[5],r[6]=o*e[6],r[7]=o*e[7],r[8]=i*e[8],r[9]=i*e[9],r[10]=i*e[10],r[11]=i*e[11],e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]);return r},t.scaling=function(e,t){return(t=t||new K(16))[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.setAxis=function(e,t,r,n){n!==e&&(n=i(e,n));var o=4*r;return n[0+o]=t[0],n[1+o]=t[1],n[2+o]=t[2],n},t.setDefaultType=function(e){var t=K;return K=e,t},t.setTranslation=function(e,t,r){r=r||n(),e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11]);return r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r},t.transformDirection=function(e,t,r){r=r||s.create();var n=t[0],o=t[1],i=t[2];return r[0]=n*e[0]+o*e[4]+i*e[8],r[1]=n*e[1]+o*e[5]+i*e[9],r[2]=n*e[2]+o*e[6]+i*e[10],r},t.transformNormal=function(e,t,r){r=r||s.create();var n=f(e),o=t[0],i=t[1],a=t[2];return r[0]=o*n[0]+i*n[1]+a*n[2],r[1]=o*n[4]+i*n[5]+a*n[6],r[2]=o*n[8]+i*n[9]+a*n[10],r},t.transformPoint=function(e,t,r){r=r||s.create();var n=t[0],o=t[1],i=t[2],a=n*e[3]+o*e[7]+i*e[11]+e[15];return r[0]=(n*e[0]+o*e[4]+i*e[8]+e[12])/a,r[1]=(n*e[1]+o*e[5]+i*e[9]+e[13])/a,r[2]=(n*e[2]+o*e[6]+i*e[10]+e[14])/a,r},t.translate=function(e,t,r){r=r||new K(16);var n=t[0],o=t[1],i=t[2],a=e[0],s=e[1],u=e[2],c=e[3],l=e[4],f=e[5],d=e[6],p=e[7],h=e[8],y=e[9],m=e[10],v=e[11],g=e[12],b=e[13],_=e[14],E=e[15];e!==r&&(r[0]=a,r[1]=s,r[2]=u,r[3]=c,r[4]=l,r[5]=f,r[6]=d,r[7]=p,r[8]=h,r[9]=y,r[10]=m,r[11]=v);return r[12]=a*n+l*o+h*i+g,r[13]=s*n+f*o+y*i+b,r[14]=u*n+d*o+m*i+_,r[15]=c*n+p*o+v*i+E,r},t.translation=function(e,t){return(t=t||new K(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},t.transpose=function(e,t){if((t=t||new K(16))===e){var r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,t}var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=e[9],p=e[10],h=e[11],y=e[12],m=e[13],v=e[14],g=e[15];return t[0]=n,t[1]=s,t[2]=f,t[3]=y,t[4]=o,t[5]=u,t[6]=d,t[7]=m,t[8]=i,t[9]=c,t[10]=p,t[11]=v,t[12]=a,t[13]=l,t[14]=h,t[15]=g,t};var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r("./src/v3.js"));var K=Float32Array,u=s.create(),c=s.create(),l=s.create();function i(e,t){return(t=t||new K(16))[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function n(e){return(e=e||new K(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function f(e,t){t=t||new K(16);var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],h=e[12],y=e[13],m=e[14],v=e[15],g=d*v,b=m*p,_=u*v,E=m*c,w=u*p,x=d*c,A=o*v,T=m*i,S=o*p,F=d*i,R=o*c,I=u*i,C=l*y,P=h*f,k=a*y,O=h*s,j=a*f,B=l*s,U=r*y,N=h*n,M=r*f,L=l*n,D=r*s,z=a*n,G=g*s+E*f+w*y-(b*s+_*f+x*y),W=b*n+A*f+F*y-(g*n+T*f+S*y),X=_*n+T*s+R*y-(E*n+A*s+I*y),H=x*n+S*s+I*f-(w*n+F*s+R*f),V=1/(r*G+a*W+l*X+h*H);return t[0]=V*G,t[1]=V*W,t[2]=V*X,t[3]=V*H,t[4]=V*(b*a+_*l+x*h-(g*a+E*l+w*h)),t[5]=V*(g*r+T*l+S*h-(b*r+A*l+F*h)),t[6]=V*(E*r+A*a+I*h-(_*r+T*a+R*h)),t[7]=V*(w*r+F*a+R*l-(x*r+S*a+I*l)),t[8]=V*(C*c+O*p+j*v-(P*c+k*p+B*v)),t[9]=V*(P*i+U*p+L*v-(C*i+N*p+M*v)),t[10]=V*(k*i+N*c+D*v-(O*i+U*c+z*v)),t[11]=V*(B*i+M*c+z*p-(j*i+L*c+D*p)),t[12]=V*(k*d+B*m+P*u-(j*m+C*u+O*d)),t[13]=V*(M*m+C*o+N*d-(U*d+L*m+P*o)),t[14]=V*(U*u+z*m+O*o-(D*m+k*o+N*u)),t[15]=V*(D*d+j*o+L*u-(M*u+z*d+B*o)),t}},"./src/primitives.js":function(e,t,r){"use strict";t.__esModule=!0,t.create3DFVertices=T,t.createAugmentedTypedArray=j,t.createCubeVertices=w,t.createPlaneVertices=b,t.createSphereVertices=_,t.createTruncatedConeVertices=x,t.createXYQuadVertices=m,t.createCresentVertices=S,t.createCylinderVertices=F,t.createTorusVertices=I,t.createDiscVertices=C,t.deindexVertices=function(s){var u=s.indices,c={},l=u.length;return Object.keys(s).filter(f).forEach(function(e){for(var t=s[e],r=t.numComponents,n=j(r,l,t.constructor),o=0;o<l;++o)for(var i=u[o]*r,a=0;a<r;++a)n.push(t[i+a]);c[e]=n}),c},t.flattenNormals=function(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var t=e.normal,r=t.length,n=0;n<r;n+=9){var o=t[n+0],i=t[n+1],a=t[n+2],s=t[n+3],u=t[n+4],c=t[n+5],l=t[n+6],f=t[n+7],d=t[n+8],p=o+s+l,h=i+u+f,y=a+c+d,m=Math.sqrt(p*p+h*h+y*y);p/=m,h/=m,y/=m,t[n+0]=p,t[n+1]=h,t[n+2]=y,t[n+3]=p,t[n+4]=h,t[n+5]=y,t[n+6]=p,t[n+7]=h,t[n+8]=y}return e},t.makeRandomVertexColors=function(e,t){t=t||{};var r=e.position.numElements,n=j(4,r,Uint8Array),o=t.rand||function(e,t){return t<3?function(e){return Math.random()*e|0}(256):255};if(e.color=n,e.indices)for(var i=0;i<r;++i)n.push(o(i,0),o(i,1),o(i,2),o(i,3));else for(var a=t.vertsPerColor||3,s=r/a,u=0;u<s;++u)for(var c=[o(u,0),o(u,1),o(u,2),o(u,3)],l=0;l<a;++l)n.push(c);return e},t.reorientDirections=p,t.reorientNormals=h,t.reorientPositions=y,t.reorientVertices=g,t.concatVertices=function(u){for(var i,a={},e=function(e){var o=u[e];Object.keys(o).forEach(function(e){a[e]||(a[e]=[]),i||"indices"===e||(i=e);var t=o[e],r=s(t,e),n=c(t).length/r;a[e].push(n)})},t=0;t<u.length;++t)e(t);var n=a[i],o={};return Object.keys(a).forEach(function(e){var t=function(e){for(var t,r=0,n=0;n<u.length;++n){var o=u[n][e],i=c(o);r+=i.length,t&&!o.data||(t=o)}return{length:r,spec:t}}(e),r=U(t.spec,t.length);!function(e,t,r){for(var n=0,o=0,i=0;i<u.length;++i){var a=u[i][e],s=c(a);"indices"===e?(B(s,r,o,n),n+=t[i]):B(s,r,o),o+=s.length}}(e,n,c(r)),o[e]=r}),o},t.duplicateVertices=function(o){var i={};return Object.keys(o).forEach(function(e){var t=o[e],r=c(t),n=U(t,r.length);B(r,c(n),0),i[e]=n}),i},t.createDiscBuffers=t.createDiscBufferInfo=t.createTorusBuffers=t.createTorusBufferInfo=t.createCylinderBuffers=t.createCylinderBufferInfo=t.createCresentBuffers=t.createCresentBufferInfo=t.createXYQuadBuffers=t.createXYQuadBufferInfo=t.createTruncatedConeBuffers=t.createTruncatedConeBufferInfo=t.createSphereBuffers=t.createSphereBufferInfo=t.createPlaneBuffers=t.createPlaneBufferInfo=t.createCubeBuffers=t.createCubeBufferInfo=t.create3DFBuffers=t.create3DFBufferInfo=void 0;var n=o(r("./src/attributes.js")),i=o(r("./src/helper.js")),a=o(r("./src/typedarrays.js")),v=o(r("./src/m4.js")),R=o(r("./src/v3.js"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=n.getArray_,s=n.getNumComponents_;function u(n,e){var o=0;return n.push=function(){for(var e=0;e<arguments.length;++e){var t=arguments[e];if(t instanceof Array||a.isArrayBuffer(t))for(var r=0;r<t.length;++r)n[o++]=t[r];else n[o++]=t}},n.reset=function(e){o=e||0},n.numComponents=e,Object.defineProperty(n,"numElements",{get:function(){return this.length/this.numComponents|0}}),n}function j(e,t,r){return u(new(r||Float32Array)(e*t),e)}function f(e){return"indices"!==e}function l(e,t,r){for(var n=e.length,o=new Float32Array(3),i=0;i<n;i+=3)r(t,[e[i],e[i+1],e[i+2]],o),e[i]=o[0],e[i+1]=o[1],e[i+2]=o[2]}function d(e,t,r){r=r||R.create();var n=t[0],o=t[1],i=t[2];return r[0]=n*e[0]+o*e[1]+i*e[2],r[1]=n*e[4]+o*e[5]+i*e[6],r[2]=n*e[8]+o*e[9]+i*e[10],r}function p(e,t){return l(e,t,v.transformDirection),e}function h(e,t){return l(e,v.inverse(t),d),e}function y(e,t){return l(e,t,v.transformPoint),e}function g(r,n){return Object.keys(r).forEach(function(e){var t=r[e];0<=e.indexOf("pos")?y(t,n):0<=e.indexOf("tan")||0<=e.indexOf("binorm")?p(t,n):0<=e.indexOf("norm")&&h(t,n)}),r}function m(e,t,r){return e=e||2,{position:{numComponents:2,data:[(t=t||0)+-1*(e*=.5),(r=r||0)+-1*e,t+1*e,r+-1*e,t+-1*e,r+1*e,t+1*e,r+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function b(e,t,r,n,o){e=e||1,t=t||1,r=r||1,n=n||1,o=o||v.identity();for(var i=(r+1)*(n+1),a=j(3,i),s=j(3,i),u=j(2,i),c=0;c<=n;c++)for(var l=0;l<=r;l++){var f=l/r,d=c/n;a.push(e*f-.5*e,0,t*d-.5*t),s.push(0,1,0),u.push(f,d)}for(var p=r+1,h=j(3,r*n*2,Uint16Array),y=0;y<n;y++)for(var m=0;m<r;m++)h.push((y+0)*p+m,(y+1)*p+m,(y+0)*p+m+1),h.push((y+1)*p+m,(y+1)*p+m+1,(y+0)*p+m+1);return g({position:a,normal:s,texcoord:u,indices:h},o)}function _(e,t,r,n,o,i,a){if(t<=0||r<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,i=i||0;for(var s=(o=o||Math.PI)-n,u=(a=a||2*Math.PI)-i,c=(t+1)*(r+1),l=j(3,c),f=j(3,c),d=j(2,c),p=0;p<=r;p++)for(var h=0;h<=t;h++){var y=h/t,m=p/r,v=u*y+i,g=s*m+n,b=Math.sin(v),_=Math.cos(v),E=Math.sin(g),w=_*E,x=Math.cos(g),A=b*E;l.push(e*w,e*x,e*A),f.push(w,x,A),d.push(1-y,m)}for(var T=t+1,S=j(3,t*r*2,Uint16Array),F=0;F<t;F++)for(var R=0;R<r;R++)S.push((R+0)*T+F,(R+0)*T+F+1,(R+1)*T+F),S.push((R+1)*T+F,(R+0)*T+F+1,(R+1)*T+F+1);return{position:l,normal:f,texcoord:d,indices:S}}var E=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function w(e){for(var t=(e=e||1)/2,r=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],i=j(3,24),a=j(3,24),s=j(2,24),u=j(3,12,Uint16Array),c=0;c<6;++c){for(var l=E[c],f=0;f<4;++f){var d=r[l[f]],p=n[c],h=o[f];i.push(d),a.push(p),s.push(h)}var y=4*c;u.push(0+y,1+y,2+y),u.push(0+y,2+y,3+y)}return{position:i,normal:a,texcoord:s,indices:u}}function x(e,t,r,n,o,i,a){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var s=void 0===i||i,u=void 0===a||a,c=(s?2:0)+(u?2:0),l=(n+1)*(o+1+c),f=j(3,l),d=j(3,l),p=j(2,l),h=j(3,n*(o+c)*2,Uint16Array),y=n+1,m=Math.atan2(e-t,r),v=Math.cos(m),g=Math.sin(m),b=o+(u?2:0),_=s?-2:0;_<=b;++_){var E=_/o,w=r*E,x=void 0;x=_<0?(w=0,E=1,e):o<_?(w=r,E=1,t):e+_/o*(t-e),-2!==_&&_!==o+2||(E=x=0),w-=r/2;for(var A=0;A<y;++A){var T=Math.sin(A*Math.PI*2/n),S=Math.cos(A*Math.PI*2/n);f.push(T*x,w,S*x),d.push(_<0||o<_?0:T*v,_<0?-1:o<_?1:g,_<0||o<_?0:S*v),p.push(A/n,1-E)}}for(var F=0;F<o+c;++F)for(var R=0;R<n;++R)h.push(y*(F+0)+0+R,y*(F+0)+1+R,y*(F+1)+1+R),h.push(y*(F+0)+0+R,y*(F+1)+1+R,y*(F+1)+0+R);return{position:f,normal:d,texcoord:p,indices:h}}function A(e,t){t=t||[];for(var r=[],n=0;n<e.length;n+=4){var o=e[n],i=e.slice(n+1,n+4);i.push.apply(i,t);for(var a=0;a<o;++a)r.push.apply(r,i)}return r}function T(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=A([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=A([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:j(3,n),texcoord:j(2,n),normal:j(3,n),color:j(4,n,Uint8Array),indices:j(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(t),o.color.push(r);for(var i=0;i<n;++i)o.indices.push(i);return o}function S(b,e,t,_,E,w,r){if(E<=0)throw new Error("subdivisionDown must be > 0");var x=2,A=(r=r||1)-(w=w||0),n=2*(E+1)*(2+x),T=j(3,n),S=j(3,n),F=j(2,n);function o(e,t,r,n,o,i){for(var a=0;a<=E;a++){var s=t/(x-1),u=a/E,c=2*(s-.5),l=(w+u*A)*Math.PI,f=Math.sin(l),d=Math.cos(l),p=(g=b)+(e-g)*f,h=c*_,y=d*b,m=f*p;T.push(h,y,m);var v=R.add(R.multiply([0,f,d],r),n);S.push(v),F.push(s*o+i,u)}var g}for(var i=0;i<x;i++){var a=2*(i/(x-1)-.5);o(e,i,[1,1,1],[0,0,0],1,0),o(e,i,[0,0,0],[a,0,0],0,0),o(t,i,[1,1,1],[0,0,0],1,0),o(t,i,[0,0,0],[a,0,0],0,1)}var s=j(3,2*E*(2+x),Uint16Array);function u(e,t){for(var r=0;r<E;++r)s.push(e+r+0,e+r+1,t+r+0),s.push(e+r+1,t+r+1,t+r+0)}var c=E+1;return u(0*c,4*c),u(5*c,7*c),u(6*c,2*c),u(3*c,1*c),{position:T,normal:S,texcoord:F,indices:s}}function F(e,t,r,n,o,i){return x(e,e,t,r,n,o,i)}function I(e,t,r,n,o,i){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;for(var a=(i=i||2*Math.PI)-o,s=r+1,u=n+1,c=s*u,l=j(3,c),f=j(3,c),d=j(2,c),p=j(3,r*n*2,Uint16Array),h=0;h<u;++h)for(var y=h/n,m=y*Math.PI*2,v=Math.sin(m),g=e+v*t,b=Math.cos(m),_=b*t,E=0;E<s;++E){var w=E/r,x=o+w*a,A=Math.sin(x),T=Math.cos(x),S=A*g,F=T*g,R=A*v,I=T*v;l.push(S,_,F),f.push(R,b,I),d.push(w,1-y)}for(var C=0;C<n;++C)for(var P=0;P<r;++P){var k=1+P,O=1+C;p.push(s*C+P,s*O+P,s*C+k),p.push(s*O+P,s*O+k,s*C+k)}return{position:l,normal:f,texcoord:d,indices:p}}function C(e,t,r,n,o){if(t<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;for(var i=(t+1)*((r=r||1)+1),a=j(3,i),s=j(3,i),u=j(2,i),c=j(3,r*t*2,Uint16Array),l=0,f=e-n,d=t+1,p=0;p<=r;++p){for(var h=n+f*Math.pow(p/r,o),y=0;y<=t;++y){var m=2*Math.PI*y/t,v=h*Math.cos(m),g=h*Math.sin(m);if(a.push(v,0,g),s.push(0,1,0),u.push(1-y/t,p/r),0<p&&y!==t){var b=l+(y+1),_=l+y,E=l+y-d,w=l+(y+1)-d;c.push(b,_,E),c.push(b,E,w)}}l+=t+1}return{position:a,normal:s,texcoord:u,indices:c}}function P(r){return function(e){var t=r.apply(this,Array.prototype.slice.call(arguments,1));return n.createBuffersFromArrays(e,t)}}function k(r){return function(e){var t=r.apply(null,Array.prototype.slice.call(arguments,1));return n.createBufferInfoFromArrays(e,t)}}var O=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function B(e,t,r,n){n=n||0;for(var o=e.length,i=0;i<o;++i)t[r+i]=e[i]+n}function U(e,t){var r=c(e),n=new r.constructor(t),o=n;return r.numComponents&&r.numElements&&u(n,r.numComponents),e.data&&(o={data:n},i.copyNamedProperties(O,e,o)),o}var N=k(T);t.create3DFBufferInfo=N;var M=P(T);t.create3DFBuffers=M;var L=k(w);t.createCubeBufferInfo=L;var D=P(w);t.createCubeBuffers=D;var z=k(b);t.createPlaneBufferInfo=z;var G=P(b);t.createPlaneBuffers=G;var W=k(_);t.createSphereBufferInfo=W;var X=P(_);t.createSphereBuffers=X;var H=k(x);t.createTruncatedConeBufferInfo=H;var V=P(x);t.createTruncatedConeBuffers=V;var K=k(m);t.createXYQuadBufferInfo=K;var Y=P(m);t.createXYQuadBuffers=Y;var q=k(S);t.createCresentBufferInfo=q;var $=P(S);t.createCresentBuffers=$;var J=k(F);t.createCylinderBufferInfo=J;var Z=P(F);t.createCylinderBuffers=Z;var Q=k(I);t.createTorusBufferInfo=Q;var ee=P(I);t.createTorusBuffers=ee;var te=k(C);t.createDiscBufferInfo=te;var re=P(C);t.createDiscBuffers=re},"./src/programs.js":function(e,t,r){"use strict";t.__esModule=!0,t.createAttributeSetters=G,t.createProgram=P,t.createProgramFromScripts=function(e,t,r,n,o){for(var i=F(r,n,o),a=[],s=0;s<t.length;++s){var u=k(e,t[s],e[R[s]],i.errorCallback);if(!u)return null;a.push(u)}return P(e,a,i)},t.createProgramFromSources=O,t.createProgramInfo=function(e,t,r,n,o){var i=F(r,n,o),a=!0;if(t=t.map(function(e){if(e.indexOf("\n")<0){var t=v(e);t?e=t.text:(i.errorCallback("no element with id: "+e),a=!1)}return e}),!a)return null;var s=O(e,t,i);return s?X(e,s):null},t.createProgramInfoFromProgram=X,t.createUniformSetters=B,t.createUniformBlockSpecFromProgram=M,t.createUniformBlockInfoFromProgram=D,t.createUniformBlockInfo=function(e,t,r){return D(e,t.program,t.uniformBlockSpec,r)},t.createTransformFeedback=function(e,t,r){var n=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n),e.useProgram(t.program),N(e,t,r),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),n},t.createTransformFeedbackInfo=U,t.bindTransformFeedbackInfo=N,t.setAttributes=W,t.setBuffersAndAttributes=function(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(W(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indices))},t.setUniforms=function e(t,r){var n=t.uniformSetters||t;var o=arguments.length;for(var i=1;i<o;++i){var a=arguments[i];if(Array.isArray(a))for(var s=a.length,u=0;u<s;++u)e(n,a[u]);else for(var c in a){var l=n[c];l&&l(a[c])}}},t.setUniformBlock=function(e,t,r){z(e,t,r)&&e.bufferData(e.UNIFORM_BUFFER,r.array,e.DYNAMIC_DRAW)},t.setBlockUniforms=function(e,t){var r=e.uniforms;for(var n in t){var o=r[n];if(o){var i=t[n];i.length?o.set(i):o[0]=i}}},t.bindUniformBlock=z;var u=n(r("./src/utils.js")),m=n(r("./src/helper.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=m.error,d=m.warn,v="undefined"!=typeof document&&document.getElementById?document.getElementById.bind(document):function(){return null},o=34067,i=35866,p={};function l(e,t){return p[t].bindPoint}function a(t,r){return function(e){t.uniform1i(r,e)}}function s(t,r){return function(e){t.uniform1iv(r,e)}}function f(t,r){return function(e){t.uniform2iv(r,e)}}function h(t,r){return function(e){t.uniform3iv(r,e)}}function y(t,r){return function(e){t.uniform4iv(r,e)}}function g(n,e,o,i){var a=l(0,e);return u.isWebGL2(n)?function(e){var t,r;r=m.isTexture(n,e)?(t=e,null):(t=e.texture,e.sampler),n.uniform1i(i,o),n.activeTexture(n.TEXTURE0+o),n.bindTexture(a,t),n.bindSampler(o,r)}:function(e){n.uniform1i(i,o),n.activeTexture(n.TEXTURE0+o),n.bindTexture(a,e)}}function b(o,e,i,t,r){for(var a=l(0,e),s=new Int32Array(r),n=0;n<r;++n)s[n]=i+n;return u.isWebGL2(o)?function(e){o.uniform1iv(t,s),e.forEach(function(e,t){var r,n;o.activeTexture(o.TEXTURE0+s[t]),n=m.isTexture(o,e)?(r=e,null):(r=e.texture,e.sampler),o.bindSampler(i,n),o.bindTexture(a,r)})}:function(e){o.uniform1iv(t,s),e.forEach(function(e,t){o.activeTexture(o.TEXTURE0+s[t]),o.bindTexture(a,e)})}}function _(t,r){return function(e){if(e.value)switch(t.disableVertexAttribArray(r),e.value.length){case 4:t.vertexAttrib4fv(r,e.value);break;case 3:t.vertexAttrib3fv(r,e.value);break;case 2:t.vertexAttrib2fv(r,e.value);break;case 1:t.vertexAttrib1fv(r,e.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,e.numComponents||e.size,e.type||t.FLOAT,e.normalize||!1,e.stride||0,e.offset||0),void 0!==e.divisor&&t.vertexAttribDivisor(r,e.divisor)}}function E(t,r){return function(e){if(e.value){if(t.disableVertexAttribArray(r),4!==e.value.length)throw new Error("The length of an integer constant value must be 4!");t.vertexAttrib4iv(r,e.value)}else t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribIPointer(r,e.numComponents||e.size,e.type||t.INT,e.stride||0,e.offset||0),void 0!==e.divisor&&t.vertexAttribDivisor(r,e.divisor)}}function w(t,r){return function(e){if(e.value){if(t.disableVertexAttribArray(r),4!==e.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");t.vertexAttrib4uiv(r,e.value)}else t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribIPointer(r,e.numComponents||e.size,e.type||t.UNSIGNED_INT,e.stride||0,e.offset||0),void 0!==e.divisor&&t.vertexAttribDivisor(r,e.divisor)}}function x(c,l,e){var f=e.size,d=e.count;return function(e){c.bindBuffer(c.ARRAY_BUFFER,e.buffer);for(var t=e.size||e.numComponents||f,r=t/d,n=e.type||c.FLOAT,o=p[n].size*t,i=e.normalize||!1,a=e.offset||0,s=o/d,u=0;u<d;++u)c.enableVertexAttribArray(l+u),c.vertexAttribPointer(l+u,r,n,i,o,a+s*u),void 0!==e.divisor&&c.vertexAttribDivisor(l+u,e.divisor)}}p[5126]={Type:Float32Array,size:4,setter:function(t,r){return function(e){t.uniform1f(r,e)}},arraySetter:function(t,r){return function(e){t.uniform1fv(r,e)}}},p[35664]={Type:Float32Array,size:8,setter:function(t,r){return function(e){t.uniform2fv(r,e)}}},p[35665]={Type:Float32Array,size:12,setter:function(t,r){return function(e){t.uniform3fv(r,e)}}},p[35666]={Type:Float32Array,size:16,setter:function(t,r){return function(e){t.uniform4fv(r,e)}}},p[5124]={Type:Int32Array,size:4,setter:a,arraySetter:s},p[35667]={Type:Int32Array,size:8,setter:f},p[35668]={Type:Int32Array,size:12,setter:h},p[35669]={Type:Int32Array,size:16,setter:y},p[5125]={Type:Uint32Array,size:4,setter:function(t,r){return function(e){t.uniform1ui(r,e)}},arraySetter:function(t,r){return function(e){t.uniform1uiv(r,e)}}},p[36294]={Type:Uint32Array,size:8,setter:function(t,r){return function(e){t.uniform2uiv(r,e)}}},p[36295]={Type:Uint32Array,size:12,setter:function(t,r){return function(e){t.uniform3uiv(r,e)}}},p[36296]={Type:Uint32Array,size:16,setter:function(t,r){return function(e){t.uniform4uiv(r,e)}}},p[35670]={Type:Uint32Array,size:4,setter:a,arraySetter:s},p[35671]={Type:Uint32Array,size:8,setter:f},p[35672]={Type:Uint32Array,size:12,setter:h},p[35673]={Type:Uint32Array,size:16,setter:y},p[35674]={Type:Float32Array,size:16,setter:function(t,r){return function(e){t.uniformMatrix2fv(r,!1,e)}}},p[35675]={Type:Float32Array,size:36,setter:function(t,r){return function(e){t.uniformMatrix3fv(r,!1,e)}}},p[35676]={Type:Float32Array,size:64,setter:function(t,r){return function(e){t.uniformMatrix4fv(r,!1,e)}}},p[35685]={Type:Float32Array,size:24,setter:function(t,r){return function(e){t.uniformMatrix2x3fv(r,!1,e)}}},p[35686]={Type:Float32Array,size:32,setter:function(t,r){return function(e){t.uniformMatrix2x4fv(r,!1,e)}}},p[35687]={Type:Float32Array,size:24,setter:function(t,r){return function(e){t.uniformMatrix3x2fv(r,!1,e)}}},p[35688]={Type:Float32Array,size:48,setter:function(t,r){return function(e){t.uniformMatrix3x4fv(r,!1,e)}}},p[35689]={Type:Float32Array,size:32,setter:function(t,r){return function(e){t.uniformMatrix4x2fv(r,!1,e)}}},p[35690]={Type:Float32Array,size:48,setter:function(t,r){return function(e){t.uniformMatrix4x3fv(r,!1,e)}}},p[35678]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:3553},p[35680]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:o},p[35679]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:32879},p[35682]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:3553},p[36289]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:i},p[36292]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:i},p[36293]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:o},p[36298]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:3553},p[36299]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:32879},p[36300]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:o},p[36303]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:i},p[36306]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:3553},p[36307]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:32879},p[36308]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:o},p[36311]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:i};var A={};A[5126]={size:4,setter:_},A[35664]={size:8,setter:_},A[35665]={size:12,setter:_},A[35666]={size:16,setter:_},A[5124]={size:4,setter:E},A[35667]={size:8,setter:E},A[35668]={size:12,setter:E},A[35669]={size:16,setter:E},A[5125]={size:4,setter:w},A[36294]={size:8,setter:w},A[36295]={size:12,setter:w},A[36296]={size:16,setter:w},A[35670]={size:4,setter:E},A[35671]={size:8,setter:E},A[35672]={size:12,setter:E},A[35673]={size:16,setter:E},A[35674]={size:4,setter:x,count:2},A[35675]={size:9,setter:x,count:3},A[35676]={size:16,setter:x,count:4};var T=/^[ \t]*\n/;function S(e,t,r,n){var o=n||c,i=e.createShader(r),a=0;if(T.test(t)&&(a=1,t=t.replace(T,"")),e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))return i;var s=e.getShaderInfoLog(i);return o(function(e,r){return r=r||0,++r,e.split("\n").map(function(e,t){return t+r+": "+e}).join("\n")}(t,a)+"\n*** Error compiling shader: "+s),e.deleteShader(i),null}function F(e,r,t){var n;if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var o=e;t=o.errorCallback,e=o.attribLocations,n=o.transformFeedbackVaryings}var i={errorCallback:t||c,transformFeedbackVaryings:n};if(e){var a={};Array.isArray(e)?e.forEach(function(e,t){a[e]=r?r[t]:t}):a=e,i.attribLocations=a}return i}var R=["VERTEX_SHADER","FRAGMENT_SHADER"];function I(e,t){return 0<=t.indexOf("frag")?e.FRAGMENT_SHADER:0<=t.indexOf("vert")?e.VERTEX_SHADER:void 0}function C(t,e){e.forEach(function(e){t.deleteShader(e)})}function P(t,e,r,n,o){for(var i=F(r,n,o),a=[],s=[],u=0;u<e.length;++u){var c=e[u];if("string"==typeof c){var l=v(c),f=l?l.text:c,d=t[R[u]];l&&l.type&&(d=I(t,l.type)||d),c=S(t,f,d,i.errorCallback),s.push(c)}m.isShader(t,c)&&a.push(c)}if(a.length!==e.length)return i.errorCallback("not enough shaders for program"),C(t,s),null;var p=t.createProgram();a.forEach(function(e){t.attachShader(p,e)}),i.attribLocations&&Object.keys(i.attribLocations).forEach(function(e){t.bindAttribLocation(p,i.attribLocations[e],e)});var h=i.transformFeedbackVaryings;if(h&&(h.attribs&&(h=h.attribs),Array.isArray(h)||(h=Object.keys(h)),t.transformFeedbackVaryings(p,h,i.transformFeedbackMode||t.SEPARATE_ATTRIBS)),t.linkProgram(p),t.getProgramParameter(p,t.LINK_STATUS))return p;var y=t.getProgramInfoLog(p);return i.errorCallback("Error in program linking:"+y),t.deleteProgram(p),C(t,s),null}function k(e,t,r,n){var o,i=v(t);if(!i)throw new Error("unknown script element: ".concat(t));o=i.text;var a=r||I(e,i.type);if(!a)throw new Error("unknown shader type");return S(e,o,a,n)}function O(e,t,r,n,o){for(var i=F(r,n,o),a=[],s=0;s<t.length;++s){var u=S(e,t[s],e[R[s]],i.errorCallback);if(!u)return null;a.push(u)}return P(e,a,i)}function j(e){var t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}function B(u,e){var c=0;function t(e,t){var r,n=u.getUniformLocation(e,t.name),o=1<t.size&&"[0]"===t.name.substr(-3),i=t.type,a=p[i];if(!a)throw new Error("unknown type: 0x".concat(i.toString(16)));if(a.bindPoint){var s=c;c+=t.size,r=o?a.arraySetter(u,i,s,n,t.size):a.setter(u,i,s,n,t.size)}else r=a.arraySetter&&o?a.arraySetter(u,n):a.setter(u,n);return r.location=n,r}for(var r={},n=u.getProgramParameter(e,u.ACTIVE_UNIFORMS),o=0;o<n;++o){var i=u.getActiveUniform(e,o);if(!j(i)){var a=i.name;"[0]"===a.substr(-3)&&(a=a.substr(0,a.length-3));var s=t(e,i);r[a]=s}}return r}function U(e,t){for(var r={},n=e.getProgramParameter(t,e.TRANSFORM_FEEDBACK_VARYINGS),o=0;o<n;++o){var i=e.getTransformFeedbackVarying(t,o);r[i.name]={index:o,type:i.type,size:i.size}}return r}function N(e,t,r){for(var n in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){var o=t[n];if(o){var i=r[n];i.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,o.index,i.buffer,i.offset,i.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,o.index,i.buffer)}}}function M(n,o){for(var e=n.getProgramParameter(o,n.ACTIVE_UNIFORMS),i=[],a=[],t=0;t<e;++t){a.push(t),i.push({});var r=n.getActiveUniform(o,t);if(j(r))break;i[t].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(e){var t=e[0],r=e[1];n.getActiveUniforms(o,a,n[t]).forEach(function(e,t){i[t][r]=e})});for(var s={},u=n.getProgramParameter(o,n.ACTIVE_UNIFORM_BLOCKS),c=0;c<u;++c){var l=n.getActiveUniformBlockName(o,c),f={index:c,usedByVertexShader:n.getActiveUniformBlockParameter(o,c,n.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:n.getActiveUniformBlockParameter(o,c,n.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:n.getActiveUniformBlockParameter(o,c,n.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:n.getActiveUniformBlockParameter(o,c,n.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};f.used=f.usedByVertexSahder||f.usedByFragmentShader,s[l]=f}return{blockSpecs:s,uniformData:i}}var L=/\[\d+\]\.$/;function D(e,t,r,n){var o=r.blockSpecs,a=r.uniformData,i=o[n];if(!i)return d("no uniform block object named:",n),{name:n,uniforms:{}};var s=new ArrayBuffer(i.size),u=e.createBuffer(),c=i.index;e.bindBuffer(e.UNIFORM_BUFFER,u),e.uniformBlockBinding(t,i.index,c);var l=n+".";L.test(l)&&(l=l.replace(L,"."));var f={};return i.uniformIndices.forEach(function(e){var t=a[e],r=p[t.type],n=r.Type,o=t.size*r.size,i=t.name;i.substr(0,l.length)===l&&(i=i.substr(l.length)),f[i]=new n(s,t.offset,o/n.BYTES_PER_ELEMENT)}),{name:n,array:s,asFloat:new Float32Array(s),buffer:u,uniforms:f}}function z(e,t,r){var n=(t.uniformBlockSpec||t).blockSpecs[r.name];if(n){var o=n.index;return e.bindBufferRange(e.UNIFORM_BUFFER,o,r.buffer,r.offset||0,r.array.byteLength),!0}return!1}function G(e,t){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;++o){var i=e.getActiveAttrib(t,o);if(!j(i)){var a=e.getAttribLocation(t,i.name),s=A[i.type],u=s.setter(e,a,s);u.location=a,r[i.name]=u}}return r}function W(e,t){for(var r in t){var n=e[r];n&&n(t[r])}}function X(e,t){var r={program:t,uniformSetters:B(e,t),attribSetters:G(e,t)};return u.isWebGL2(e)&&(r.uniformBlockSpec=M(e,t),r.transformFeedbackInfo=U(e,t)),r}},"./src/textures.js":function(e,t,r){"use strict";t.__esModule=!0,t.setTextureDefaults_=function(e){f.copyExistingProperties(e,A),e.textureColor&&U(e.textureColor)},t.createSampler=H,t.createSamplers=function(t,r){var n={};return Object.keys(r).forEach(function(e){n[e]=H(t,r[e])}),n},t.setSamplerParameters=X,t.createTexture=se,t.setEmptyTexture=ae,t.setTextureFromArray=ie,t.loadTextureFromUrl=re,t.setTextureFromElement=$,t.setTextureFilteringForSize=V,t.setTextureParameters=W,t.setDefaultTextureColor=U,t.createTextures=function(r,o,e){e=e||J;var i=0,a=[],s={},u={};function c(){0===i&&setTimeout(function(){e(a.length?a:void 0,s,u)},0)}return Object.keys(o).forEach(function(n){var e,t=o[n];!function(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]}(t.src)||(e=function(e,t,r){u[n]=r,--i,e&&a.push(e),c()},++i),s[n]=se(r,t,e)}),c(),s},t.resizeTexture=function(e,t,r,n,o){n=n||r.width,o=o||r.height;var i=r.target||e.TEXTURE_2D;e.bindTexture(i,t);var a,s=r.level||0,u=r.internalFormat||r.format||e.RGBA,c=C(u),l=r.format||c.format,f=r.src;a=f&&(E(f)||Array.isArray(f)&&"number"==typeof f[0])?r.type||j(e,f,c.type):r.type||c.type;if(i===e.TEXTURE_CUBE_MAP)for(var d=0;d<6;++d)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+d,s,u,n,o,0,l,a,null);else e.texImage2D(i,s,u,n,o,0,l,a,null)},t.canGenerateMipmap=k,t.canFilter=O,t.getNumComponentsForFormat=function(e){var t=x[e];if(t)return t.numColorComponents;throw"unknown format: "+e},t.getBytesPerElementForInternalFormat=I,t.getFormatAndTypeForInternalFormat=C;var b=n(r("./src/utils.js")),_=n(r("./src/typedarrays.js")),f=n(r("./src/helper.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var A={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},E=_.isArrayBuffer,T="undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null,o=6407,i=6408,a=5120,s=5121,u=5123,c=5125,l=5126,d=5131,p=36193,h=33319,y=33320,m=6403,v=36244,g=36248,w=36249,x={},S=x;S[6406]={numColorComponents:1},S[6409]={numColorComponents:1},S[6410]={numColorComponents:2},S[o]={numColorComponents:3},S[i]={numColorComponents:4},S[m]={numColorComponents:1},S[v]={numColorComponents:1},S[h]={numColorComponents:2},S[y]={numColorComponents:2},S[o]={numColorComponents:3},S[g]={numColorComponents:3},S[i]={numColorComponents:4},S[w]={numColorComponents:4},S[6402]={numColorComponents:1},S[34041]={numColorComponents:2};var F={},R=F;function I(e,t){var r=F[e];if(!r)throw"unknown internal format";var n=r.bytesPerElementMap[t];if(void 0===n)throw"unknown internal format";return n}function C(e){var t=F[e];if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function P(e){return 0==(e&e-1)}function k(e,t,r,n){if(!b.isWebGL2(e))return P(t)&&P(r);var o=F[n];if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function O(e){var t=F[e];if(!t)throw"unknown internal format";return t.textureFilterable}function j(e,t,r){return E(t)?_.getGLTypeForTypedArray(t):r||e.UNSIGNED_BYTE}function B(e,t,r,n,o){if(o%1!=0)throw"can't guess dimensions";if(r||n){if(n){if(!r&&(r=o/n)%1)throw"can't guess dimensions"}else if((n=o/r)%1)throw"can't guess dimensions"}else{var i=Math.sqrt(o/(t===e.TEXTURE_CUBE_MAP?6:1));n=i%1==0?r=i:(r=o,1)}return{width:r,height:n}}function U(e){A.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}R[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[s,d,p,l]},R[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[s,d,p,l]},R[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[s,d,p,l]},R[o]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[s,d,p,l,33635]},R[i]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[s,d,p,l,32819,32820]},R[33321]={textureFormat:m,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[s]},R[36756]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[a]},R[33325]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[l,d]},R[33326]={textureFormat:m,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[l]},R[33330]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[s]},R[33329]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[a]},R[33332]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[u]},R[33331]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},R[33334]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[c]},R[33333]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},R[33323]={textureFormat:h,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[s]},R[36757]={textureFormat:h,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[a]},R[33327]={textureFormat:h,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[l,d]},R[33328]={textureFormat:h,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[l]},R[33336]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[s]},R[33335]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[a]},R[33338]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[u]},R[33337]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},R[33340]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[c]},R[33339]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},R[32849]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[s]},R[35905]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[s]},R[36194]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[s,33635]},R[36758]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[a]},R[35898]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[l,d,35899]},R[35901]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[l,d,35902]},R[34843]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[l,d]},R[34837]={textureFormat:o,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[l]},R[36221]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[s]},R[36239]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[a]},R[36215]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[u]},R[36233]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},R[36209]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[c]},R[36227]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},R[32856]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[s]},R[35907]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[s]},R[36759]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[a]},R[32855]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[s,32820,33640]},R[32854]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[s,32819]},R[32857]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},R[34842]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[l,d]},R[34836]={textureFormat:i,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[l]},R[36220]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[s]},R[36238]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[a]},R[36975]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},R[36214]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[u]},R[36232]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},R[36226]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},R[36208]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[c]},R[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[u,c]},R[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[c]},R[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[l]},R[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},R[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(R).forEach(function(e){var n=R[e];n.bytesPerElementMap={},n.bytesPerElement.forEach(function(e,t){var r=n.type[t];n.bytesPerElementMap[r]=e})});var N={};function M(e,t){void 0!==t.colorspaceConversion&&(N.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.colorspaceConversion)),void 0!==t.premultiplyAlpha&&(N.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha)),void 0!==t.flipY&&(N.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY))}function L(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,N.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,N.flipY)}function D(e){N.unpackAlignment=e.getParameter(e.UNPACK_ALIGNMENT),b.isWebGL2(e)&&(N.unpackRowLength=e.getParameter(e.UNPACK_ROW_LENGTH),N.unpackImageHeight=e.getParameter(e.UNPACK_IMAGE_HEIGHT),N.unpackSkipPixels=e.getParameter(e.UNPACK_SKIP_PIXELS),N.unpackSkipRows=e.getParameter(e.UNPACK_SKIP_ROWS),N.unpackSkipImages=e.getParameter(e.UNPACK_SKIP_IMAGES))}function z(e){e.pixelStorei(e.UNPACK_ALIGNMENT,N.unpackAlignment),b.isWebGL2(e)&&(e.pixelStorei(e.UNPACK_ROW_LENGTH,N.unpackRowLength),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,N.unpackImageHeight),e.pixelStorei(e.UNPACK_SKIP_PIXELS,N.unpackSkipPixels),e.pixelStorei(e.UNPACK_SKIP_ROWS,N.unpackSkipRows),e.pixelStorei(e.UNPACK_SKIP_IMAGES,N.unpackSkipImages))}function G(e,t,r,n){n.minMag&&(r.call(e,t,e.TEXTURE_MIN_FILTER,n.minMag),r.call(e,t,e.TEXTURE_MAG_FILTER,n.minMag)),n.min&&r.call(e,t,e.TEXTURE_MIN_FILTER,n.min),n.mag&&r.call(e,t,e.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(r.call(e,t,e.TEXTURE_WRAP_S,n.wrap),r.call(e,t,e.TEXTURE_WRAP_T,n.wrap),t!==e.TEXTURE_3D&&!f.isSampler(e,t)||r.call(e,t,e.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&r.call(e,t,e.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&r.call(e,t,e.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&r.call(e,t,e.TEXTURE_WRAP_T,n.wrapT),n.minLod&&r.call(e,t,e.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&r.call(e,t,e.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&r.call(e,t,e.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&r.call(e,t,e.TEXTURE_MAX_LEVEL,n.maxLevel)}function W(e,t,r){var n=r.target||e.TEXTURE_2D;e.bindTexture(n,t),G(e,n,e.texParameteri,r)}function X(e,t,r){G(e,t,e.samplerParameteri,r)}function H(e,t){var r=e.createSampler();return X(e,r,t),r}function V(e,t,r,n,o,i,a){r=r||A.textureOptions,i=i||e.RGBA,a=a||e.UNSIGNED_BYTE;var s=r.target||e.TEXTURE_2D;if(n=n||r.width,o=o||r.height,e.bindTexture(s,t),k(e,n,o,i))e.generateMipmap(s);else{var u=O(i)?e.LINEAR:e.NEAREST;e.texParameteri(s,e.TEXTURE_MIN_FILTER,u),e.texParameteri(s,e.TEXTURE_MAG_FILTER,u),e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function K(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function Y(e,t){return(t=t||{}).cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function q(e,t){var r=Y(e,t).map(function(e,t){return{face:e,ndx:t}});return r.sort(function(e,t){return e.face-t.face}),r}function $(n,o,i,a){var s=(a=a||A.textureOptions).target||n.TEXTURE_2D,u=a.level||0,c=i.width,l=i.height,f=a.internalFormat||a.format||n.RGBA,e=C(f),d=a.format||e.format,p=a.type||e.type;if(M(n,a),n.bindTexture(s,o),s===n.TEXTURE_CUBE_MAP){var h,y,t=i.width,r=i.height;if(t/6===r)h=r,y=[0,0,1,0,2,0,3,0,4,0,5,0];else if(r/6===t)h=t,y=[0,0,0,1,0,2,0,3,0,4,0,5];else if(t/3==r/2)h=t/3,y=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(t/2!=r/3)throw"can't figure out cube map from element: "+(i.src?i.src:i.nodeName);h=t/2,y=[0,0,1,0,0,1,1,1,0,2,1,2]}T?(T.canvas.width=h,T.canvas.height=h,l=c=h,q(n,a).forEach(function(e){var t=y[2*e.ndx+0]*h,r=y[2*e.ndx+1]*h;T.drawImage(i,t,r,h,h,0,0,h,h),n.texImage2D(e.face,u,f,d,p,T.canvas)}),T.canvas.width=1,T.canvas.height=1):"undefined"!=typeof createImageBitmap&&(l=c=h,q(n,a).forEach(function(t){var e=y[2*t.ndx+0]*h,r=y[2*t.ndx+1]*h;n.texImage2D(t.face,u,f,h,h,0,d,p,null),createImageBitmap(i,e,r,h,h,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(e){M(n,a),n.bindTexture(s,o),n.texImage2D(t.face,u,f,d,p,e),L(n,a),K(a)&&V(n,o,a,c,l,f,p)})}))}else if(s===n.TEXTURE_3D||s===n.TEXTURE_2D_ARRAY){var m=Math.min(i.width,i.height),v=Math.max(i.width,i.height),g=v/m;if(g%1!=0)throw"can not compute 3D dimensions of element";var b=i.width===v?1:0,_=i.height===v?1:0;D(n),n.pixelStorei(n.UNPACK_ALIGNMENT,1),n.pixelStorei(n.UNPACK_ROW_LENGTH,i.width),n.pixelStorei(n.UNPACK_IMAGE_HEIGHT,0),n.pixelStorei(n.UNPACK_SKIP_IMAGES,0),n.texImage3D(s,u,f,m,m,m,0,d,p,null);for(var E=0;E<g;++E){var w=E*m*b,x=E*m*_;n.pixelStorei(n.UNPACK_SKIP_PIXELS,w),n.pixelStorei(n.UNPACK_SKIP_ROWS,x),n.texSubImage3D(s,u,0,0,E,m,m,1,d,p,i)}z(n)}else n.texImage2D(s,u,f,d,p,i);L(n,a),K(a)&&V(n,o,a,c,l,f,p),W(n,o,a)}function J(){}function Z(e,t){return void 0!==t||function(e){if("undefined"!=typeof document){var t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}var r=new URL(location.href).origin;return new URL(e,location.href).origin===r}(e)?t:"anonymous"}function Q(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function ee(e,t,r){return Q(e)?(setTimeout(function(){r(null,e)}),e):function(t,e,r){var n;if(r=r||J,e=void 0!==e?e:A.crossOrigin,e=Z(t,e),"undefined"!=typeof Image){n=new Image,void 0!==e&&(n.crossOrigin=e);var o=function(){n.removeEventListener("error",i),n.removeEventListener("load",a),n=null},i=function(){var e="couldn't load image: "+t;f.error(e),r(e,n),o()},a=function(){r(null,n),o()};return n.addEventListener("error",i),n.addEventListener("load",a),n.src=t,n}if("undefined"!=typeof ImageBitmap){var s,u,c=function(){r(s,u)},l={};e&&(l.mode="cors"),fetch(t,l).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){u=e,setTimeout(c)}).catch(function(e){s=e,setTimeout(c)}),n=null}return n}(e,t,r)}function te(e,t,r){var n=(r=r||A.textureOptions).target||e.TEXTURE_2D;if(e.bindTexture(n,t),!1!==r.color){var o=function(e){return e=e||A.textureColor,E(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(r.color);if(n===e.TEXTURE_CUBE_MAP)for(var i=0;i<6;++i)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);else n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o)}}function re(r,n,o,i){return i=i||J,o=o||A.textureOptions,te(r,n,o),ee((o=Object.assign({},o)).src,o.crossOrigin,function(e,t){e?i(e,n,t):($(r,n,t,o),i(null,n,t))})}function ne(n,o,i,a){a=a||J;var e=i.src;if(6!==e.length)throw"there must be 6 urls for a cubemap";var s=i.level||0,u=i.internalFormat||i.format||n.RGBA,t=C(u),c=i.format||t.format,l=i.type||n.UNSIGNED_BYTE,f=i.target||n.TEXTURE_2D;if(f!==n.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";te(n,o,i),i=Object.assign({},i);var d,p=6,h=[],r=Y(n,i);d=e.map(function(e,t){return ee(e,i.crossOrigin,function(r){return function(e,t){--p,e?h.push(e):t.width!==t.height?h.push("cubemap face img is not a square: "+t.src):(M(n,i),n.bindTexture(f,o),5===p?Y(n).forEach(function(e){n.texImage2D(e,s,u,c,l,t)}):n.texImage2D(r,s,u,c,l,t),L(n,i),K(i)&&n.generateMipmap(f)),0===p&&a(h.length?h:void 0,o,d)}}(r[t]))})}function oe(i,a,s,u){u=u||J;var e=s.src,c=s.internalFormat||s.format||i.RGBA,t=C(c),l=s.format||t.format,f=s.type||i.UNSIGNED_BYTE,d=s.target||i.TEXTURE_2D_ARRAY;if(d!==i.TEXTURE_3D&&d!==i.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";te(i,a,s),s=Object.assign({},s);var p,h=e.length,y=[],m=s.level||0,v=s.width,g=s.height,b=e.length,_=!0;p=e.map(function(e,t){return ee(e,s.crossOrigin,function(o){return function(e,t){if(--h,e)y.push(e);else{if(M(i,s),i.bindTexture(d,a),_){_=!1,v=s.width||t.width,g=s.height||t.height,i.texImage3D(d,m,c,v,g,b,0,l,f,null);for(var r=0;r<b;++r)i.texSubImage3D(d,m,0,0,r,v,g,1,l,f,t)}else{var n=t;t.width===v&&t.height===g||(n=T.canvas,T.canvas.width=v,T.canvas.height=g,T.drawImage(t,0,0,v,g)),i.texSubImage3D(d,m,0,0,o,v,g,1,l,f,n),n===T.canvas&&(T.canvas.width=0,T.canvas.height=0)}L(i,s),K(s)&&i.generateMipmap(d)}0===h&&u(y.length?y:void 0,a,p)}}(t))})}function ie(n,e,o,t){var r=(t=t||A.textureOptions).target||n.TEXTURE_2D;n.bindTexture(r,e);var i=t.width,a=t.height,s=t.depth,u=t.level||0,c=t.internalFormat||t.format||n.RGBA,l=C(c),f=t.format||l.format,d=t.type||j(n,o,l.type);if(E(o))o instanceof Uint8ClampedArray&&(o=new Uint8Array(o.buffer));else{var p=_.getTypedArrayTypeForGLType(d);o=new p(o)}var h,y=I(c,d),m=o.byteLength/y;if(m%1)throw"length wrong size for format: "+b.glEnumToString(n,f);if(r===n.TEXTURE_3D)if(i||a||s)!i||a&&s?!a||i&&s?(h=B(n,r,i,a,m/s),i=h.width,a=h.height):(h=B(n,r,i,s,m/a),i=h.width,s=h.height):(h=B(n,r,a,s,m/i),a=h.width,s=h.height);else{var v=Math.cbrt(m);if(v%1!=0)throw"can't guess cube size of array of numElements: "+m;s=a=i=v}else h=B(n,r,i,a,m),i=h.width,a=h.height;if(D(n),n.pixelStorei(n.UNPACK_ALIGNMENT,t.unpackAlignment||1),M(n,t),r===n.TEXTURE_CUBE_MAP){var g=m/6*(y/o.BYTES_PER_ELEMENT);q(n,t).forEach(function(e){var t=g*e.ndx,r=o.subarray(t,t+g);n.texImage2D(e.face,u,c,i,a,0,f,d,r)})}else r===n.TEXTURE_3D?n.texImage3D(r,u,c,i,a,s,0,f,d,o):n.texImage2D(r,u,c,i,a,0,f,d,o);return L(n,t),z(n),{width:i,height:a,depth:s,type:d}}function ae(e,t,r){var n=r.target||e.TEXTURE_2D;e.bindTexture(n,t);var o=r.level||0,i=r.internalFormat||r.format||e.RGBA,a=C(i),s=r.format||a.format,u=r.type||a.type;if(M(e,r),n===e.TEXTURE_CUBE_MAP)for(var c=0;c<6;++c)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,o,i,r.width,r.height,0,s,u,null);else n===e.TEXTURE_3D?e.texImage3D(n,o,i,r.width,r.height,r.depth,0,s,u,null):e.texImage2D(n,o,i,r.width,r.height,0,s,u,null);L(e,r)}function se(e,t,r){r=r||J,t=t||A.textureOptions;var n=e.createTexture(),o=t.target||e.TEXTURE_2D,i=t.width||1,a=t.height||1,s=t.internalFormat||e.RGBA,u=C(s),c=t.type||u.type;e.bindTexture(o,n),o===e.TEXTURE_CUBE_MAP&&(e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var l=t.src;if(l)if("function"==typeof l&&(l=l(e,t)),"string"==typeof l)re(e,n,t,r);else if(E(l)||Array.isArray(l)&&("number"==typeof l[0]||Array.isArray(l[0])||E(l[0]))){var f=ie(e,n,l,t);i=f.width,a=f.height,c=f.type}else if(Array.isArray(l)&&("string"==typeof l[0]||Q(l[0])))o===e.TEXTURE_CUBE_MAP?ne(e,n,t,r):oe(e,n,t,r);else{if(!Q(l))throw"unsupported src type";$(e,n,l,t),i=l.width,a=l.height}else ae(e,n,t);return K(t)&&V(e,n,t,i,a,s,c),W(e,n,t),n}},"./src/twgl-full.js":function(e,t,r){"use strict";var n={m4:t.__esModule=!0,v3:!0,primitives:!0};t.primitives=t.v3=t.m4=void 0;var o=u(r("./src/m4.js"));t.m4=o;var i=u(r("./src/v3.js"));t.v3=i;var a=u(r("./src/primitives.js"));t.primitives=a;var s=r("./src/twgl.js");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=s[e]))})},"./src/twgl.js":function(e,t,r){"use strict";var n={addExtensionsToContext:t.__esModule=!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};t.addExtensionsToContext=g,t.getContext=function(e,t){return function(e,t){for(var r=["webgl2","webgl","experimental-webgl"],n=null,o=0;o<r.length;++o)if(n=e.getContext(r[o],t)){h.addExtensionsToContext&&g(n);break}return n}(e,t)},t.getWebGLContext=function(e,t){return function(e,t){for(var r=["webgl","experimental-webgl"],n=null,o=0;o<r.length;++o)if(n=e.getContext(r[o],t)){h.addExtensionsToContext&&g(n);break}return n}(e,t)},t.resizeCanvasToDisplaySize=function(e,t){t=t||1,t=Math.max(0,t);var r=e.clientWidth*t|0,n=e.clientHeight*t|0;return(e.width!==r||e.height!==n)&&(e.width=r,e.height=n,!0)},t.setDefaults=function(e){f.copyExistingProperties(e,h),o.setAttributeDefaults_(e),i.setTextureDefaults_(e)};var o=p(r("./src/attributes.js"));Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=o[e]))});var i=p(r("./src/textures.js"));Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=i[e]))});var f=p(r("./src/helper.js")),d=p(r("./src/utils.js"));Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=d[e]))});var a=r("./src/draw.js");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=a[e]))});var s=r("./src/framebuffers.js");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=s[e]))});var u=r("./src/programs.js");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=u[e]))});var c=r("./src/typedarrays.js");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=c[e]))});var l=r("./src/vertex-arrays.js");function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=l[e]))});var h={addExtensionsToContext:!0};var y=/^(.*?)_/;function m(e,t){d.glEnumToString(e,0);var r=e.getExtension(t);if(r){var n={},o=y.exec(t)[1],i="_"+o;for(var a in r){var s=r[a],u="function"==typeof s,c=u?o:i,l=a;a.endsWith(c)&&(l=a.substring(0,a.length-c.length)),void 0!==e[l]?u||e[l]===s||f.warn(l,e[l],s,a):u?e[l]=function(e){return function(){return e.apply(r,arguments)}}(s):(e[l]=s,n[l]=s)}n.constructor={name:r.constructor.name},d.glEnumToString(n,0)}return r}var v=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function g(e){for(var t=0;t<v.length;++t)m(e,v[t])}},"./src/typedarrays.js":function(e,t,r){"use strict";t.__esModule=!0,t.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return n;if(e instanceof Uint8Array)return o;if(e instanceof Uint8ClampedArray)return o;if(e instanceof Int16Array)return i;if(e instanceof Uint16Array)return a;if(e instanceof Int32Array)return s;if(e instanceof Uint32Array)return u;if(e instanceof Float32Array)return c;throw new Error("unsupported typed array type")},t.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return n;if(e===Uint8Array)return o;if(e===Uint8ClampedArray)return o;if(e===Int16Array)return i;if(e===Uint16Array)return a;if(e===Int32Array)return s;if(e===Uint32Array)return u;if(e!==Float32Array)throw new Error("unsupported typed array type");return c},t.getTypedArrayTypeForGLType=function(e){var t=l[e];if(t)return t;throw new Error("unknown gl type")};t.isArrayBuffer=void 0;var n=5120,o=5121,i=5122,a=5123,s=5124,u=5125,c=5126,l={},f=l;f[n]=Int8Array,f[o]=Uint8Array,f[i]=Int16Array,f[a]=Uint16Array,f[s]=Int32Array,f[u]=Uint32Array,f[c]=Float32Array,f[32819]=Uint16Array,f[32820]=Uint16Array,f[33635]=Uint16Array,f[5131]=Uint16Array,f[33640]=Uint32Array,f[35899]=Uint32Array,f[35902]=Uint32Array,f[36269]=Uint32Array,f[34042]=Uint32Array;var d="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};t.isArrayBuffer=d},"./src/utils.js":function(e,t,r){"use strict";t.__esModule=!0,t.isWebGL1=function(e){return!e.texStorage2D},t.isWebGL2=function(e){return!!e.texStorage2D},t.glEnumToString=void 0;var o,i,n=(o={},i={},function(e,t){return function(e){var t=e.constructor.name;if(!o[t]){for(var r in e)if("number"==typeof e[r]){var n=i[e[r]];i[e[r]]=n?"".concat(n," | ").concat(r):r}o[t]=!0}}(e),i[t]||"0x"+t.toString(16)});t.glEnumToString=n},"./src/v3.js":function(e,t,r){"use strict";t.__esModule=!0,t.add=function(e,t,r){return(r=r||new i(3))[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r},t.copy=function(e,t){return(t=t||new i(3))[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.create=function(e,t,r){var n=new i(3);e&&(n[0]=e);t&&(n[1]=t);r&&(n[2]=r);return n},t.cross=function(e,t,r){r=r||new i(3);var n=e[2]*t[0]-e[0]*t[2],o=e[0]*t[1]-e[1]*t[0];return r[0]=e[1]*t[2]-e[2]*t[1],r[1]=n,r[2]=o,r},t.distance=function(e,t){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)},t.distanceSq=function(e,t){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o},t.divide=function(e,t,r){return(r=r||new i(3))[0]=e[0]/t[0],r[1]=e[1]/t[1],r[2]=e[2]/t[2],r},t.divScalar=function(e,t,r){return(r=r||new i(3))[0]=e[0]/t,r[1]=e[1]/t,r[2]=e[2]/t,r},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},t.lerp=function(e,t,r,n){return(n=n||new i(3))[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n[2]=e[2]+r*(t[2]-e[2]),n},t.lerpV=function(e,t,r,n){return(n=n||new i(3))[0]=e[0]+r[0]*(t[0]-e[0]),n[1]=e[1]+r[1]*(t[1]-e[1]),n[2]=e[2]+r[2]*(t[2]-e[2]),n},t.length=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},t.lengthSq=function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},t.max=function(e,t,r){return(r=r||new i(3))[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r},t.min=function(e,t,r){return(r=r||new i(3))[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r},t.mulScalar=function(e,t,r){return(r=r||new i(3))[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r},t.multiply=function(e,t,r){return(r=r||new i(3))[0]=e[0]*t[0],r[1]=e[1]*t[1],r[2]=e[2]*t[2],r},t.negate=function(e,t){return(t=t||new i(3))[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},t.normalize=function(e,t){t=t||new i(3);var r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=Math.sqrt(r);1e-5<n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=0,t[1]=0,t[2]=0);return t},t.setDefaultType=function(e){var t=i;return i=e,t},t.subtract=function(e,t,r){return(r=r||new i(3))[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r};var i=Float32Array},"./src/vertex-arrays.js":function(e,t,r){"use strict";t.__esModule=!0,t.createVertexArrayInfo=function(t,e,r){var n=t.createVertexArray();t.bindVertexArray(n),e.length||(e=[e]);return e.forEach(function(e){i.setBuffersAndAttributes(t,e,r)}),t.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:n}},t.createVAOAndSetAttributes=n,t.createVAOFromBufferInfo=function(e,t,r){return n(e,t.attribSetters||t,r.attribs,r.indices)};var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r("./src/programs.js"));function n(e,t,r,n){var o=e.createVertexArray();return e.bindVertexArray(o),i.setAttributes(t,r),n&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),e.bindVertexArray(null),o}}},o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./src/twgl-full.js");function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r,n},"object"==typeof r&&"object"==typeof t?t.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof r?r.twgl=o():n.twgl=o()},{}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./internal/typestyle");r.TypeStyle=n.TypeStyle;var o=e("./types");r.types=o;var i=e("./internal/utilities");r.extend=i.extend,r.classes=i.classes,r.media=i.media;var a=new n.TypeStyle({autoGenerateTag:!0});r.setStylesTarget=a.setStylesTarget,r.cssRaw=a.cssRaw,r.cssRule=a.cssRule,r.forceRenderStyles=a.forceRenderStyles,r.fontFace=a.fontFace,r.getStyles=a.getStyles,r.keyframes=a.keyframes,r.reinit=a.reinit,r.style=a.style,r.stylesheet=a.stylesheet,r.createTypeStyle=function(e){var t=new n.TypeStyle({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}},{"./internal/typestyle":18,"./internal/utilities":19,"./types":20}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("free-style");r.ensureStringObj=function e(t){var r={},n="";for(var o in t){var i=t[o];if("$unique"===o)r[c.IS_UNIQUE]=i;else if("$nest"===o){var a=i;for(var s in a){var u=a[s];r[s]=e(u).result}}else"$debugName"===o?n=i:r[o]=i}return{result:r,debugName:n}},r.explodeKeyframes=function(e){var t={$debugName:void 0,keyframes:{}};for(var r in e){var n=e[r];"$debugName"===r?t.$debugName=n:t.keyframes[r]=n}return t}},{"free-style":11}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});function n(){return o.create(void 0,!0)}var o=e("free-style"),i=e("./formatting"),s=e("./utilities"),a=(u.prototype._afterAllSync=function(e){var t=this;this._pending++;var r=this._pending;s.raf(function(){r===t._pending&&e()})},u.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e}},u.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,r=this._lastFreeStyleChangeId;!this._pendingRawChange&&t===r||(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},u.prototype.style=function(){var e=this._freeStyle,t=i.ensureStringObj(s.extend.apply(void 0,arguments)),r=t.result,n=t.debugName,o=n?e.registerStyle(r,n):e.registerStyle(r);return this._styleUpdated(),o},u);function u(e){var t=e.autoGenerateTag,a=this;this.cssRaw=function(e){e&&(a._raw+=e||"",a._pendingRawChange=!0,a._styleUpdated())},this.cssRule=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=i.ensureStringObj(s.extend.apply(void 0,t)).result;a._freeStyle.registerRule(e,n),a._styleUpdated()},this.forceRenderStyles=function(){var e=a._getTag();e&&(e.textContent=a.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=a._freeStyle,n=0,o=e;n<o.length;n++){var i=o[n];r.registerRule("@font-face",i)}a._styleUpdated()},this.getStyles=function(){return(a._raw||"")+a._freeStyle.getStyles()},this.keyframes=function(e){var t=i.explodeKeyframes(e),r=t.keyframes,n=t.$debugName,o=a._freeStyle.registerKeyframes(r,n);return a._styleUpdated(),o},this.reinit=function(){var e=n();a._freeStyle=e,a._lastFreeStyleChangeId=e.changeId,a._raw="",a._pendingRawChange=!1;var t=a._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){a._tag&&(a._tag.textContent=""),a._tag=e,a.forceRenderStyles()},this.stylesheet=function(e){for(var t={},r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++){var o=n[r],i=e[o];i&&(t[i.$debugName=o]=a.style(i))}return t};var r=n();this._autoGenerateTag=t,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}r.TypeStyle=a},{"./formatting":17,"./utilities":19,"free-style":11}],19:[function(e,t,r){"use strict";function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r={},n=0,o=e;n<o.length;n++){var i=o[n];if(null!=i&&!1!==i)for(var a in i){var s=i[a];!s&&0!==s||("$nest"===a&&s?r[a]=r.$nest?u(r.$nest,s):s:-1!==a.indexOf("&")||0===a.indexOf("@media")?r[a]=r[a]?u(r[a],s):s:r[a]=s)}}return r}Object.defineProperty(r,"__esModule",{value:!0}),r.raf="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window),r.classes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return!!t[e]&&e}):[t]}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!!e}).join(" ")},r.extend=u,r.media=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n,o=[];return e.type&&o.push(e.type),e.orientation&&o.push("(orientation: "+e.orientation+")"),e.minWidth&&o.push("(min-width: "+i(e.minWidth)+")"),e.maxWidth&&o.push("(max-width: "+i(e.maxWidth)+")"),e.minHeight&&o.push("(min-height: "+i(e.minHeight)+")"),e.maxHeight&&o.push("(max-height: "+i(e.maxHeight)+")"),{$nest:(n={},n["@media "+o.join(" and ")]=u.apply(void 0,t),n)}};var i=function(e){return"string"==typeof e?e:e+"px"}},{}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}]},{},[9]);
//# sourceMappingURL=bundle.js.map
