{"version":3,"sources":["bundle.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","__esModule","editor_1","injector_1","theme_default_1","html_escape_1","Prism","CodeFlask","prototype","startEditor","injectCss","editorCss","this","opts","styleParent","createWrapper","createTextarea","createPre","createCode","runOptions","listenTextarea","populateDefault","updateCode","editorRoot","innerHTML","elWrapper","createElement","classList","add","elTextarea","elPre","elCode","language","createLineNumbers","elLineNumbers","setLineNumber","elementTag","whereToAppend","element","document","appendChild","rtl","tabSize","enableAutocorrect","lineNumbers","defaultTheme","areaId","ariaLabelledby","readonly","handleTabs","handleSelfClosingCharacters","handleNewLineIndentation","setAttribute","defaultCssTheme","enableReadonlyMode","updateLineNumbersCount","numberList","lineNumber","_this","addEventListener","target","value","escapeHtml","highlight","setTimeout","runUpdate","style","transform","scrollLeft","scrollTop","keyCode","preventDefault","input","selectionDir","selectionDirection","selStartPos","selectionStart","selEndPos","selectionEnd","inputVal","beforeSelection","substr","selectionVal","substring","afterSelection","indent","repeat","currentLineStart","split","pop","startIndentLen","endIndentLen","shiftKey","replace","RegExp","join","newCode","key","includes","closeCharacter","lineStart","lastIndexOf","spaceLast","slice","search","char","skipCloseChar","skipChar","newSelectionEnd","closeChar","String","fromCharCode","charCodeAt","selectionText","hasSelection","Math","abs","bind","updateLanguage","newLanguage","oldLanguage","remove","addLanguage","name","options","languages","highlightElement","onUpdate","callback","toString","updateCallBack","getCode","disableReadonlyMode","removeAttribute","selectorOrElement","nodeType","querySelector","./styles/editor","./styles/injector","./styles/theme-default","./utils/html-escape","prismjs","2","FONT_FAMILY","COLOR","cssSupports","BACKGROUND_COLOR","LINE_NUMBER_WIDTH","FONT_SIZE","LINE_HEIGHT","../utils/css-supports","./theme-default","3","css","styleName","parent","CSS_ID","PARENT","head","getElementById","id","4","5","toCamelCase","cssProperty","filter","word","map","toUpperCase","toLowerCase","property","CSS","supports","body","6","entityMap","&","<",">","\"","'","/","`","=","string","s","7","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","__generator","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","push","tagName","append","newChild","load_text","names","_a","all","fetch","res","text","rand","min","max","undefined","random","twgl_js_1","typestyle_1","codeflask_1","localforage_1","xterm_1","fit","log","console","error","clear","instance_demo","gl","vs","fs","program_info","createProgramInfo","inst_wto_mat4_arr","Float32Array","num_instances","inst_color_arr","Array","mat","buffer","m4","translation","rotateZ","PI","rotateX","quad_verts","primitives","createPlaneVertices","Object","assign","instanceWorld","numComponents","data","divisor","instanceColor","buffer_info","createBufferInfoFromArrays","vertex_array_info","createVertexArrayInfo","time","ratio","window","devicePixelRatio","canvas","width","clientWidth","height","clientHeight","viewport","enable","DEPTH_TEST","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","fov","aspect","projection","perspective","speed","eye","sin","cos","camera","lookAt","view","inverse","uniforms","u_lightWorldPos","u_lightColor","u_ambient","u_specular","u_shininess","u_specularFactor","u_viewProjection","multiply","u_viewInverse","useProgram","program","setBuffersAndAttributes","setUniforms","drawBufferInfo","TRIANGLES","numElements","RenderLoop","start","requestAnimationFrame","loop","callback_arr","max_frame","frame_count","forEach","err","prev_time","Element","className","child","content","textContent","HTMLElement","Vec2","x","MatrixRP2","b","d","m1","m2","scale","sx","sy","rotate","angle","translate","tx","ty","shear","shx","shy","multimatrix","matrices","_i","arguments","reduce","drawPath","context","path","save","beginPath","moveTo","lineTo","stroke","fill","restore","vec2Array","array","bullet_editor","crc","render_loop","atan2","toward_speed_vector","game","div_editor","div_canvas","div_setting","code_1","csk_1","saved_code","runCode_1","reload_code_button","load_code_button","clear_bullet_button","saveCode_1","bullets","drawEditor","getContext","period","end","floor","pos","prev_pos","dpv","sv","paddingLeft","overflow","display","flexWrap","getItem","game_setting","eval","setItem","altKey","ctrlKey","code_2","Date","toLocaleTimeString","clearRect","grid_style_1","strokeStyle","lineWidth","ceil","interval_1","sw_1","sh_1","ew_1","eh_1","grid_row","lineCap","t_1","pt_1","radius","matrix","t_2","l","bullet_style_1","spawn","isArray","w","h","out_of_bound","size","drawBullet_1","Terminal","applyAddon","terminal","allowTransparency","theme","background","div_terminal","position","open","hello_word","write","./editor/codeflask","localforage","twgl.js","typestyle","xterm","xterm/lib/addons/fit/fit","8","process","extendStatics","__extends","setPrototypeOf","__proto__","hasOwnProperty","__","constructor","create","defineProperty","uniqueId","IS_UNIQUE","upperCasePattern","msPattern","interpolatePattern","escapePattern","propLower","m","CSS_NUMBER","animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","flood-opacity","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","keys","_b","_c","hyphenate","propertyName","stringHash","str","len","styleToString","sortTuples","sort","parseStyles","styles","hasNestedStyles","properties","nestedStyles","isUnique","trim","stringifyProperties","nested","interpolate","selector","indexOf","stylize","rulesList","stylesList","pid","rules","nested_1","nested_2","_d","composeStylize","cache","isStyle","stylesList_1","item","Style","Selector","rulesList_1","Rule","arr","escape","noopChanges","change","Cache","count","_counters","_children","clone","_keys","sheet","getStyles","changeId","changes","curIndex","prevItemChangeId","merge","splice","index","prevChangeId","unmerge","values","_super","rule","FreeStyle","registerStyle","displayName","hash","debug","registerKeyframes","keyframes","registerHashRule","prefix","registerRule","registerCss","env","NODE_ENV","_process","9","global","define","amd","self","_dereq_","scheduleDrain","draining","Mutation","MutationObserver","WebKitMutationObserver","called","observer","nextTick","createTextNode","observe","characterData","setImmediate","MessageChannel","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","channel","port1","onmessage","port2","postMessage","queue","oldQueue","task","immediate","INTERNAL","handlers","REJECTED","FULFILLED","PENDING","resolver","state","outcome","safelyResolveThenable","QueueItem","promise","onFulfilled","onRejected","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","unwrap","func","returnValue","getThen","obj","thenable","onError","onSuccess","tryCatch","status","out","reason","iterable","resolved","allResolver","outValue","race","response","_typeof","idb","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","getIDB","createBlob","parts","Blob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","getBlob","type","Promise$1","executeCallback","executeTwoCallbacks","errorCallback","normalizeKey","warn","getCallback","DETECT_BLOB_SUPPORT_STORE","supportsBlobs","dbContexts","READ_ONLY","READ_WRITE","_checkBlobSupport","txn","transaction","blob","objectStore","put","onabort","stopPropagation","oncomplete","matchedChrome","navigator","userAgent","match","matchedEdge","parseInt","_checkBlobSupportWithoutCaching","_deferReadiness","dbInfo","dbContext","deferredOperation","deferredOperations","dbReady","_advanceReadiness","_rejectReadiness","_getConnection","upgradeNeeded","forages","db","close","dbArgs","version","openreq","onupgradeneeded","createObjectStore","storeName","oldVersion","ex","newVersion","onerror","onsuccess","_getOriginalConnection","_getUpgradedConnection","_isUpgradeNeeded","defaultVersion","isNewStore","objectStoreNames","contains","isDowngrade","isUpgrade","incVersion","_decodeBlob","encodedBlob","bin","buf","ArrayBuffer","Uint8Array","_binStringToArrayBuffer","atob","_isEncodedBlob","__local_forage_encoded_blob","_fullyReady","_initReady","_dbInfo","createTransaction","mode","retries","forage","_tryReconnect","asyncStorage","_driver","_initStorage","ready","initPromises","ignoreErrors","j","_defaultConfig","k","_support","isSafari","openDatabase","test","platform","hasFetch","IDBKeyRange","isIndexedDBValid","iterate","req","openCursor","iterationNumber","cursor","get","blobSupport","reader","FileReader","onloadend","base64","btoa","readAsBinaryString","_encodeBlob","store","removeItem","advanced","advance","dropInstance","currentConfig","config","dbPromise","deleteObjectStore","_forage2","deleteDatabase","onblocked","BASE_CHARS","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER","SERIALIZED_MARKER_LENGTH","TYPE_ARRAYBUFFER","TYPE_BLOB","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","stringToBuffer","serializedString","encoded1","encoded2","encoded3","encoded4","bufferLength","bytes","bufferToString","base64String","localforageSerializer","serialize","valueType","marker","fileReader","onload","readAsArrayBuffer","JSON","stringify","deserialize","parse","blobType","matcher","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float64Array","createDbTable","executeSql","tryExecuteSql","sqlStatement","args","SYNTAX_ERR","results","rows","webSQLStorage","dbInfoPromise","description","serializer","_setItem","retriesLeft","originalValue","sqlError","QUOTA_ERR","storeNames","getAllStoreNames","operationInfo","dropTable","operations","_getKeyPrefix","defaultConfig","keyPrefix","_isLocalStorageUsable","localStorageTestKey","localStorage","checkIfLocalStorageThrows","searchElement","isNaN","localStorageWrapper","isLocalStorageValid","keyPrefixLength","itemKey","arg","DefinedDrivers","DriverSupport","DefaultDrivers","INDEXEDDB","WEBSQL","LOCALSTORAGE","DefaultDriverOrder","OptionalDriverMethods","LibraryMethods","concat","DefaultConfig","driver","callWhenReady","localForageInstance","libraryMethod","_args","extend","_key","LocalForage","driverTypeKey","instance","Constructor","_classCallCheck","driverName","defineDriver","_config","_driverSet","_initDriver","_ready","_wrapLibraryMethodsWithReady","setDriver","localforage_js","driverObject","complianceError","driverMethods","driverMethodName","methodNotImplementedFactory","methodName","_len","optionalDriverMethod","configureMissingMethods","setDriverSupport","support","info","getDriver","getDriverPromise","getSerializer","serializerPromise","drivers","supportedDrivers","_getSupportedDrivers","setDriverToConfig","extendSelfWithDriver","_extend","oldDriverSetDone","currentDriverIndex","driverPromiseLoop","initDriver","libraryMethodsAndProperties","createInstance","10","_self","lang","manual","disableWorkerMessageHandler","util","encode","tokens","Token","alias","objId","deepClone","visited","redef","insertBefore","inside","before","insert","root","grammar","ret","token","newToken","old","DFS","propertyType","plugins","highlightAll","async","highlightAllUnder","container","hooks","run","elements","querySelectorAll","nodeName","insertHighlightedCode","highlightedCode","Worker","worker","filename","evt","immediateClose","tokenize","matchGrammar","strarr","startPos","oneshot","patterns","pattern","lookbehind","greedy","lookbehindLength","flags","source","lastIndex","exec","from","to","delNum","after","wrapped","rest","callbacks","matchedStr","tag","classes","attributes","aliases","message","script","currentScript","getElementsByTagName","src","hasAttribute","readyState","WorkerGlobalScope","markup","comment","prolog","doctype","cdata","punctuation","namespace","attr-value","attr-name","entity","includedCdataInside","included-cdata","def","xml","html","mathml","svg","atrule","url","important","function","addInlined","style-attr","clike","class-name","keyword","boolean","number","operator","javascript","regex","function-variable","parameter","constant","template-string","interpolation","interpolation-punctuation","js","fileHighlight","Extensions","py","rb","ps1","psm1","sh","bat","tex","pre","getAttribute","extension","xhr","XMLHttpRequest","responseText","statusText","send","toolbar","registerButton","href","11","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","runClearTimeout","Item","noop","title","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","12","factory","installedModules","__webpack_require__","modules","./src/attributes.js","createAttribsFromArrays","createBuffersFromArrays","arrays","buffers","createBufferFromArray","indices","elementType","typedArrays","getGLTypeForTypedArray","makeTypedArray","ii","positionKeys","getArray","getNumComponents","getNumElementsFromNonIndexedArrays","createBufferFromTypedArray","srcBufferInfo","newAttribs","bufferInfo","attribs","newIndices","ELEMENT_ARRAY_BUFFER","defaults","attribPrefix","attrib","bindBuffer","ARRAY_BUFFER","numBytes","getBufferParameter","BUFFER_SIZE","bytesPerValue","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","FLOAT","getBytesPerValueForGLType","totalElements","getNumElementsFromAttributes","setAttribInfoBufferFromArray","attribInfo","offset","bufferSubData","setBufferFromTypedArray","drawType","setAttributePrefix","setAttributeDefaults_","newDefaults","helper","copyExistingProperties","getNumComponents_","getArray_","_interopRequireWildcard","newObj","desc","getOwnPropertyDescriptor","set","default","bufferData","STATIC_DRAW","typedArray","isBuffer","createBuffer","isIndices","texcoordRE","colorRE","guessNumComponentsFromName","arrayName","isArrayBuffer","Type","attribName","normalization","WebGLBuffer","normalize","numValues","arrayType","BYTES_PER_ELEMENT","getGLTypeForTypedArrayType","typedArrayType","getNormalizationForTypedArrayType","getNormalizationForTypedArray","stride","./src/draw.js","drawObjectList","objectsToDraw","lastUsedProgramInfo","lastUsedBufferInfo","object","active","programInfo","vertexArrayInfo","bindBuffers","vertexArrayObject","bindVertexArray","programs","instanceCount","drawElementsInstanced","drawElements","drawArraysInstanced","drawArrays","./src/framebuffers.js","bindFramebufferInfo","framebufferInfo","FRAMEBUFFER","bindFramebuffer","framebuffer","drawingBufferWidth","drawingBufferHeight","createFramebufferInfo","attachments","fb","createFramebuffer","colorAttachmentCount","defaultAttachments","attachmentOptions","attachment","format","attachmentPoint","attachmentsByFormat","getAttachmentPointForFormat","COLOR_ATTACHMENT0","renderbufferFormats","isRenderbufferFormat","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","textureOptions","auto","minMag","LINEAR","mag","wrapS","wrap","CLAMP_TO_EDGE","wrapT","textures","createTexture","isRenderbuffer","framebufferRenderbuffer","isTexture","framebufferTexture2D","texTarget","TEXTURE_2D","level","resizeFramebufferInfo","ndx","resizeTexture","./src/helper.js","dst","copyNamedProperties","WebGLRenderbuffer","isShader","WebGLShader","WebGLTexture","isSampler","WebGLSampler","./src/m4.js","axisRotate","axis","angleInRadians","MatType","z","sqrt","xx","yy","zz","oneMinusCosine","r00","r01","r02","r10","r11","r12","r20","r21","r22","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","axisRotation","copy","frustum","left","right","bottom","top","near","far","dx","dy","dz","getAxis","v3","getTranslation","identity","up","xAxis","tempV3a","yAxis","tempV3b","zAxis","tempV3c","subtract","cross","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b10","b11","b12","b13","b20","b21","b22","b23","b30","b31","b32","b33","negate","ortho","fieldOfViewYInRadians","zNear","zFar","tan","rangeInv","rotateY","rotationX","rotationY","rotationZ","v0","v1","v2","scaling","setAxis","setDefaultType","ctor","oldType","setTranslation","transformDirection","transformNormal","mi","transformPoint","m30","m31","m32","m33","transpose","tmp_0","tmp_1","tmp_2","tmp_3","tmp_4","tmp_5","tmp_6","tmp_7","tmp_8","tmp_9","tmp_10","tmp_11","tmp_12","tmp_13","tmp_14","tmp_15","tmp_16","tmp_17","tmp_18","tmp_19","tmp_20","tmp_21","tmp_22","tmp_23","t0","t1","t2","t3","./src/primitives.js","create3DFVertices","createAugmentedTypedArray","createCubeVertices","createSphereVertices","createTruncatedConeVertices","createXYQuadVertices","createCresentVertices","createCylinderVertices","createTorusVertices","createDiscVertices","deindexVertices","vertices","newVertices","allButIndices","srcBuffer","dstBuffer","jj","flattenNormals","normals","normal","numNormals","nax","nay","naz","nbx","nby","nbz","ncx","ncy","ncz","nx","ny","nz","makeRandomVertexColors","vcolors","range","randInt","color","numVertsPerColor","vertsPerColor","numSets","_ii2","reorientDirections","reorientNormals","reorientPositions","reorientVertices","concatVertices","arrayOfArrays","baseName","_loop","arrayInfo","base","newArrays","arraySpec","spec","getLengthOfCombinedArrays","newArraySpec","createArrayOfSameType","newArray","baseIndex","copyElements","copyArraysToNewArray","duplicateVertices","srcArray","createDiscBuffers","createDiscBufferInfo","createTorusBuffers","createTorusBufferInfo","createCylinderBuffers","createCylinderBufferInfo","createCresentBuffers","createCresentBufferInfo","createXYQuadBuffers","createXYQuadBufferInfo","createTruncatedConeBuffers","createTruncatedConeBufferInfo","createSphereBuffers","createSphereBufferInfo","createPlaneBuffers","createPlaneBufferInfo","createCubeBuffers","createCubeBufferInfo","create3DFBuffers","create3DFBufferInfo","augmentTypedArray","reset","opt_index","opt_type","applyFuncToV3Array","fn","tmp","xOffset","yOffset","texcoord","depth","subdivisionsWidth","subdivisionsDepth","numVertices","positions","texcoords","numVertsAcross","_z","_x","subdivisionsAxis","subdivisionsHeight","opt_startLatitudeInRadians","opt_endLatitudeInRadians","opt_startLongitudeInRadians","opt_endLongitudeInRadians","latRange","longRange","theta","phi","sinTheta","cosTheta","sinPhi","ux","uy","uz","numVertsAround","_x2","_y","CUBE_FACE_INDICES","cornerVertices","faceNormals","uvCoords","faceIndices","uv","bottomRadius","topRadius","radialSubdivisions","verticalSubdivisions","opt_topCap","opt_bottomCap","topCap","bottomCap","extra","vertsAroundEdge","slant","cosSlant","sinSlant","ringRadius","_yy","_ii","expandRLEData","rleData","padding","runLength","colors","numVerts","verticalRadius","outerRadius","innerRadius","thickness","subdivisionsDown","startOffset","endOffset","subdivisionsThick","offsetRange","createArc","arcRadius","normalMult","normalAdd","uMult","uAdd","uBack","xBack","px","pz","createSurface","leftArcOffset","rightArcOffset","numVerticesDown","bodySubdivisions","startAngle","endAngle","radialParts","bodyParts","sliceAngle","sliceSin","ring","ringAngle","xSin","zCos","_slice","_ring","nextRingIndex","nextSliceIndex","divisions","stacks","stackPower","firstIndex","radiusSpan","pointsPerStack","stack","stackRadius","pow","createBufferFunc","createBufferInfoFunc","arraySpecPropertyNames","dstNdx","arraySrc","./src/programs.js","createAttributeSetters","createProgram","createProgramFromScripts","shaderScriptIds","opt_attribs","opt_locations","opt_errorCallback","progOptions","getProgramOptions","shaders","shader","createShaderFromScript","defaultShaderType","createProgramFromSources","shaderSources","good","createProgramInfoFromProgram","createUniformSetters","createUniformBlockSpecFromProgram","createUniformBlockInfoFromProgram","createUniformBlockInfo","blockName","uniformBlockSpec","createTransformFeedback","tf","bindTransformFeedback","TRANSFORM_FEEDBACK","bindTransformFeedbackInfo","createTransformFeedbackInfo","setAttributes","attribSetters","setters","actualSetters","uniformSetters","numArgs","andx","vals","setter","setUniformBlock","uniformBlockInfo","bindUniformBlock","UNIFORM_BUFFER","DYNAMIC_DRAW","setBlockUniforms","utils","TEXTURE_CUBE_MAP","TEXTURE_2D_ARRAY","typeMap","getBindPointForSamplerType","bindPoint","intSetter","location","uniform1i","intArraySetter","uniform1iv","intVec2Setter","uniform2iv","intVec3Setter","uniform3iv","intVec4Setter","uniform4iv","samplerSetter","unit","isWebGL2","textureOrPair","texture","sampler","activeTexture","TEXTURE0","bindTexture","bindSampler","samplerArraySetter","units","floatAttribSetter","disableVertexAttribArray","vertexAttrib4fv","vertexAttrib3fv","vertexAttrib2fv","vertexAttrib1fv","enableVertexAttribArray","vertexAttribPointer","vertexAttribDivisor","intAttribSetter","vertexAttrib4iv","vertexAttribIPointer","uintAttribSetter","vertexAttrib4uiv","matAttribSetter","typeInfo","defaultSize","rowOffset","uniform1f","arraySetter","uniform1fv","uniform2fv","uniform3fv","uniform4fv","uniform1ui","uniform1uiv","uniform2uiv","uniform3uiv","uniform4uiv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","uniformMatrix2x3fv","uniformMatrix2x4fv","uniformMatrix3x2fv","uniformMatrix3x4fv","uniformMatrix4x2fv","uniformMatrix4x3fv","attrTypeMap","spaceRE","loadShader","shaderSource","shaderType","errFn","createShader","lineOffset","compileShader","getShaderParameter","COMPILE_STATUS","lastError","getShaderInfoLog","line","addLineNumbers","deleteShader","transformFeedbackVaryings","opt","attribLocations","getShaderTypeFromScriptType","scriptType","FRAGMENT_SHADER","VERTEX_SHADER","deleteShaders","realShaders","newShaders","elem","attachShader","bindAttribLocation","varyings","transformFeedbackMode","SEPARATE_ATTRIBS","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","scriptId","opt_shaderType","shaderScript","isBuiltIn","startsWith","textureUnit","createUniformSetter","uniformInfo","getUniformLocation","numUniforms","ACTIVE_UNIFORMS","getActiveUniform","numVaryings","TRANSFORM_FEEDBACK_VARYINGS","varying","getTransformFeedbackVarying","transformFeedbackInfo","bindBufferRange","TRANSFORM_FEEDBACK_BUFFER","bindBufferBase","uniformData","uniformIndices","pair","pname","getActiveUniforms","blockSpecs","numUniformBlocks","ACTIVE_UNIFORM_BLOCKS","getActiveUniformBlockName","blockSpec","usedByVertexShader","getActiveUniformBlockParameter","UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER","usedByFragmentShader","UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER","UNIFORM_BLOCK_DATA_SIZE","UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES","used","usedByVertexSahder","arraySuffixRE","uniformBufferIndex","uniformBlockBinding","uniformNdx","asFloat","bufferBindIndex","byteLength","numAttribs","ACTIVE_ATTRIBUTES","getActiveAttrib","getAttribLocation","./src/textures.js","setTextureDefaults_","textureColor","setDefaultTextureColor","createSampler","createSamplers","samplerOptions","samplers","setSamplerParameters","setEmptyTexture","setTextureFromArray","loadTextureFromUrl","setTextureFromElement","setTextureFilteringForSize","setTextureParameters","createTextures","numDownloading","errors","images","callCallbackIfReady","onLoadFn","isAsyncSrc","img","internalFormat","RGBA","formatType","getFormatAndTypeForInternalFormat","getTextureTypeForArrayType","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","canGenerateMipmap","canFilter","getNumComponentsForFormat","formatInfo","numColorComponents","getBytesPerElementForInternalFormat","crossOrigin","ctx","RGB","HALF_FLOAT","HALF_FLOAT_OES","RG","RG_INTEGER","RED","RED_INTEGER","RGB_INTEGER","RGBA_INTEGER","textureInternalFormatInfo","bytesPerElement","bytesPerElementMap","textureFormat","isPowerOf2","colorRenderable","textureFilterable","defaultType","guessDimensions","lastPackState","savePackState","colorspaceConversion","getParameter","UNPACK_COLORSPACE_CONVERSION_WEBGL","pixelStorei","premultiplyAlpha","UNPACK_PREMULTIPLY_ALPHA_WEBGL","flipY","UNPACK_FLIP_Y_WEBGL","restorePackState","saveSkipState","unpackAlignment","UNPACK_ALIGNMENT","unpackRowLength","UNPACK_ROW_LENGTH","unpackImageHeight","UNPACK_IMAGE_HEIGHT","unpackSkipPixels","UNPACK_SKIP_PIXELS","unpackSkipRows","UNPACK_SKIP_ROWS","unpackSkipImages","UNPACK_SKIP_IMAGES","restoreSkipState","setTextureSamplerParameters","parameteriFn","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_3D","TEXTURE_WRAP_R","wrapR","minLod","TEXTURE_MIN_LOD","maxLod","TEXTURE_MAX_LOD","baseLevel","TEXTURE_BASE_LEVEL","maxLevel","TEXTURE_MAX_LEVEL","texParameteri","samplerParameteri","generateMipmap","filtering","NEAREST","shouldAutomaticallySetTextureFilteringForSize","getCubeFaceOrder","cubeFaceOrder","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","getCubeFacesWithNdx","facesWithNdx","face","slices","imgWidth","imgHeight","drawImage","createImageBitmap","colorSpaceConversion","imageBitmap","smallest","largest","xMult","yMult","texImage3D","srcX","srcY","texSubImage3D","setToAnonymousIfUndefinedAndURLIsNotSameOrigin","hostname","port","protocol","localOrigin","URL","origin","urlIsSameOrigin","isTexImageSource","ImageBitmap","ImageData","loadAndUseImage","Image","clearEventHandlers","removeEventListener","onLoad","msg","bm","cb","ok","bitmap","catch","loadImage","setTextureTo1PixelColor","make1Pixel","loadCubemapFromUrls","urls","imgs","numToLoad","faces","faceTarget","otherTarget","uploadImg","loadSlicesFromUrls","firstImage","getTypedArrayTypeForGLType","dimensions","glEnumToString","cbrt","faceSize","subarray","./src/twgl-full.js","_exportNames","_twgl","./src/twgl.js","addExtensionsToContext","getWebGLContext","resizeCanvasToDisplaySize","setDefaults","createContext","create3DContext","multiplier","_draw","_framebuffers","_programs","_typedarrays","_vertexArrays","prefixRE","addExtensionToContext","extensionName","ext","getExtension","enums","fnSuffix","enumSuffix","isFunc","suffix","endsWith","origFn","supportedExtensions","./src/typedarrays.js","CTOR","glTypeToTypedArray","tt","SharedArrayBuffer","./src/utils.js","isWebGL1","texStorage2D","haveEnumsForType","existing","addEnums","./src/v3.js","VecType","distance","distanceSq","divide","divScalar","dot","lerp","lerpV","lengthSq","mulScalar","lenSq","./src/vertex-arrays.js","programInfos","vao","createVertexArray","createVAOAndSetAttributes","createVAOFromBufferInfo","getter","enumerable","toStringTag","ns","moduleId","13","TypeStyle","types","utilities_1","media","ts","autoGenerateTag","setStylesTarget","cssRaw","cssRule","forceRenderStyles","fontFace","reinit","stylesheet","createTypeStyle","./internal/typestyle","./internal/utilities","./types","14","ensureStringObj","debugName","val","subproperties","explodeKeyframes","frames","$debugName","free-style","15","createFreeStyle","formatting_1","_afterAllSync","_pending","pending","raf","_getTag","_tag","_autoGenerateTag","_styleUpdated","_freeStyle","lastChangeId","_lastFreeStyleChangeId","_pendingRawChange","freeStyle","mustBeValidCSS","_raw","objects","animationName","classNames_1","getOwnPropertyNames","classDef","./formatting","./utilities","16","objects_1","flattened","mediaQuery","mediaQuerySections","orientation","minWidth","mediaLength","maxWidth","minHeight","maxHeight","$nest","17","18","Strings","Platform_1","RenderDebouncer_1","Lifecycle_1","Lifecycle_2","ScreenDprMonitor_1","AccessibilityManager","Disposable","dispose","_terminal","_accessibilityTreeRoot","_rowElements","_onBoundaryFocus","boundaryElement","beforeBoundaryElement","lines","relatedTarget","topBoundaryElement","bottomBoundaryElement","_rowContainer","shift","_topBoundaryFocusListener","_bottomBoundaryFocusListener","newElement","_createAccessibilityTreeNode","unshift","insertAdjacentElement","scrollLines","focus","stopImmediatePropagation","_onResize","children","_refreshRowsDimensions","tabIndex","_refreshRowDimensions","_onTab","spaceCount","_onChar","_liveRegionLineCount","MAX_ROWS_TO_READ","_charsToConsume","_charsToAnnounce","_liveRegion","tooMuchOutput","isMac","_clearLiveRegion","_onKey","keyChar","_refreshRows","_renderRowsDebouncer","refresh","_renderRows","setSize","lineData","translateBufferLineToString","ydisp","posInSet","blankLine","_announceCharacters","_dimensions","actualCellHeight","setDimensions","RenderDebouncer","register","onResize","onRender","onScroll","addDisposableListener","onLineFeed","onKey","_screenDprMonitor","ScreenDprMonitor","setListener","addDisposableDomListener","./Strings","./common/Lifecycle","./common/Platform","./ui/Lifecycle","./ui/RenderDebouncer","./ui/ScreenDprMonitor","19","CircularList_1","BufferLine_1","BufferReflow_1","Marker_1","MAX_BUFFER_SIZE","Buffer","getNullCell","attr","_nullCell","fg","bg","getWhitespaceCell","_whitespaceCell","getBlankLine","isWrapped","BufferLine","cols","_hasScrollback","maxLength","_rows","configurable","relativeY","ybase","_getCorrectBufferLength","correctBufferLength","scrollback","fillViewportRows","fillAttr","DEFAULT_ATTR_DATA","CircularList","scrollBottom","setupTabStops","resize","newCols","newRows","nullCell","newMaxLength","_cols","addToY","amountToTrim","trimStart","savedY","savedX","_isReflowEnabled","_reflow","windowsMode","_reflowLarger","_reflowSmaller","toRemove","reflowLargerGetLinesToRemove","newLayoutResult","reflowLargerCreateNewLayout","reflowLargerApplyNewLayout","layout","_reflowLargerAdjustViewport","countRemoved","viewportAdjustments","toInsert","countToInsert","nextLine","getTrimmedLength","wrappedLines","absoluteY","lastLineLength","destLineLengths","reflowSmallerGetNewLineLengths","linesToAdd","trimmedLines","newLines","newLine","destLineIndex","destCol","srcLineIndex","srcCol","cellsToCopy","copyCellsFrom","wrappedLinesIndex","getWrappedLineTrimmedLength","setCell","insertEvents","originalLines","originalLinesLength","originalLineIndex","nextToInsertIndex","nextToInsert","countInsertedSoFar","nextI","amount","insertCountEmitted","onInsertEmitter","fire","onTrimEmitter","stringIndexToBufferIndex","lineIndex","stringIndex","trimRight","length_1","CHAR_DATA_WIDTH_INDEX","CHAR_DATA_CHAR_INDEX","startCol","endCol","translateToString","getWrappedRangeForLine","first","last","tabs","prevStop","tabStopWidth","nextStop","addMarker","Marker","markers","onTrim","onInsert","event","onDelete","onDispose","_removeMarker","startIndex","endIndex","startOverscan","endOverscan","BufferStringIterator","savedCurAttrData","CellData","fromCharData","NULL_CELL_CHAR","NULL_CELL_WIDTH","NULL_CELL_CODE","WHITESPACE_CELL_CHAR","WHITESPACE_CELL_WIDTH","WHITESPACE_CELL_CODE","hasNext","_current","_endIndex","_buffer","_startIndex","_startOverscan","_endOverscan","_trimRight","./common/CircularList","./core/buffer/BufferLine","./core/buffer/BufferReflow","./core/buffer/Marker","20","Buffer_1","EventEmitter2_1","BufferSet","_onBufferActivate","_alt","_activeBuffer","_normal","activateNormalBuffer","activeBuffer","inactiveBuffer","activateAltBuffer","EventEmitter2","./Buffer","./common/EventEmitter2","21","CharMeasure","_onCharSizeChanged","_width","_height","measure","_measureElement","fontFamily","fontSize","geometry","getBoundingClientRect","adjustedHeight","parentElement","_document","_parentElement","22","TypedArrayUtils_1","wcwidth","COMBINING_BMP","COMBINING_HIGH","control","table","nul","num","ucs","mid","bisearch","wcwidthHigh","getStringCellWidth","second","./common/TypedArrayUtils","23","prepareTextForTerminal","bracketTextForPaste","bracketedPasteMode","moveTextAreaUnderMouseCursor","ev","term","screenElement","clientX","clientY","textarea","zIndex","copyHandler","selectionManager","isMSIE","clipboardData","setData","pasteHandler","dispatchPaste","handler","cancel","getData","rightClickHandler","shouldSelectWord","isClickInSelection","selectWordAtCursor","select","24","CompositionHelper","compositionstart","_isComposing","_compositionPosition","_textarea","_compositionView","compositionupdate","updateCompositionElements","compositionend","_finalizeComposition","keydown","_isSendingComposition","_handleAnyTextareaChanges","waitForPropagation","_clearTextareaPosition","currentCompositionPosition_1","oldValue","diff","dontRecurse","isCursorInViewport","cellHeight","charMeasure","lineHeight","cursorTop","cursorLeft","compositionViewBounds","25","TextDecoder_1","low","high","TransitionTable","action","addMany","codes","PRINTABLES","EXECUTABLES","VT500_TRANSITION_TABLE","states","DcsDummy","hook","collect","params","flag","unhook","EscapeSequenceParser","_printHandlerFb","_executeHandlerFb","_csiHandlerFb","_escHandlerFb","_oscHandlerFb","_dcsHandlerFb","_errorHandlerFb","_printHandler","_executeHandlers","_escHandlers","_csiHandlers","_oscHandlers","_dcsHandlers","_activeDcsHandler","_errorHandler","setPrintHandler","clearPrintHandler","setExecuteHandler","clearExecuteHandler","setExecuteHandlerFallback","addCsiHandler","handlerList","handlerIndex","setCsiHandler","clearCsiHandler","setCsiHandlerFallback","setEscHandler","collectAndFlag","clearEscHandler","setEscHandlerFallback","addOscHandler","ident","setOscHandler","clearOscHandler","setOscHandlerFallback","setDcsHandler","clearDcsHandler","setDcsHandlerFallback","setErrorHandler","clearErrorHandler","currentState","initialState","_osc","_params","_collect","transition","print","dcs","osc","TRANSITIONS","dcsHandler","abort","j_1","utf32ToString","idx","identifier","handlers_1","j_2","./core/input/TextDecoder","26","EscapeSequences_1","Charsets_1","CharWidth_1","EscapeSequenceParser_1","GLEVEL","(",")","*","+","-",".","DECRQSS","_data","C0","ESC","pt","block","underline","bar","getOption","InputHandler","_onCursorMove","_onData","_onLineFeed","_onScroll","cursorStartX","cursorStartY","_parseBuffer","_parser","_stringDecoder","decode","parseUtf8","_utf8Decoder","chWidth","charset","screenReaderMode","wraparoundMode","insertMode","curAttr","curAttrData","bufferRow","updateRange","ch","stringFromCodePoint","scroll","insertCells","getWidth","setCellFromCodePoint","addCodepointToCell","bell","lineFeed","convertEol","carriageReturn","backspace","tab","originalX","shiftOut","setgLevel","shiftIn","insertChars","eraseAttrData","cursorUp","param","cursorDown","cursorForward","cursorBackward","cursorNextLine","cursorPrecedingLine","cursorCharAbsolute","cursorPosition","col","row","cursorForwardTab","_eraseInBufferLine","clearWrap","replaceCells","_resetBufferLine","eraseInDisplay","scrollBackSize","eraseInLine","insertLines","scrollBottomRowsOffset","scrollBottomAbsolute","deleteLines","deleteChars","deleteCells","scrollUp","scrollDown","eraseChars","cursorBackwardTab","charPosAbsolute","hPositionRelative","repeatPrecedingCharacter","loadCell","_workCell","sendDeviceAttributes","is","linePosAbsolute","vPositionRelative","hVPosition","tabClear","setMode","applicationCursor","setgCharset","DEFAULT_CHARSET","savedCols","originMode","applicationKeypad","syncScrollArea","x10Mouse","vt200Mouse","normalMouse","mouseEvents","disable","sendFocus","utfMouse","sgrMouse","urxvtMouse","cursorHidden","saveCursor","showCursor","resetMode","restoreCursor","charAttributes","AttributeData","fromColorRGB","deviceStatus","softReset","glevel","charsets","setCursorStyle","setOption","isBlinking","setScrollRegion","setTitle","handleTitle","keypadApplicationMode","keypadNumericMode","selectDefaultCharset","selectCharset","CHARSETS","tabSet","reverseIndex","StringToUtf32","Utf8ToUtf32","BEL","LF","VT","FF","CR","BS","HT","SO","SI","C1","IND","NEL","HTS","_loop_1","this_1","./CharWidth","./EscapeSequenceParser","./common/data/EscapeSequences","./core/data/Charsets","27","MouseZoneManager_1","Linkifier","_onLinkHover","_onLinkLeave","_onLinkTooltip","attachToDom","mouseZoneManager","_mouseZoneManager","linkifyRows","_rowsToLinkify","clearAll","_rowsTimeoutId","_linkifyRows","TIME_BEFORE_LINKIFY","absoluteRowIndexStart","absoluteRowIndexEnd","overscanLineLimit","OVERSCAN_CHAR_LIMIT","_linkMatchers","_doLinkifyRow","registerLinkMatcher","_nextLinkMatcherId","matchIndex","validationCallback","hoverTooltipCallback","tooltipCallback","hoverLeaveCallback","leaveCallback","willLinkActivate","priority","_addLinkMatcherToList","deregisterLinkMatcher","matcherId","rowIndex","rex","uri","bufferIndex","getFg","isValid","_addLink","x1","y1","x2","y2","MouseZone","_createLinkHoverEvent","./MouseZoneManager","28","MouseHelper","getCoordsRelativeToElement","rect","getCoords","colCount","rowCount","isSelection","coords","_renderCoordinator","actualCellWidth","getRawByteCoords","29","MouseZoneManager","_deactivate","zone","_zones","_activate","_currentZone","_areZonesActive","_mouseMoveListener","_mouseLeaveListener","_clickListener","_onMouseMove","_lastHoverCoords","pageX","pageY","_onHover","_findZoneEventAt","_tooltipTimeout","hoverCallback","_onTooltip","_onMouseDown","_initialSelectionLength","getSelection","_onMouseLeave","_onClick","currentSelectionLength","clickCallback","mouseHelper","30","MouseHelper_1","Browser","SelectionModel_1","AltClickHandler_1","NON_BREAKING_SPACE_CHAR","ALL_NON_BREAKING_SPACE_REGEX","SelectionManager","_onLinuxMouseSelection","_onRedrawRequest","_onSelectionChange","_removeMouseDownListeners","_initListeners","_mouseUpListener","_onMouseUp","initBuffersListeners","_trimListener","_onTrim","onBufferActivate","clearSelection","_enabled","_model","finalSelectionStart","finalSelectionEnd","_activeSelectionMode","lineText","startRowEndCol","bufferLine","isMSWindows","isLinuxMouseSelection","_refreshAnimationFrame","_refresh","isLinux","columnSelectMode","_getMouseBufferCoords","_areCoordsInSelection","_selectWordAt","selectAll","isSelectAllActive","selectLines","_charMeasure","_getMouseEventScrollAmount","terminalHeight","round","shouldForceSelection","macOptionClickForcesSelection","onMouseDown","_mouseDownTimeStamp","timeStamp","button","_dragScrollAmount","_onIncrementalClick","detail","_onSingleClick","_onDoubleClick","_onTripleClick","_addMouseDownListeners","ownerDocument","_dragScrollIntervalTimer","setInterval","_dragScroll","clearInterval","selectionStartLength","shouldColumnSelect","hasWidth","_selectLineAt","previousSelectionEnd","_selectToWordAt","timeElapsed","AltClickHandler","move","_convertViewportColToCharacterIndex","charIndex","getChars","setSelection","_getWordAt","allowWhitespaceOnlySelection","followWrappedLinesAbove","followWrappedLinesBelow","charOffset","leftWideCharCount","rightWideCharCount","leftLongCharOffset","rightLongCharOffset","charAt","length_2","getString","_isCharWordSeparator","length_3","length_4","getCodePoint","previousBufferLine","previousLineWordPosition","nextBufferLine","nextLineWordPosition","wordPosition","endRow","areSelectionValuesReversed","cell","wrappedRange","SelectionModel","./MouseHelper","./SelectionModel","./handlers/AltClickHandler","31","startPlusLength","32","DEFAULT_BELL_SOUND","SoundManager","_audioContext","audioContextCtor","AudioContext","webkitAudioContext","playBellSound","audioContext","bellAudioSource","createBufferSource","decodeAudioData","_base64ToArrayBuffer","_removeMimeType","bellSound","connect","destination","binaryString","dataURI","33","promptLabel","34","BufferSet_1","CompositionHelper_1","EventEmitter_1","Viewport_1","Clipboard_1","InputHandler_1","Renderer_1","Linkifier_1","SelectionManager_1","CharMeasure_1","SoundManager_1","AccessibilityManager_1","CharAtlasCache_1","DomRenderer_1","Keyboard_1","Clone_1","WindowsMode_1","ColorManager_1","RenderCoordinator_1","CONSTRUCTOR_ONLY_OPTIONS","DEFAULT_OPTIONS","termName","cursorBlink","cursorStyle","bellStyle","drawBoldTextInBrightColors","enableBold","experimentalCharAtlas","fontWeight","fontWeightBold","letterSpacing","screenKeys","macOptionIsMeta","cancelEvents","disableStdin","useFlowControl","rightClickSelectsWord","rendererType","EventEmitter","_onRender","_onTitleChange","_windowsMode","_customKeyEventHandler","removeTerminalFromCache","destroy","_setup","_parent","onData","cursorState","gcharset","_eraseAttrData","currentParam","writeBuffer","writeBufferUtf8","_writeInProgress","_xoffSentToCatchUp","_userScrolling","_inputHandler","onCursorMove","linkifier","soundManager","applyWindowsMode","preventScroll","activeElement","hasFocus","_setTheme","newBufferLength","needsRefresh","setRenderer","_createRenderer","_accessibilityManager","onOptionsChanged","_onTextAreaFocus","updateCursorStyle","blur","_onTextAreaBlur","_initGlobal","pasteHandlerWrapper","_bindKeys","isFirefox","_keyDown","_keyPress","wasModifierKeyOnlyEvent","_keyUp","_compositionHelper","_queueLinkification","_context","defaultView","fragment","createDocumentFragment","_viewportElement","_viewportScrollArea","_helperContainer","_theme","_colorManager","ColorManager","setTheme","renderer","RenderCoordinator","Viewport","onThemeChange","onBlur","onFocus","onCharSizeChanged","onDimensionsChange","onSelectionChange","onRedrawRequest","onSelectionChanged","onLinuxMouseSelection","toggle","bindMouse","Renderer","DomRenderer","setColors","el","pressed","sendButton","meta","ctrl","mod","overrideType","which","deltaY","metaKey","getButton","sendEvent","_vt300Mouse","data_1","_decLocator","page","moveHandler","sendMove","hasScrollback","getLinesScrolled","sequence","onWheel","onTouchStart","onTouchMove","refreshRows","_blankLine","eraseAttr","getBg","topRow","bottomRow","willBufferBeTrimmed","isFull","recycle","copyFrom","scrollRegionHeight","shiftElements","disp","suppressScrollEvent","oldYdisp","scrollPages","pageCount","scrollToTop","scrollToBottom","scrollToLine","scrollAmount","writeUtf8","_isDisposed","DC3","_innerWriteUtf8","bufferOffset","startTime","now","DC1","_refreshStart","_refreshEnd","_innerWrite","writeln","attachCustomKeyEventHandler","customKeyEventHandler","registerCharacterJoiner","joinerId","deregisterCharacterJoiner","cursorYOffset","column","getSelectionPosition","startColumn","startRow","endColumn","evaluateKeyboardEvent","_isThirdLevelShift","domEvent","scrollCount","thirdLevelKey","charCode","_soundBell","_visualBell","_visualBellTimer","maxRange","inputHandler","writeInProgress","xoffSentToCatchUp","userScrolling","force","onTitleChange","./AccessibilityManager","./BufferSet","./CharMeasure","./Clipboard","./CompositionHelper","./InputHandler","./Linkifier","./SelectionManager","./SoundManager","./Viewport","./WindowsMode","./common/Clone","./common/EventEmitter","./core/input/Keyboard","./renderer/RenderCoordinator","./renderer/Renderer","./renderer/atlas/CharAtlasCache","./renderer/dom/DomRenderer","./ui/ColorManager","35","onDimensionsChance","backgroundColor","_innerRefresh","_currentRowHeight","scaledCellHeight","_lastRecordedViewportHeight","offsetHeight","newBufferHeight","_lastRecordedBufferLength","canvasHeight","_lastRecordedBufferHeight","_scrollArea","_ignoreNextScrollEvent","newScrollTop","_lastScrollTop","offsetParent","_getPixelsScrolled","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","DOM_DELTA_PIXEL","_wheelPartialScroll","_lastTouchY","touches","scrollBarWidth","offsetWidth","36","lastChar","CHAR_DATA_CODE_INDEX","37","proposeGeometry","parentElementStyle","getComputedStyle","parentElementHeight","getPropertyValue","parentElementWidth","elementStyle","availableHeight","availableWidth","_core","terminalConstructor","38","onDeleteEmitter","_maxLength","_array","_getCyclicIndex","_length","newLength","deleteCount","items","countToTrim","expandListBy","./EventEmitter2","39","clonedObject","40","listener","_events","disposed","emitMayRemoveListeners","./Lifecycle","41","_event","_listeners","42","_disposables","unregister","43","isNode","isIpad","isIphone","44","fillFallback","45","DEFAULT_COLOR","46","NUL","SOH","STX","ETX","EOT","ENQ","ACK","DLE","DC2","DC4","NAK","SYN","ETB","CAN","EM","SUB","FS","GS","RS","US","SP","DEL","PAD","HOP","BPH","NBH","SSA","ESA","HTJ","VTS","PLD","PLU","RI","SS2","SS3","DCS","PU1","PU2","STS","CCH","MW","SPA","EPA","SOS","SGCI","SCI","CSI","ST","OSC","PM","APC","47","Types_1","DEFAULT_ATTR","CHAR_DATA_ATTR_INDEX","toColorRGB","isInverse","isBold","isUnderline","isBlink","isInvisible","isItalic","isDim","getFgColorMode","getBgColorMode","isFgRGB","isBgRGB","isFgPalette","isBgPalette","isFgDefault","isBgDefault","getFgColor","getBgColor","freeze","setFromCharData","isCombined","combinedData","combined","getAsCharData","cp","_combined","hasContent","codePoint","fillCellData","applyInReverse","srcData","srcCombinedKeys","../../common/Types","../input/TextDecoder","48","endsInNull","followingLineStartsWithWide","oldCols","bufferAbsoluteY","srcTrimmedTineLength","srcRemainingCells","destRemainingCells","countToRemove","i_1","nextToRemoveIndex","nextToRemoveStart","countRemovedSoFar","newLayout","newLayoutLines","newLineLengths","cellsNeeded","srcLine","cellsAvailable","oldTrimmedLength","endsWithWide","lineLength","49","_id","_onDispose","isDisposed","_nextId","../../common/EventEmitter2","../../common/Lifecycle","50","q","{","|","}","~","#","@","[","\\","]","^","51","KEYCODE_KEY_MAPPINGS","52","53","54","55","56","57","186","187","188","189","190","191","192","219","220","221","222","applicationCursorMode","modifiers","keyMapping","../../common/data/EscapeSequences","codepoint","_interim","interim","byte1","byte2","byte3","byte4","discardInterim","missing","fourStop","_mouseEvent","_endCol","_endRow","_arrowSequences","_moveHorizontallyOnly","_resetStartingRow","_moveToRequestedRow","_moveToRequestedCol","_bufferLine","_startCol","_startRow","_wrappedRowsForRow","_sequence","_wrappedRowsCount","_verticalDirection","direction","_horizontalDirection","wrappedRows","_lines","currentRow","lineWraps","forward","currentCol","bufferStr","coordinates","coordinate","rpt","../common/data/EscapeSequences","AddonManager","_addons","loadAddon","loadedAddon","_wrappedAddonDispose","activate","Terminal_1","AddonManager_1","BufferApiView","_addonManager","addon","getLine","BufferLineApiView","_line","getCell","BufferCellApiView","../Strings","../Terminal","./AddonManager","Types_2","BaseRenderLayer","_container","_canvas","_charAtlas","_initCanvas","_ctx","alpha","_alpha","onGridChanged","colorSet","_refreshCharAtlas","setTransparency","oldCanvas","cloneNode","replaceChild","_colors","_scaledCharWidth","_scaledCharHeight","acquireCharAtlas","warmUp","dim","_scaledCellWidth","scaledCellWidth","_scaledCellHeight","scaledCharWidth","scaledCharHeight","_scaledCharLeft","scaledCharLeft","_scaledCharTop","scaledCharTop","scaledCanvasWidth","scaledCanvasHeight","canvasWidth","fillCells","fillRect","fillBottomLineAtCells","fillLeftLineAtCell","strokeRectAtCell","strokeRect","fillStyle","clearCells","fillCharTrueColor","font","_getFont","textBaseline","_clipRow","fillText","drawChars","_drawUncachedChars","INVERTED_DEFAULT_COLOR","_currentGlyphIdentifier","chars","bold","italic","draw","ansi","foreground","globalAlpha","DIM_OPACITY","clip","../common/Types","../core/buffer/BufferLine","./atlas/CharAtlasCache","./atlas/Types","JoinedCellData","firstCell","CharacterJoinerRegistry","joiner","_nextCharacterJoinerId","_characterJoiners","getJoinedCharacters","ranges","lineStr","rangeStartColumn","currentStringIndex","rangeStartStringIndex","rangeAttrFG","rangeAttrBG","joinedRanges","_getJoinedRanges","joinerRanges","_mergeRanges","_stringRangesToCellRanges","currentRangeIndex","currentRangeStarted","currentRange","newRange","inRange","58","BaseRenderLayer_1","CursorRenderLayer","_state","isFocused","_clearCursor","_cursorBlinkStateManager","pause","resume","CursorBlinkStateManager","_render","restartBlinkAnimation","isPaused","triggeredByAnimationFrame","cursorY","viewportRelativeCursorY","_cell","_renderBlurCursor","isCursorVisible","_cursorRenderers","_renderBarCursor","_renderBlockCursor","cursorAccent","_renderUnderlineCursor","_blinkStartTimeout","_blinkInterval","_animationFrame","cancelAnimationFrame","_animationTimeRestarted","_renderCallback","_restartInterval","timeToStart","./BaseRenderLayer","59","GridCache","60","CharAtlasUtils_1","LinkRenderLayer","_clearCurrentLink","middleRowCount","is256Color","onLinkHover","onLinkLeave","./atlas/CharAtlasUtils","61","_onDimensionsChange","_onRefreshRequest","_renderer","_onIntersectionChange","entry","_isPaused","intersectionRatio","_needsFullRefresh","_rowCount","_renderDebouncer","renderRows","_fireOnCanvasResize","changeOptions","_canvasWidth","_canvasHeight","_fullRefresh","onDevicePixelRatioChange","observer_1","IntersectionObserver","threshold","disconnect","../common/EventEmitter2","../common/Lifecycle","../ui/Lifecycle","../ui/RenderDebouncer","../ui/ScreenDprMonitor","62","TextRenderLayer_1","SelectionRenderLayer_1","CursorRenderLayer_1","LinkRenderLayer_1","CharacterJoinerRegistry_1","_renderLayers","_devicePixelRatio","_updateDimensions","_runOperation","operation","_characterJoinerRegistry","TextRenderLayer","SelectionRenderLayer","../renderer/CharacterJoinerRegistry","./CursorRenderLayer","./LinkRenderLayer","./SelectionRenderLayer","./TextRenderLayer","63","_clearState","_didStateChange","viewportStartRow","viewportEndRow","viewportCappedStartRow","viewportCappedEndRow","selection","middleRowsCount","_areCoordinatesEqual","coord1","coord2","64","GridCache_1","terminalFont","_characterWidth","_characterFont","_characterOverlapCache","_forEachCell","firstRow","lastRow","joinerRegistry","isJoined","lastCharX","_isOverlapping","_drawBackground","startX","startY","prevFillStyle","nextFillStyle","_drawForeground","beginFrame","overlaps","measureText","characterJoinerRegistry","./CharacterJoinerRegistry","./GridCache","65","BaseCharAtlas","_didWarmUp","_doWarmUp","66","DynamicCharAtlas_1","NoneCharAtlas_1","StaticCharAtlas_1","charAtlasImplementations","none","static","dynamic","charAtlasCache","newConfig","generateConfig","ownedByIndex","ownedBy","configEquals","atlas","newEntry","./CharAtlasUtils","./DynamicCharAtlas","./NoneCharAtlas","./StaticCharAtlas","67","clearColor","imageData","isEmpty","rgba","getFont","generateStaticCharAtlasTexture","canvasFactory","cellWidth","CHAR_ATLAS_CELL_SPACING","colorIndex","charAtlasImageData","getImageData","../../common/Platform","./Types","68","clonedColors","colorCode","69","BaseCharAtlas_1","CharAtlasGenerator_1","LRUMap_1","TRANSPARENT_COLOR","getGlyphCacheKey","glyph","DynamicCharAtlas","_bitmapCommitTimeout","_drawToCacheCount","_canCache","glyphKey","cacheValue","_cacheMap","_drawFromCache","capacity","peek","cacheValue_1","_drawToCache","_toCoordinateX","_toCoordinateY","cacheX","cacheY","inBitmap","_bitmap","_cacheCanvas","_getColorFromAnsiIndex","DEFAULT_ANSI_COLORS","_getBackgroundColor","_getForegroundColor","_tmpCtx","globalCompositeOperation","fontStyle","_cacheCtx","putImageData","_addGlyphToBitmap","_glyphsWaitingOnBitmap","_generateBitmap","glyphsMovingToBitmap","tmpCanvas","prealloc","../../ui/ColorManager","./BaseCharAtlas","./CharAtlasGenerator","./LRUMap","70","LRUMap","_unlinkNode","node","prev","_head","_tail","_appendNode","tail","nodePool","_nodePool","_map","peekValue","71","NoneCharAtlas","72","StaticCharAtlas","_canvasFactory","HTMLCanvasElement","_texture","_isCached","isAscii","isBasicColor","isDefaultColor","isDefaultBackground","charAtlasCellWidth","charAtlasCellHeight","73","74","DomRendererRowFactory_1","TERMINAL_CLASS_PREFIX","ROW_CONTAINER_CLASS","FOCUS_CLASS","SELECTION_CLASS","nextTerminalId","_terminalClass","_selectionContainer","_themeStyleElement","_dimensionsStyleElement","_terminalSelector","_injectCss","BOLD_CLASS","ITALIC_CLASS","CURSOR_CLASS","CURSOR_BLINK_CLASS","CURSOR_STYLE_BLOCK_CLASS","CURSOR_STYLE_BAR_CLASS","CURSOR_STYLE_UNDERLINE_CLASS","_refreshRowElements","documentFragment","_createSelectionElement","endCol_1","colStart","colEnd","cursorAbsoluteY","cursorX","rowElement","_rowFactory","createRow","_setCellUnderline","enabled","span","textDecoration","DomRendererRowFactory","../atlas/Types","./DomRendererRowFactory","75","DIM_CLASS","UNDERLINE_CLASS","isCursorRow","charElement","_terminalOptions","swapColor","../../core/buffer/BufferLine","76","DEFAULT_FOREGROUND","fromHex","DEFAULT_BACKGROUND","DEFAULT_CURSOR","DEFAULT_CURSOR_ACCENT","DEFAULT_SELECTION","toPaddedHex","_parseColor","black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite","fallback","_litmusColor","createLinearGradient","77","useCapture","78","rowStart","rowEnd","_rowStart","_rowEnd","79","_listener","clearListener","_outerListener","_currentDevicePixelRatio","_updateDpr","_resolutionMediaMatchList","matchMedia"],"mappings":"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,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAA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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\r\nexports.__esModule = true;\r\nvar editor_1 = require(\"./styles/editor\");\r\nvar injector_1 = require(\"./styles/injector\");\r\nvar theme_default_1 = require(\"./styles/theme-default\");\r\nvar html_escape_1 = require(\"./utils/html-escape\");\r\nvar Prism = require(\"prismjs\");\r\nvar CodeFlask = /** @class */ (function () {\r\n    function CodeFlask(selectorOrElement, opts) {\r\n        if (!selectorOrElement) {\r\n            // If no selector or element is passed to CodeFlask,\r\n            // stop execution and throw error.\r\n            throw Error('CodeFlask expects a parameter which is Element or a String selector');\r\n        }\r\n        if (!opts) {\r\n            // If no selector or element is passed to CodeFlask,\r\n            // stop execution and throw error.\r\n            throw Error('CodeFlask expects an object containing options as second parameter');\r\n        }\r\n        if (selectorOrElement.nodeType) {\r\n            // If it is an element, assign it directly\r\n            this.editorRoot = selectorOrElement;\r\n        }\r\n        else {\r\n            // If it is a selector, tries to find element\r\n            var editorRoot = document.querySelector(selectorOrElement);\r\n            // If an element is found using this selector,\r\n            // assign this element as the root element\r\n            if (editorRoot) {\r\n                this.editorRoot = editorRoot;\r\n            }\r\n        }\r\n        this.opts = opts;\r\n        this.startEditor();\r\n    }\r\n    CodeFlask.prototype.startEditor = function () {\r\n        var isCSSInjected = injector_1.injectCss(editor_1.editorCss, null, this.opts.styleParent);\r\n        if (!isCSSInjected) {\r\n            throw Error('Failed to inject CodeFlask CSS.');\r\n        }\r\n        // The order matters (pre > code). Don't change it\r\n        // or things are going to break.\r\n        this.createWrapper();\r\n        this.createTextarea();\r\n        this.createPre();\r\n        this.createCode();\r\n        this.runOptions();\r\n        this.listenTextarea();\r\n        this.populateDefault();\r\n        this.updateCode(this.code);\r\n    };\r\n    CodeFlask.prototype.createWrapper = function () {\r\n        this.code = this.editorRoot.innerHTML;\r\n        this.editorRoot.innerHTML = '';\r\n        this.elWrapper = this.createElement('div', this.editorRoot);\r\n        this.elWrapper.classList.add('codeflask');\r\n    };\r\n    CodeFlask.prototype.createTextarea = function () {\r\n        this.elTextarea = this.createElement('textarea', this.elWrapper);\r\n        this.elTextarea.classList.add('codeflask__textarea', 'codeflask__flatten');\r\n    };\r\n    CodeFlask.prototype.createPre = function () {\r\n        this.elPre = this.createElement('pre', this.elWrapper);\r\n        this.elPre.classList.add('codeflask__pre', 'codeflask__flatten');\r\n    };\r\n    CodeFlask.prototype.createCode = function () {\r\n        this.elCode = this.createElement('code', this.elPre);\r\n        this.elCode.classList.add('codeflask__code', \"language-\" + (this.opts.language || 'html'));\r\n    };\r\n    CodeFlask.prototype.createLineNumbers = function () {\r\n        this.elLineNumbers = this.createElement('div', this.elWrapper);\r\n        this.elLineNumbers.classList.add('codeflask__lines');\r\n        this.setLineNumber();\r\n    };\r\n    CodeFlask.prototype.createElement = function (elementTag, whereToAppend) {\r\n        var element = document.createElement(elementTag);\r\n        whereToAppend.appendChild(element);\r\n        return element;\r\n    };\r\n    CodeFlask.prototype.runOptions = function () {\r\n        this.opts.rtl = this.opts.rtl || false;\r\n        this.opts.tabSize = this.opts.tabSize || 2;\r\n        this.opts.enableAutocorrect = this.opts.enableAutocorrect || false;\r\n        this.opts.lineNumbers = this.opts.lineNumbers || false;\r\n        this.opts.defaultTheme = this.opts.defaultTheme !== false;\r\n        this.opts.areaId = this.opts.areaId || null;\r\n        this.opts.ariaLabelledby = this.opts.ariaLabelledby || null;\r\n        this.opts.readonly = this.opts.readonly || null;\r\n        // if handleTabs is not either true or false, make it true by default\r\n        if (typeof this.opts.handleTabs !== 'boolean') {\r\n            this.opts.handleTabs = true;\r\n        }\r\n        // if handleTabs is not either true or false, make it true by default\r\n        if (typeof this.opts.handleSelfClosingCharacters !== 'boolean') {\r\n            this.opts.handleSelfClosingCharacters = true;\r\n        }\r\n        // if handleTabs is not either true or false, make it true by default\r\n        if (typeof this.opts.handleNewLineIndentation !== 'boolean') {\r\n            this.opts.handleNewLineIndentation = true;\r\n        }\r\n        if (this.opts.rtl === true) {\r\n            this.elTextarea.setAttribute('dir', 'rtl');\r\n            this.elPre.setAttribute('dir', 'rtl');\r\n        }\r\n        if (this.opts.enableAutocorrect === false) {\r\n            this.elTextarea.setAttribute('spellcheck', 'false');\r\n            this.elTextarea.setAttribute('autocapitalize', 'off');\r\n            this.elTextarea.setAttribute('autocomplete', 'off');\r\n            this.elTextarea.setAttribute('autocorrect', 'off');\r\n        }\r\n        if (this.opts.lineNumbers) {\r\n            this.elWrapper.classList.add('codeflask--has-line-numbers');\r\n            this.createLineNumbers();\r\n        }\r\n        if (this.opts.defaultTheme) {\r\n            injector_1.injectCss(theme_default_1.defaultCssTheme, 'theme-default', this.opts.styleParent);\r\n        }\r\n        if (this.opts.areaId) {\r\n            this.elTextarea.setAttribute('id', this.opts.areaId);\r\n        }\r\n        if (this.opts.ariaLabelledby) {\r\n            this.elTextarea.setAttribute('aria-labelledby', this.opts.ariaLabelledby);\r\n        }\r\n        if (this.opts.readonly) {\r\n            this.enableReadonlyMode();\r\n        }\r\n    };\r\n    CodeFlask.prototype.updateLineNumbersCount = function () {\r\n        var numberList = '';\r\n        for (var i = 1; i <= this.lineNumber; i++) {\r\n            numberList = numberList + (\"<span class=\\\"codeflask__lines__line\\\">\" + i + \"</span>\");\r\n        }\r\n        this.elLineNumbers.innerHTML = numberList;\r\n    };\r\n    CodeFlask.prototype.listenTextarea = function () {\r\n        var _this = this;\r\n        this.elTextarea.addEventListener('input', function (e) {\r\n            _this.code = e.target.value;\r\n            _this.elCode.innerHTML = html_escape_1.escapeHtml(e.target.value);\r\n            _this.highlight();\r\n            setTimeout(function () {\r\n                _this.runUpdate();\r\n                _this.setLineNumber();\r\n            }, 1);\r\n        });\r\n        this.elTextarea.addEventListener('keydown', function (e) {\r\n            _this.handleTabs(e);\r\n            _this.handleSelfClosingCharacters(e);\r\n            _this.handleNewLineIndentation(e);\r\n        });\r\n        this.elTextarea.addEventListener('scroll', function (e) {\r\n            _this.elPre.style.transform = \"translate3d(-\" + e.target.scrollLeft + \"px, -\" + e.target.scrollTop + \"px, 0)\";\r\n            if (_this.elLineNumbers) {\r\n                _this.elLineNumbers.style.transform = \"translate3d(0, -\" + e.target.scrollTop + \"px, 0)\";\r\n            }\r\n        });\r\n    };\r\n    CodeFlask.prototype.handleTabs = function (e) {\r\n        if (this.opts.handleTabs) {\r\n            if (e.keyCode !== 9) {\r\n                return;\r\n            }\r\n            e.preventDefault();\r\n            var input = this.elTextarea;\r\n            var selectionDir = input.selectionDirection;\r\n            var selStartPos = input.selectionStart;\r\n            var selEndPos = input.selectionEnd;\r\n            var inputVal = input.value;\r\n            var beforeSelection = inputVal.substr(0, selStartPos);\r\n            var selectionVal = inputVal.substring(selStartPos, selEndPos);\r\n            var afterSelection = inputVal.substring(selEndPos);\r\n            var indent = ' '.repeat(this.opts.tabSize);\r\n            if (selStartPos !== selEndPos && selectionVal.length >= indent.length) {\r\n                var currentLineStart = selStartPos - beforeSelection.split('\\n').pop().length;\r\n                var startIndentLen = indent.length;\r\n                var endIndentLen = indent.length;\r\n                // Unindent\r\n                if (e.shiftKey) {\r\n                    var currentLineStartStr = inputVal.substr(currentLineStart, indent.length);\r\n                    // Line start whit indent\r\n                    if (currentLineStartStr === indent) {\r\n                        startIndentLen = -startIndentLen;\r\n                        if (currentLineStart > selStartPos) {\r\n                            // Indent is in selection\r\n                            selectionVal = selectionVal.substring(0, currentLineStart) + selectionVal.substring(currentLineStart + indent.length);\r\n                            endIndentLen = 0;\r\n                        }\r\n                        else if (currentLineStart === selStartPos) {\r\n                            // Indent is in start of selection\r\n                            startIndentLen = 0;\r\n                            endIndentLen = 0;\r\n                            selectionVal = selectionVal.substring(indent.length);\r\n                        }\r\n                        else {\r\n                            // Indent is before selection\r\n                            endIndentLen = -endIndentLen;\r\n                            beforeSelection = beforeSelection.substring(0, currentLineStart) + beforeSelection.substring(currentLineStart + indent.length);\r\n                        }\r\n                    }\r\n                    else {\r\n                        startIndentLen = 0;\r\n                        endIndentLen = 0;\r\n                    }\r\n                    selectionVal = selectionVal.replace(new RegExp('\\n' + indent.split('').join('\\\\'), 'g'), '\\n');\r\n                }\r\n                else {\r\n                    // Indent\r\n                    beforeSelection = beforeSelection.substr(0, currentLineStart) + indent + beforeSelection.substring(currentLineStart, selStartPos);\r\n                    selectionVal = selectionVal.replace(/\\n/g, '\\n' + indent);\r\n                }\r\n                // Set new indented value\r\n                input.value = beforeSelection + selectionVal + afterSelection;\r\n                input.selectionStart = selStartPos + startIndentLen;\r\n                input.selectionEnd = selStartPos + selectionVal.length + endIndentLen;\r\n                input.selectionDirection = selectionDir;\r\n            }\r\n            else {\r\n                input.value = beforeSelection + indent + afterSelection;\r\n                input.selectionStart = selStartPos + indent.length;\r\n                input.selectionEnd = selStartPos + indent.length;\r\n            }\r\n            var newCode = input.value;\r\n            this.updateCode(newCode);\r\n            this.elTextarea.selectionEnd = selEndPos + this.opts.tabSize;\r\n        }\r\n    };\r\n    CodeFlask.prototype.handleSelfClosingCharacters = function (e) {\r\n        if (!this.opts.handleSelfClosingCharacters)\r\n            return;\r\n        var openChars = ['(', '[', '{', '<', '\\'', '\"'];\r\n        var closeChars = [')', ']', '}', '>', '\\'', '\"'];\r\n        var key = e.key;\r\n        if (!openChars.includes(key) && !closeChars.includes(key)) {\r\n            return;\r\n        }\r\n        switch (key) {\r\n            case '(':\r\n            case ')':\r\n                this.closeCharacter(key);\r\n                break;\r\n            case '[':\r\n            case ']':\r\n                this.closeCharacter(key);\r\n                break;\r\n            case '{':\r\n            case '}':\r\n                this.closeCharacter(key);\r\n                break;\r\n            case '<':\r\n            case '>':\r\n                this.closeCharacter(key);\r\n                break;\r\n            case '\\'':\r\n                this.closeCharacter(key);\r\n                break;\r\n            case '\"':\r\n                this.closeCharacter(key);\r\n                break;\r\n        }\r\n    };\r\n    CodeFlask.prototype.setLineNumber = function () {\r\n        this.lineNumber = this.code.split('\\n').length;\r\n        if (this.opts.lineNumbers) {\r\n            this.updateLineNumbersCount();\r\n        }\r\n    };\r\n    CodeFlask.prototype.handleNewLineIndentation = function (e) {\r\n        if (!this.opts.handleNewLineIndentation)\r\n            return;\r\n        if (e.keyCode !== 13) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n        var input = this.elTextarea;\r\n        var selStartPos = input.selectionStart;\r\n        var selEndPos = input.selectionEnd;\r\n        var inputVal = input.value;\r\n        var beforeSelection = inputVal.substr(0, selStartPos);\r\n        var afterSelection = inputVal.substring(selEndPos);\r\n        var lineStart = inputVal.lastIndexOf('\\n', selStartPos - 1);\r\n        var spaceLast = lineStart + inputVal.slice(lineStart + 1).search(/[^ ]|$/);\r\n        var indent = (spaceLast > lineStart) ? (spaceLast - lineStart) : 0;\r\n        var newCode = beforeSelection + '\\n' + ' '.repeat(indent) + afterSelection;\r\n        input.value = newCode;\r\n        input.selectionStart = selStartPos + indent + 1;\r\n        input.selectionEnd = selStartPos + indent + 1;\r\n        this.updateCode(input.value);\r\n    };\r\n    CodeFlask.prototype.closeCharacter = function (char) {\r\n        var selectionStart = this.elTextarea.selectionStart;\r\n        var selectionEnd = this.elTextarea.selectionEnd;\r\n        if (!this.skipCloseChar(char)) {\r\n            var closeChar = char;\r\n            switch (char) {\r\n                case '(':\r\n                    closeChar = String.fromCharCode(char.charCodeAt() + 1);\r\n                    break;\r\n                case '<':\r\n                case '{':\r\n                case '[':\r\n                    closeChar = String.fromCharCode(char.charCodeAt() + 2);\r\n                    break;\r\n            }\r\n            var selectionText = this.code.substring(selectionStart, selectionEnd);\r\n            var newCode = \"\" + this.code.substring(0, selectionStart) + selectionText + closeChar + this.code.substring(selectionEnd);\r\n            this.updateCode(newCode);\r\n        }\r\n        else {\r\n            var skipChar = this.code.substr(selectionEnd, 1) === char;\r\n            var newSelectionEnd = skipChar ? selectionEnd + 1 : selectionEnd;\r\n            var closeChar = !skipChar && ['\\'', '\"'].includes(char) ? char : '';\r\n            var newCode = \"\" + this.code.substring(0, selectionStart) + closeChar + this.code.substring(newSelectionEnd);\r\n            this.updateCode(newCode);\r\n            this.elTextarea.selectionEnd = ++this.elTextarea.selectionStart;\r\n        }\r\n        this.elTextarea.selectionEnd = selectionStart;\r\n    };\r\n    CodeFlask.prototype.skipCloseChar = function (char) {\r\n        var selectionStart = this.elTextarea.selectionStart;\r\n        var selectionEnd = this.elTextarea.selectionEnd;\r\n        var hasSelection = Math.abs(selectionEnd - selectionStart) > 0;\r\n        return [')', '}', ']', '>'].includes(char) || (['\\'', '\"'].includes(char) && !hasSelection);\r\n    };\r\n    CodeFlask.prototype.updateCode = function (newCode) {\r\n        this.code = newCode;\r\n        this.elTextarea.value = newCode;\r\n        this.elCode.innerHTML = html_escape_1.escapeHtml(newCode);\r\n        this.highlight();\r\n        this.setLineNumber();\r\n        setTimeout(this.runUpdate.bind(this), 1);\r\n    };\r\n    CodeFlask.prototype.updateLanguage = function (newLanguage) {\r\n        var oldLanguage = this.opts.language;\r\n        this.elCode.classList.remove(\"language-\" + oldLanguage);\r\n        this.elCode.classList.add(\"language-\" + newLanguage);\r\n        this.opts.language = newLanguage;\r\n        this.highlight();\r\n    };\r\n    CodeFlask.prototype.addLanguage = function (name, options) {\r\n        Prism.languages[name] = options;\r\n    };\r\n    CodeFlask.prototype.populateDefault = function () {\r\n        this.updateCode(this.code);\r\n    };\r\n    CodeFlask.prototype.highlight = function () {\r\n        Prism.highlightElement(this.elCode, false);\r\n    };\r\n    CodeFlask.prototype.onUpdate = function (callback) {\r\n        if (callback && {}.toString.call(callback) !== '[object Function]') {\r\n            throw Error('CodeFlask expects callback of type Function');\r\n        }\r\n        this.updateCallBack = callback;\r\n    };\r\n    CodeFlask.prototype.getCode = function () {\r\n        return this.code;\r\n    };\r\n    CodeFlask.prototype.runUpdate = function () {\r\n        if (this.updateCallBack) {\r\n            this.updateCallBack(this.code);\r\n        }\r\n    };\r\n    CodeFlask.prototype.enableReadonlyMode = function () {\r\n        this.elTextarea.setAttribute('readonly', true);\r\n    };\r\n    CodeFlask.prototype.disableReadonlyMode = function () {\r\n        this.elTextarea.removeAttribute('readonly');\r\n    };\r\n    return CodeFlask;\r\n}());\r\nexports[\"default\"] = CodeFlask;\r\n\n},{\"./styles/editor\":2,\"./styles/injector\":3,\"./styles/theme-default\":4,\"./utils/html-escape\":6,\"prismjs\":10}],2:[function(require,module,exports){\n\"use strict\";\r\nexports.__esModule = true;\r\nvar theme_default_1 = require(\"./theme-default\");\r\nvar css_supports_1 = require(\"../utils/css-supports\");\r\nvar FONT_FAMILY = \"\\\"SFMono-Regular\\\", Consolas, \\\"Liberation Mono\\\", Menlo, Courier, monospace\";\r\nvar COLOR = (css_supports_1.cssSupports('caret-color', '#000')) ? theme_default_1.BACKGROUND_COLOR : '#ccc';\r\nvar LINE_NUMBER_WIDTH = '40px';\r\nexports.editorCss = \"\\n  .codeflask {\\n    position: relative;\\n    width: 100%;\\n    height: 100%;\\n    overflow: hidden;\\n  }\\n\\n  .codeflask, .codeflask * {\\n    box-sizing: border-box;\\n  }\\n\\n  .codeflask__pre {\\n    pointer-events: none;\\n    z-index: 0;\\n    overflow: hidden;\\n  }\\n\\n  .codeflask__textarea {\\n    background: none;\\n    border: none;\\n    color: \" + COLOR + \";\\n    resize: none;\\n    font-family: \" + FONT_FAMILY + \";\\n    -webkit-appearance: pre;\\n    caret-color: #111;\\n    z-index: 0;\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  .codeflask--has-line-numbers .codeflask__textarea {\\n    width: calc(100% - \" + LINE_NUMBER_WIDTH + \");\\n  }\\n\\n  .codeflask__code {\\n    display: block;\\n    font-family: \" + FONT_FAMILY + \";\\n    overflow: hidden;\\n  }\\n\\n  .codeflask__flatten {\\n    padding: 10px;\\n    padding-left: 0px;\\n    font-size: \" + theme_default_1.FONT_SIZE + \";\\n    line-height: \" + theme_default_1.LINE_HEIGHT + \";\\n    white-space: pre;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    overflow: auto;\\n    margin: 0 !important;\\n    outline: none;\\n    text-align: left;\\n  }\\n\\n  .codeflask--has-line-numbers .codeflask__flatten {\\n    width: calc(100% - \" + LINE_NUMBER_WIDTH + \");\\n    left: \" + LINE_NUMBER_WIDTH + \";\\n  }\\n\\n  .codeflask__line-highlight {\\n    position: absolute;\\n    top: 10px;\\n    left: 0;\\n    width: 100%;\\n    height: \" + theme_default_1.LINE_HEIGHT + \";\\n    background: rgba(0,0,0,0.1);\\n    z-index: 1;\\n  }\\n\\n  .codeflask__lines {\\n    padding: 10px 4px;\\n    font-size: 12px;\\n    line-height: \" + theme_default_1.LINE_HEIGHT + \";\\n    font-family: 'Cousine', monospace;\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: \" + LINE_NUMBER_WIDTH + \";\\n    height: 100%;\\n    text-align: right;\\n    color: #999;\\n    z-index: 2;\\n  }\\n\\n  .codeflask__lines__line {\\n    display: block;\\n  }\\n\\n  .codeflask.codeflask--has-line-numbers {\\n    padding-left: \" + LINE_NUMBER_WIDTH + \";\\n  }\\n\\n  .codeflask.codeflask--has-line-numbers:before {\\n    content: '';\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: \" + LINE_NUMBER_WIDTH + \";\\n    height: 100%;\\n    background: #eee;\\n    z-index: 1;\\n  }\\n\";\r\n\n},{\"../utils/css-supports\":5,\"./theme-default\":4}],3:[function(require,module,exports){\n\"use strict\";\r\nexports.__esModule = true;\r\nfunction injectCss(css, styleName, parent) {\r\n    var CSS_ID = styleName || 'codeflask-style';\r\n    var PARENT = parent || document.head;\r\n    if (!css) {\r\n        return false;\r\n    }\r\n    if (document.getElementById(CSS_ID)) {\r\n        return true;\r\n    }\r\n    var style = document.createElement('style');\r\n    style.innerHTML = css;\r\n    style.id = CSS_ID;\r\n    PARENT.appendChild(style);\r\n    return true;\r\n}\r\nexports.injectCss = injectCss;\r\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\r\nexports.__esModule = true;\r\nexports.BACKGROUND_COLOR = '#fff';\r\nexports.LINE_HEIGHT = '20px';\r\nexports.FONT_SIZE = '13px';\r\nexports.defaultCssTheme = \"\\n.codeflask {\\n  background: \" + exports.BACKGROUND_COLOR + \";\\n  color: #4f559c;\\n}\\n\\n.codeflask .token.punctuation {\\n  color: #4a4a4a;\\n}\\n\\n.codeflask .token.keyword {\\n  color: #8500ff;\\n}\\n\\n.codeflask .token.operator {\\n  color: #ff5598;\\n}\\n\\n.codeflask .token.string {\\n  color: #41ad8f;\\n}\\n\\n.codeflask .token.comment {\\n  color: #9badb7;\\n}\\n\\n.codeflask .token.function {\\n  color: #8500ff;\\n}\\n\\n.codeflask .token.boolean {\\n  color: #8500ff;\\n}\\n\\n.codeflask .token.number {\\n  color: #8500ff;\\n}\\n\\n.codeflask .token.selector {\\n  color: #8500ff;\\n}\\n\\n.codeflask .token.property {\\n  color: #8500ff;\\n}\\n\\n.codeflask .token.tag {\\n  color: #8500ff;\\n}\\n\\n.codeflask .token.attr-value {\\n  color: #8500ff;\\n}\\n\";\r\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\r\nexports.__esModule = true;\r\nfunction cssSupports(property, value) {\r\n    if (typeof CSS !== 'undefined') {\r\n        return CSS.supports(property, value);\r\n    }\r\n    if (typeof document === 'undefined') {\r\n        return false;\r\n    }\r\n    return toCamelCase(property) in document.body.style;\r\n}\r\nexports.cssSupports = cssSupports;\r\nfunction toCamelCase(cssProperty) {\r\n    cssProperty = cssProperty\r\n        .split('-')\r\n        .filter(function (word) { return !!word; })\r\n        .map(function (word) { return word[0].toUpperCase() + word.substr(1); })\r\n        .join('');\r\n    return cssProperty[0].toLowerCase() + cssProperty.substr(1);\r\n}\r\nexports.toCamelCase = toCamelCase;\r\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\r\nexports.__esModule = true;\r\nvar entityMap = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;',\r\n    '/': '&#x2F;',\r\n    '`': '&#x60;',\r\n    '=': '&#x3D;'\r\n};\r\nfunction escapeHtml(string) {\r\n    return String(string).replace(/[&<>\"'`=/]/g, function (s) {\r\n        return entityMap[s];\r\n    });\r\n}\r\nexports.escapeHtml = escapeHtml;\r\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nexports.__esModule = true;\r\nvar element = function (tagName, options) {\r\n    return document.createElement(tagName, options);\r\n};\r\nvar append = function (element, newChild) {\r\n    return element.appendChild(newChild);\r\n};\r\nvar load_text = function (names) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n    switch (_a.label) {\r\n        case 0: return [4 /*yield*/, Promise.all(names.map(function (v) { return fetch(v).then(function (res) { return res.text(); }); }))];\r\n        case 1: return [2 /*return*/, _a.sent()];\r\n    }\r\n}); }); };\r\nvar rand = function (min, max) {\r\n    if (max === undefined) {\r\n        max = min;\r\n        min = 0;\r\n    }\r\n    return min + Math.random() * (max - min);\r\n};\r\nvar twgl_js_1 = require(\"twgl.js\");\r\nvar typestyle_1 = require(\"typestyle\");\r\nvar codeflask_1 = require(\"./editor/codeflask\");\r\nvar localforage_1 = require(\"localforage\");\r\nvar xterm_1 = require(\"xterm\");\r\nvar fit = require(\"xterm/lib/addons/fit/fit\");\r\nvar log = console.log, error = console.error, clear = console.clear;\r\nclear();\r\nvar instance_demo = function (gl, vs, fs) {\r\n    var program_info = twgl_js_1.createProgramInfo(gl, [vs, fs]);\r\n    var num_instances = 100000;\r\n    var inst_wto_mat4_arr = new Float32Array(num_instances * 16);\r\n    var inst_color_arr = new Array();\r\n    var r = 70;\r\n    for (var i = 0; i < num_instances; ++i) {\r\n        var mat = new Float32Array(inst_wto_mat4_arr.buffer, i * 16 * 4, 16);\r\n        twgl_js_1.m4.translation([rand(-r, r), rand(-r, r), rand(-r, r)], mat);\r\n        twgl_js_1.m4.rotateZ(mat, rand(0, Math.PI * 2), mat);\r\n        twgl_js_1.m4.rotateX(mat, rand(0, Math.PI * 2), mat);\r\n        inst_color_arr.push(rand(1), rand(1), rand(1));\r\n    }\r\n    var quad_verts = twgl_js_1.primitives.createPlaneVertices();\r\n    Object.assign(quad_verts, {\r\n        instanceWorld: {\r\n            numComponents: 16,\r\n            data: inst_wto_mat4_arr,\r\n            divisor: 1\r\n        },\r\n        instanceColor: {\r\n            numComponents: 3,\r\n            data: inst_color_arr,\r\n            divisor: 1\r\n        }\r\n    });\r\n    var buffer_info = twgl_js_1.createBufferInfoFromArrays(gl, quad_verts);\r\n    var vertex_array_info = twgl_js_1.createVertexArrayInfo(gl, program_info, buffer_info);\r\n    return function (time) {\r\n        time = time / 1000;\r\n        var ratio = window.devicePixelRatio;\r\n        var canvas = gl.canvas;\r\n        canvas.width = canvas.clientWidth * ratio;\r\n        canvas.height = canvas.clientHeight * ratio;\r\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n        gl.enable(gl.DEPTH_TEST);\r\n        //gl.enable(gl.CULL_FACE);\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n        // Projection matrix\r\n        var fov = 30 * Math.PI / 180;\r\n        var aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n        var zNear = 0.5;\r\n        var zFar = 500;\r\n        var projection = twgl_js_1.m4.perspective(fov, aspect, zNear, zFar);\r\n        // View matrix\r\n        var radius = 25;\r\n        var speed = time * 0.1;\r\n        var eye = [Math.sin(speed) * radius, Math.sin(speed * .7) * 10, Math.cos(speed) * radius];\r\n        var target = [0, 0, 0];\r\n        var up = [0, 1, 0];\r\n        var camera = twgl_js_1.m4.lookAt(eye, target, up);\r\n        var view = twgl_js_1.m4.inverse(camera);\r\n        var uniforms = {\r\n            u_lightWorldPos: [1, 8, -30],\r\n            u_lightColor: [1, 1, 1, 1],\r\n            u_ambient: [0, 0, 0, 1],\r\n            u_specular: [1, 1, 1, 1],\r\n            u_shininess: 50,\r\n            u_specularFactor: 1,\r\n            u_viewProjection: twgl_js_1.m4.multiply(projection, view),\r\n            u_viewInverse: camera\r\n        };\r\n        gl.useProgram(program_info.program);\r\n        twgl_js_1.setBuffersAndAttributes(gl, program_info, vertex_array_info);\r\n        twgl_js_1.setUniforms(program_info, uniforms);\r\n        twgl_js_1.drawBufferInfo(gl, vertex_array_info, gl.TRIANGLES, vertex_array_info.numElements, 0, num_instances);\r\n    };\r\n};\r\nvar RenderLoop = /** @class */ (function () {\r\n    function RenderLoop(max_frame) {\r\n        var _this = this;\r\n        this.loop = function (time) {\r\n            time /= 1000;\r\n            if (_this.max_frame < 0 || _this.frame_count < _this.max_frame) {\r\n                requestAnimationFrame(_this.loop);\r\n                if (_this.frame_count > 0) {\r\n                    try {\r\n                        _this.callback_arr.forEach(function (v) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                            switch (_a.label) {\r\n                                case 0: return [4 /*yield*/, v(time)];\r\n                                case 1: return [2 /*return*/, _a.sent()];\r\n                            }\r\n                        }); }); });\r\n                    }\r\n                    catch (err) {\r\n                        error(err);\r\n                    }\r\n                }\r\n                _this.frame_count += 1;\r\n                _this.prev_time = time;\r\n            }\r\n        };\r\n        this.callback_arr = [];\r\n        this.frame_count = 0;\r\n        this.max_frame = -1;\r\n        this.prev_time = 0.0;\r\n        if (typeof max_frame === 'number' && max_frame >= 0) {\r\n            this.max_frame = max_frame;\r\n        }\r\n    }\r\n    RenderLoop.prototype.start = function () {\r\n        requestAnimationFrame(this.loop);\r\n        return this;\r\n    };\r\n    ;\r\n    RenderLoop.prototype.add = function (callback) {\r\n        this.callback_arr.push(callback);\r\n        return this;\r\n    };\r\n    return RenderLoop;\r\n}());\r\nvar Element = /** @class */ (function () {\r\n    function Element(tagName, options) {\r\n        if (tagName instanceof HTMLElement) {\r\n            this.element = tagName;\r\n        }\r\n        else {\r\n            this.element = document.createElement(tagName, options);\r\n        }\r\n    }\r\n    Element.prototype.style = function (css) {\r\n        this.element.className = typestyle_1.style(css);\r\n        return this;\r\n    };\r\n    Element.prototype.child = function (element) {\r\n        if (element instanceof Element)\r\n            this.element.appendChild(element.element);\r\n        else\r\n            this.element.appendChild(element);\r\n        return this;\r\n    };\r\n    Element.prototype.content = function (text) {\r\n        this.element.textContent = text;\r\n        return this;\r\n    };\r\n    return Element;\r\n}());\r\nvar Vec2 = /** @class */ (function () {\r\n    function Vec2(x, y) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.x = typeof x === 'number' ? x : 0;\r\n        this.y = typeof y === 'number' ? y : 0;\r\n    }\r\n    return Vec2;\r\n}());\r\nvar MatrixRP2 = /** @class */ (function () {\r\n    function MatrixRP2(a, b, c, d, e, f) {\r\n        this.a = 1;\r\n        this.b = 0;\r\n        this.c = 0;\r\n        this.d = 1;\r\n        this.e = 0;\r\n        this.f = 0;\r\n        this.a = typeof a === 'number' ? a : 1;\r\n        this.b = typeof b === 'number' ? b : 0;\r\n        this.c = typeof c === 'number' ? c : 0;\r\n        this.d = typeof d === 'number' ? d : 1;\r\n        this.e = typeof e === 'number' ? e : 0;\r\n        this.f = typeof f === 'number' ? f : 0;\r\n    }\r\n    return MatrixRP2;\r\n}());\r\nvar multiply = function (m1, m2) {\r\n    return new MatrixRP2(m1.a * m2.a + m1.c * m2.b, m1.b * m2.a + m1.d * m2.b, m1.a * m2.c + m1.c * m2.d, m1.b * m2.c + m1.d * m2.d, m1.a * m2.e + m1.c * m2.f + m1.e, m1.b * m2.e + m1.d * m2.f + m1.f);\r\n};\r\nvar scale = function (sx, sy) {\r\n    if (sx === void 0) { sx = 1; }\r\n    if (sy === void 0) { sy = 1; }\r\n    return new MatrixRP2(sx, 0, 0, sy);\r\n};\r\nvar rotate = function (angle) {\r\n    if (angle === void 0) { angle = 0; }\r\n    var _a = [Math.cos(angle), Math.sin(angle)], cos = _a[0], sin = _a[1];\r\n    return new MatrixRP2(cos, sin, -sin, cos);\r\n};\r\nvar translate = function (tx, ty) {\r\n    if (tx === void 0) { tx = 0; }\r\n    return new MatrixRP2(1, 0, 0, 1, tx, ty);\r\n};\r\nvar shear = function (shx, shy) {\r\n    return new MatrixRP2(1, shy, shx);\r\n};\r\nvar multimatrix = function () {\r\n    var matrices = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matrices[_i] = arguments[_i];\r\n    }\r\n    switch (matrices.length) {\r\n        case 0: throw new Error('no matrices provided');\r\n        case 1: return matrices[0];\r\n        case 2: return multiply(matrices[0], matrices[1]);\r\n        default: return matrices.reduce(function (a, c, i) { return i === 0 ? c : multiply(a, c); });\r\n    }\r\n};\r\nvar drawPath = function (context, path, transform, style) {\r\n    context.save();\r\n    for (var key in style) {\r\n        if (key !== 'fill') {\r\n            context[key] = style[key];\r\n        }\r\n    }\r\n    var a = transform.a, b = transform.b, c = transform.c, d = transform.d, e = transform.e, f = transform.f;\r\n    context.transform(a, b, c, d, e, f);\r\n    context.beginPath();\r\n    if (path.length > 0) {\r\n        context.moveTo(path[0].x, path[0].y);\r\n        path.forEach(function (v) { context.lineTo(v.x, v.y); });\r\n        context.lineTo(path[0].x, path[0].y);\r\n    }\r\n    context.stroke();\r\n    if (style && style.fill === true) {\r\n        context.fill();\r\n    }\r\n    context.restore();\r\n};\r\nvar vec2Array = function () {\r\n    var array = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        array[_i] = arguments[_i];\r\n    }\r\n    return array.reduce(function (a, c, i) {\r\n        if (i % 2 == 0) {\r\n            a.push(new Vec2(c, 0));\r\n        }\r\n        else {\r\n            a[a.length - 1].y = c;\r\n        }\r\n        return a;\r\n    }, new Array());\r\n};\r\n// a bullet editor\r\nvar bullet_editor = function () { return __awaiter(_this, void 0, void 0, function () {\r\n    var canvas, crc, max_frame, render_loop, sin, cos, atan2, repeat, toward_speed_vector, game, div_editor, div_canvas, div_setting, editor_1, code_1, csk_1, saved_code, runCode_1, reload_code_button, load_code_button, clear_bullet_button, saveCode_1, bullets, drawEditor;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                canvas = new Element('canvas').style({ width: '100%', height: '100%' }).element;\r\n                crc = canvas.getContext('2d');\r\n                max_frame = -1;\r\n                render_loop = new RenderLoop(max_frame);\r\n                sin = Math.sin, cos = Math.cos, atan2 = Math.atan2;\r\n                repeat = function (period) { return function (start, end) {\r\n                    if (end < start)\r\n                        return [];\r\n                    var floor = Math.floor;\r\n                    var result = [];\r\n                    var s = (floor(start / period) + 1) * period;\r\n                    while (s < end) {\r\n                        result.push(s);\r\n                        s += period;\r\n                    }\r\n                    return result;\r\n                }; };\r\n                toward_speed_vector = function (pos, prev_pos) {\r\n                    var dot = function (x1, y1, x2, y2) { return x1 * x2 + y1 * y2; };\r\n                    var det = function (x1, y1, x2, y2) { return x1 * y2 - y1 * x2; };\r\n                    var dpv = { x: pos.x - prev_pos.x, y: pos.y - prev_pos.y };\r\n                    var sv = { x: 0, y: 1 };\r\n                    var angle = atan2(det(sv.x, sv.y, dpv.x, dpv.y), dot(sv.x, sv.y, dpv.x, dpv.y));\r\n                    return angle;\r\n                };\r\n                game = undefined;\r\n                div_editor = new Element('div').style({ paddingLeft: 10, width: '100%', height: 400 }).element;\r\n                div_canvas = new Element('div').style({ width: 400, height: 400 }).child(canvas);\r\n                div_setting = new Element('div');\r\n                new Element(document.body).style({ overflow: 'hidden', display: 'flex', flexWrap: 'wrap' })\r\n                    .child(div_editor).child(div_canvas).child(div_setting);\r\n                editor_1 = new codeflask_1[\"default\"](div_editor, { language: 'js' });\r\n                code_1 = \"// Test code\\nconst bullet = (init_time, x, y) => {\\n  const v = { x, y };\\n  return (t, pt) => {\\n    const st = t - init_time;\\n    const pst = pt - init_time;\\n    const p = { x: st * v.x, y: st * v.y };\\n    const pp = { x: pst * v.x, y: pst * v.y };\\n    return multimatrix(\\n      translate(p.x, p.y),\\n      rotate(toward_speed_vector(p, pp)),\\n    );\\n  }\\n};\\nconst spawn = (t, pt) => repeat(0.05)(pt, t).map(v => {\\n  const s = 100; // speed\\n  return [\\n    bullet(v, s * cos(v), s * sin(v)),\\n    bullet(v, -s * cos(v), s * sin(v)),\\n    bullet(v, s * cos(v), -s * sin(v)),\\n    bullet(v, -s * cos(v), -s * sin(v)),\\n  ];\\n});\\n\\n({spawn});\";\r\n                csk_1 = 'code';\r\n                return [4 /*yield*/, localforage_1.getItem(csk_1)];\r\n            case 1:\r\n                saved_code = _a.sent();\r\n                editor_1.updateCode(saved_code || code_1);\r\n                runCode_1 = function (code) {\r\n                    var game_setting = eval(code);\r\n                    game = function () { return game_setting; };\r\n                };\r\n                runCode_1(editor_1.getCode());\r\n                reload_code_button = new Element('button').content('init code').element;\r\n                reload_code_button.addEventListener('click', function () { return editor_1.updateCode(code_1); });\r\n                load_code_button = new Element('button').content('load code').element;\r\n                load_code_button.addEventListener('click', function () { return runCode_1(editor_1.getCode()); });\r\n                clear_bullet_button = new Element('button').content('clear bullet').element;\r\n                clear_bullet_button.addEventListener('click', function () { return bullets = []; });\r\n                div_setting.child(load_code_button).child(reload_code_button).child(clear_bullet_button);\r\n                saveCode_1 = function (code) { if (code) {\r\n                    localforage_1.setItem(csk_1, code);\r\n                } };\r\n                document.addEventListener('keydown', function (e) {\r\n                    if (e.key === 'Enter' && e.altKey === true ||\r\n                        e.key === 'r' && e.altKey === true ||\r\n                        e.key === 's' && e.ctrlKey === true ||\r\n                        e.key === 'Alt') {\r\n                        e.preventDefault();\r\n                    }\r\n                });\r\n                document.addEventListener('keyup', function (e) {\r\n                    if (e.key === 'Enter' && e.altKey === true ||\r\n                        e.key === 'r' && e.altKey === true ||\r\n                        e.key === 's' && e.ctrlKey === true) {\r\n                        var code_2 = editor_1.getCode();\r\n                        var result = runCode_1(code_2);\r\n                        if (e.key === 's' && e.ctrlKey === true) {\r\n                            saveCode_1(code_2);\r\n                            log(\"[\" + new Date().toLocaleTimeString() + \"] Code has been saved.\");\r\n                        }\r\n                    }\r\n                });\r\n                render_loop.start();\r\n                bullets = new Array();\r\n                drawEditor = function (time) {\r\n                    var ratio = window.devicePixelRatio || 1;\r\n                    var width = canvas.width = canvas.clientWidth * ratio;\r\n                    var height = canvas.height = canvas.clientHeight * ratio;\r\n                    var out_of_bound = function (x, y) {\r\n                        var w = width / 2, h = height / 2;\r\n                        var _a = [-w, w, -h, h], minx = _a[0], maxx = _a[1], miny = _a[2], maxy = _a[3];\r\n                        return (minx < x && x < maxx && miny < y && y < maxy) ? false : true;\r\n                    };\r\n                    // Background\r\n                    {\r\n                        // Basic transform\r\n                        crc.clearRect(0, 0, canvas.width, canvas.height);\r\n                        crc.translate(canvas.width / 2, canvas.height / 2);\r\n                        crc.scale(1, -1);\r\n                        // Grid\r\n                        var grid_style_1 = {\r\n                            strokeStyle: '#aaa', lineWidth: 1 * ratio\r\n                        };\r\n                        var ceil = Math.ceil;\r\n                        var grid_row = 15;\r\n                        var interval_1 = width / (grid_row);\r\n                        var _a = [-width / 2, -height / 2, width / 2, height / 2], sw_1 = _a[0], sh_1 = _a[1], ew_1 = _a[2], eh_1 = _a[3];\r\n                        new Array(ceil(grid_row / 2)).fill(0).map(function (v, i) { return i; }).forEach(function (v) {\r\n                            var _a = [v * interval_1, v * interval_1], x = _a[0], y = _a[1];\r\n                            drawPath(crc, vec2Array(sw_1, y, ew_1, y), new MatrixRP2(), grid_style_1);\r\n                            drawPath(crc, vec2Array(x, sh_1, x, eh_1), new MatrixRP2(), grid_style_1);\r\n                            drawPath(crc, vec2Array(sw_1, -y, ew_1, -y), new MatrixRP2(), grid_style_1);\r\n                            drawPath(crc, vec2Array(-x, sh_1, -x, eh_1), new MatrixRP2(), grid_style_1);\r\n                        });\r\n                        // Origin\r\n                        drawPath(crc, vec2Array(0, 0, 0, 0, 0, 0), new MatrixRP2(), { strokeStyle: '#777', lineWidth: 6, lineCap: 'round' });\r\n                    }\r\n                    // Game\r\n                    {\r\n                        var t_1 = time;\r\n                        var r = ratio;\r\n                        var pt_1 = render_loop.prev_time;\r\n                        var dt = t_1 - pt_1;\r\n                        // Player\r\n                        {\r\n                            var radius = 200 * ratio;\r\n                            var matrix = translate(radius * cos(time), radius * sin(time));\r\n                            var player_style = { strokeStyle: '#f00', lineWidth: 8, lineCap: 'round' };\r\n                            drawPath(crc, vec2Array(0, 0, 0, 0, 0, 0), matrix, player_style);\r\n                        }\r\n                        // Enemy\r\n                        {\r\n                            var l = 10, L = l + 2;\r\n                            var t_2 = time * 10;\r\n                            drawPath(crc, vec2Array(l, l, l, -l, -l, -l, -l, l), rotate(t_2));\r\n                            drawPath(crc, vec2Array(L, L, L, -L, -L, -L, -L, L), rotate(t_2));\r\n                        }\r\n                        // Bullet\r\n                        {\r\n                            var bullet_style_1 = { strokeStyle: 'blue', lineWidth: 1 };\r\n                            var drawBullet_1 = function (matrix, size) {\r\n                                if (size === void 0) { size = 2; }\r\n                                drawPath(crc, vec2Array(-2 * size, -size, 0, 4 * size, 2 * size, -size), multimatrix(matrix), bullet_style_1);\r\n                            };\r\n                            game().spawn(t_1, pt_1).forEach(function (v) {\r\n                                if (Array.isArray(v)) {\r\n                                    v.forEach(function (g) { return bullets.push(g); });\r\n                                }\r\n                                else {\r\n                                    bullets.push(v);\r\n                                }\r\n                            });\r\n                            bullets = bullets\r\n                                .filter(function (v) {\r\n                                var matrix = v(t_1, pt_1);\r\n                                return !out_of_bound(matrix.e, matrix.f);\r\n                            })\r\n                                .map(function (v) {\r\n                                drawBullet_1(v(t_1, pt_1));\r\n                                return v;\r\n                            });\r\n                        }\r\n                    }\r\n                };\r\n                render_loop.add(drawEditor);\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nbullet_editor();\r\nxterm_1.Terminal.applyAddon(fit);\r\nvar terminal = new xterm_1.Terminal({\r\n    allowTransparency: true,\r\n    theme: {\r\n        background: 'rgb(0,0,0,0.8)'\r\n    }\r\n});\r\nvar div_terminal = new Element('div').style({\r\n    position: 'fixed', width: '100%',\r\n    height: '100%'\r\n}).element;\r\nnew Element(document.body).child(div_terminal);\r\nterminal.open(div_terminal);\r\n//(terminal as any).fit();\r\nvar hello_word = new String('Hello from \\x1B[1;3;31mxterm.js\\x1B[0m $ \\n').repeat(100000);\r\nterminal.write(hello_word);\r\n\n},{\"./editor/codeflask\":1,\"localforage\":9,\"twgl.js\":12,\"typestyle\":13,\"xterm\":55,\"xterm/lib/addons/fit/fit\":37}],8:[function(require,module,exports){\n(function (process){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The unique id is used for unique hashes.\n */\nvar uniqueId = 0;\n/**\n * Tag styles with this string to get unique hashes.\n */\nexports.IS_UNIQUE = '__DO_NOT_DEDUPE_STYLE__';\nvar upperCasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar interpolatePattern = /&/g;\nvar escapePattern = /[ !#$%&()*+,./;<=>?@[\\]^`{|}~\"'\\\\]/g;\nvar propLower = function (m) { return \"-\" + m.toLowerCase(); };\n/**\n * CSS properties that are valid unit-less numbers.\n *\n * Ref: https://github.com/facebook/react/blob/master/packages/react-dom/src/shared/CSSProperty.js\n */\nvar CSS_NUMBER = {\n    'animation-iteration-count': true,\n    'border-image-outset': true,\n    'border-image-slice': true,\n    'border-image-width': true,\n    'box-flex': true,\n    'box-flex-group': true,\n    'box-ordinal-group': true,\n    'column-count': true,\n    'columns': true,\n    'counter-increment': true,\n    'counter-reset': true,\n    'flex': true,\n    'flex-grow': true,\n    'flex-positive': true,\n    'flex-shrink': true,\n    'flex-negative': true,\n    'flex-order': true,\n    'font-weight': true,\n    'grid-area': true,\n    'grid-column': true,\n    'grid-column-end': true,\n    'grid-column-span': true,\n    'grid-column-start': true,\n    'grid-row': true,\n    'grid-row-end': true,\n    'grid-row-span': true,\n    'grid-row-start': true,\n    'line-clamp': true,\n    'line-height': true,\n    'opacity': true,\n    'order': true,\n    'orphans': true,\n    'tab-size': true,\n    'widows': true,\n    'z-index': true,\n    'zoom': true,\n    // SVG properties.\n    'fill-opacity': true,\n    'flood-opacity': true,\n    'stop-opacity': true,\n    'stroke-dasharray': true,\n    'stroke-dashoffset': true,\n    'stroke-miterlimit': true,\n    'stroke-opacity': true,\n    'stroke-width': true\n};\n// Add vendor prefixes to all unit-less properties.\nfor (var _i = 0, _a = Object.keys(CSS_NUMBER); _i < _a.length; _i++) {\n    var property = _a[_i];\n    for (var _b = 0, _c = ['-webkit-', '-ms-', '-moz-', '-o-', '']; _b < _c.length; _b++) {\n        var prefix = _c[_b];\n        CSS_NUMBER[prefix + property] = true;\n    }\n}\n/**\n * Escape a CSS class name.\n */\nexports.escape = function (str) { return str.replace(escapePattern, '\\\\$&'); };\n/**\n * Transform a JavaScript property into a CSS property.\n */\nfunction hyphenate(propertyName) {\n    return propertyName\n        .replace(upperCasePattern, propLower)\n        .replace(msPattern, '-ms-'); // Internet Explorer vendor prefix.\n}\nexports.hyphenate = hyphenate;\n/**\n * Generate a hash value from a string.\n */\nfunction stringHash(str) {\n    var value = 5381;\n    var len = str.length;\n    while (len--)\n        value = (value * 33) ^ str.charCodeAt(len);\n    return (value >>> 0).toString(36);\n}\nexports.stringHash = stringHash;\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString(key, value) {\n    if (typeof value === 'number' && value !== 0 && !CSS_NUMBER.hasOwnProperty(key)) {\n        return key + \":\" + value + \"px\";\n    }\n    return key + \":\" + value;\n}\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples(value) {\n    return value.sort(function (a, b) { return a[0] > b[0] ? 1 : -1; });\n}\n/**\n * Categorize user styles.\n */\nfunction parseStyles(styles, hasNestedStyles) {\n    var properties = [];\n    var nestedStyles = [];\n    var isUnique = false;\n    // Sort keys before adding to styles.\n    for (var _i = 0, _a = Object.keys(styles); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = styles[key];\n        if (value !== null && value !== undefined) {\n            if (key === exports.IS_UNIQUE) {\n                isUnique = true;\n            }\n            else if (typeof value === 'object' && !Array.isArray(value)) {\n                nestedStyles.push([key.trim(), value]);\n            }\n            else {\n                properties.push([hyphenate(key.trim()), value]);\n            }\n        }\n    }\n    return {\n        style: stringifyProperties(sortTuples(properties)),\n        nested: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n        isUnique: isUnique\n    };\n}\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties(properties) {\n    return properties.map(function (_a) {\n        var name = _a[0], value = _a[1];\n        if (!Array.isArray(value))\n            return styleToString(name, value);\n        return value.map(function (x) { return styleToString(name, x); }).join(';');\n    }).join(';');\n}\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate(selector, parent) {\n    if (selector.indexOf('&') === -1)\n        return parent + \" \" + selector;\n    return selector.replace(interpolatePattern, parent);\n}\n/**\n * Recursive loop building styles with deferred selectors.\n */\nfunction stylize(selector, styles, rulesList, stylesList, parent) {\n    var _a = parseStyles(styles, selector !== ''), style = _a.style, nested = _a.nested, isUnique = _a.isUnique;\n    var pid = style;\n    if (selector.charCodeAt(0) === 64 /* @ */) {\n        var child = { selector: selector, styles: [], rules: [], style: parent ? '' : style };\n        rulesList.push(child);\n        // Nested styles support (e.g. `.foo > @media > .bar`).\n        if (style && parent)\n            child.styles.push({ selector: parent, style: style, isUnique: isUnique });\n        for (var _i = 0, nested_1 = nested; _i < nested_1.length; _i++) {\n            var _b = nested_1[_i], name = _b[0], value = _b[1];\n            pid += name + stylize(name, value, child.rules, child.styles, parent);\n        }\n    }\n    else {\n        var key = parent ? interpolate(selector, parent) : selector;\n        if (style)\n            stylesList.push({ selector: key, style: style, isUnique: isUnique });\n        for (var _c = 0, nested_2 = nested; _c < nested_2.length; _c++) {\n            var _d = nested_2[_c], name = _d[0], value = _d[1];\n            pid += name + stylize(name, value, rulesList, stylesList, key);\n        }\n    }\n    return pid;\n}\n/**\n * Transform `stylize` tree into style objects.\n */\nfunction composeStylize(cache, pid, rulesList, stylesList, className, isStyle) {\n    for (var _i = 0, stylesList_1 = stylesList; _i < stylesList_1.length; _i++) {\n        var _a = stylesList_1[_i], selector = _a.selector, style = _a.style, isUnique = _a.isUnique;\n        var key = isStyle ? interpolate(selector, className) : selector;\n        var id = isUnique ? \"u\\0\" + (++uniqueId).toString(36) : \"s\\0\" + pid + \"\\0\" + style;\n        var item = new Style(style, id);\n        item.add(new Selector(key, \"k\\0\" + pid + \"\\0\" + key));\n        cache.add(item);\n    }\n    for (var _b = 0, rulesList_1 = rulesList; _b < rulesList_1.length; _b++) {\n        var _c = rulesList_1[_b], selector = _c.selector, style = _c.style, rules = _c.rules, styles = _c.styles;\n        var item = new Rule(selector, style, \"r\\0\" + pid + \"\\0\" + selector + \"\\0\" + style);\n        composeStylize(item, pid, rules, styles, className, isStyle);\n        cache.add(item);\n    }\n}\n/**\n * Cache to list to styles.\n */\nfunction join(arr) {\n    var res = '';\n    for (var i = 0; i < arr.length; i++)\n        res += arr[i];\n    return res;\n}\n/**\n * Noop changes.\n */\nvar noopChanges = {\n    add: function () { return undefined; },\n    change: function () { return undefined; },\n    remove: function () { return undefined; }\n};\n/**\n * Implement a cache/event emitter.\n */\nvar Cache = /** @class */ (function () {\n    function Cache(changes) {\n        if (changes === void 0) { changes = noopChanges; }\n        this.changes = changes;\n        this.sheet = [];\n        this.changeId = 0;\n        this._keys = [];\n        this._children = Object.create(null);\n        this._counters = Object.create(null);\n    }\n    Cache.prototype.add = function (style) {\n        var count = this._counters[style.id] || 0;\n        var item = this._children[style.id] || style.clone();\n        this._counters[style.id] = count + 1;\n        if (count === 0) {\n            this._children[item.id] = item;\n            this._keys.push(item.id);\n            this.sheet.push(item.getStyles());\n            this.changeId++;\n            this.changes.add(item, this._keys.length - 1);\n        }\n        else if (item instanceof Cache && style instanceof Cache) {\n            var curIndex = this._keys.indexOf(style.id);\n            var prevItemChangeId = item.changeId;\n            item.merge(style);\n            if (item.changeId !== prevItemChangeId) {\n                this.sheet.splice(curIndex, 1, item.getStyles());\n                this.changeId++;\n                this.changes.change(item, curIndex, curIndex);\n            }\n        }\n        return item;\n    };\n    Cache.prototype.remove = function (style) {\n        var count = this._counters[style.id];\n        if (count !== undefined && count > 0) {\n            this._counters[style.id] = count - 1;\n            var item = this._children[style.id];\n            var index = this._keys.indexOf(item.id);\n            if (count === 1) {\n                delete this._counters[style.id];\n                delete this._children[style.id];\n                this._keys.splice(index, 1);\n                this.sheet.splice(index, 1);\n                this.changeId++;\n                this.changes.remove(item, index);\n            }\n            else if (item instanceof Cache && style instanceof Cache) {\n                var prevChangeId = item.changeId;\n                item.unmerge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.sheet.splice(index, 1, item.getStyles());\n                    this.changeId++;\n                    this.changes.change(item, index, index);\n                }\n            }\n        }\n    };\n    Cache.prototype.values = function () {\n        var _this = this;\n        return this._keys.map(function (key) { return _this._children[key]; });\n    };\n    Cache.prototype.merge = function (cache) {\n        for (var _i = 0, _a = cache.values(); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.add(item);\n        }\n        return this;\n    };\n    Cache.prototype.unmerge = function (cache) {\n        for (var _i = 0, _a = cache.values(); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.remove(item);\n        }\n        return this;\n    };\n    Cache.prototype.clone = function () {\n        return new Cache().merge(this);\n    };\n    return Cache;\n}());\nexports.Cache = Cache;\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nvar Selector = /** @class */ (function () {\n    function Selector(selector, id) {\n        this.selector = selector;\n        this.id = id;\n    }\n    Selector.prototype.getStyles = function () {\n        return this.selector;\n    };\n    Selector.prototype.clone = function () {\n        return new Selector(this.selector, this.id);\n    };\n    return Selector;\n}());\nexports.Selector = Selector;\n/**\n * The style container registers a style string with selectors.\n */\nvar Style = /** @class */ (function (_super) {\n    __extends(Style, _super);\n    function Style(style, id) {\n        var _this = _super.call(this) || this;\n        _this.style = style;\n        _this.id = id;\n        return _this;\n    }\n    Style.prototype.getStyles = function () {\n        return this.sheet.join(',') + \"{\" + this.style + \"}\";\n    };\n    Style.prototype.clone = function () {\n        return new Style(this.style, this.id).merge(this);\n    };\n    return Style;\n}(Cache));\nexports.Style = Style;\n/**\n * Implement rule logic for style output.\n */\nvar Rule = /** @class */ (function (_super) {\n    __extends(Rule, _super);\n    function Rule(rule, style, id) {\n        var _this = _super.call(this) || this;\n        _this.rule = rule;\n        _this.style = style;\n        _this.id = id;\n        return _this;\n    }\n    Rule.prototype.getStyles = function () {\n        return this.rule + \"{\" + this.style + join(this.sheet) + \"}\";\n    };\n    Rule.prototype.clone = function () {\n        return new Rule(this.rule, this.style, this.id).merge(this);\n    };\n    return Rule;\n}(Cache));\nexports.Rule = Rule;\n/**\n * The FreeStyle class implements the API for everything else.\n */\nvar FreeStyle = /** @class */ (function (_super) {\n    __extends(FreeStyle, _super);\n    function FreeStyle(hash, debug, id, changes) {\n        var _this = _super.call(this, changes) || this;\n        _this.hash = hash;\n        _this.debug = debug;\n        _this.id = id;\n        return _this;\n    }\n    FreeStyle.prototype.registerStyle = function (styles, displayName) {\n        var rulesList = [];\n        var stylesList = [];\n        var pid = stylize('&', styles, rulesList, stylesList);\n        var hash = \"f\" + this.hash(pid);\n        var id = this.debug && displayName ? displayName + \"_\" + hash : hash;\n        composeStylize(this, pid, rulesList, stylesList, \".\" + exports.escape(id), true);\n        return id;\n    };\n    FreeStyle.prototype.registerKeyframes = function (keyframes, displayName) {\n        return this.registerHashRule('@keyframes', keyframes, displayName);\n    };\n    FreeStyle.prototype.registerHashRule = function (prefix, styles, displayName) {\n        var rulesList = [];\n        var stylesList = [];\n        var pid = stylize('', styles, rulesList, stylesList);\n        var hash = \"f\" + this.hash(pid);\n        var id = this.debug && displayName ? displayName + \"_\" + hash : hash;\n        var rule = new Rule(prefix + \" \" + exports.escape(id), '', \"h\\0\" + pid + \"\\0\" + prefix);\n        composeStylize(rule, pid, rulesList, stylesList, '', false);\n        this.add(rule);\n        return id;\n    };\n    FreeStyle.prototype.registerRule = function (rule, styles) {\n        var rulesList = [];\n        var stylesList = [];\n        var pid = stylize(rule, styles, rulesList, stylesList);\n        composeStylize(this, pid, rulesList, stylesList, '', false);\n    };\n    FreeStyle.prototype.registerCss = function (styles) {\n        return this.registerRule('', styles);\n    };\n    FreeStyle.prototype.getStyles = function () {\n        return join(this.sheet);\n    };\n    FreeStyle.prototype.clone = function () {\n        return new FreeStyle(this.hash, this.debug, this.id, this.changes).merge(this);\n    };\n    return FreeStyle;\n}(Cache));\nexports.FreeStyle = FreeStyle;\n/**\n * Exports a simple function to create a new instance.\n */\nfunction create(hash, debug, changes) {\n    if (hash === void 0) { hash = stringHash; }\n    if (debug === void 0) { debug = typeof process !== 'undefined' && process.env.NODE_ENV !== 'production'; }\n    if (changes === void 0) { changes = noopChanges; }\n    return new FreeStyle(hash, debug, \"f\" + (++uniqueId).toString(36), changes);\n}\nexports.create = create;\n\n}).call(this,require('_process'))\n},{\"_process\":11}],9:[function(require,module,exports){\n(function (global){\n/*!\n    localForage -- Offline Storage, Improved\n    Version 1.7.3\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support (#5572)\n        // since Safari 10.1 shipped with fetch, we can use that to detect it\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback retuns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = req.onblocked = function (err) {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(err);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],10:[function(require,module,exports){\n(function (global){\n\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n * MIT license http://www.opensource.org/licenses/mit-license.php/\n * @author Lea Verou http://lea.verou.me\n */\n\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\nvar _ = {\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\tutil: {\n\t\tencode: function (tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(_.util.encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t// Deep clone a language definition (e.g. to extend it)\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvar clone, id, type = _.util.type(o);\n\t\t\tvisited = visited || {};\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = {};\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\to.forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t}\n\t},\n\n\tlanguages: {\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Insert a token before another token in a language literal\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\n\t\t * we cannot just provide an object, we need an object and a key.\n\t\t * @param inside The key (or language id) of the parent\n\t\t * @param before The key to insert before.\n\t\t * @param insert Object with the key/value pairs to insert\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || _.languages;\n\t\t\tvar grammar = root[inside];\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tplugins: {},\n\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run(\"before-highlightall\", env);\n\n\t\tvar elements = env.elements || container.querySelectorAll(env.selector);\n\n\t\tfor (var i=0, element; element = elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language, grammar, parent = element;\n\n\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\tif (parent) {\n\t\t\tlanguage = (parent.className.match(lang) || [,''])[1].toLowerCase();\n\t\t\tgrammar = _.languages[language];\n\t\t}\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\tif (element.parentNode) {\n\t\t\t// Set language on the parent, for styling\n\t\t\tparent = element.parentNode;\n\n\t\t\tif (/pre/i.test(parent.nodeName)) {\n\t\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t\t}\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tvar insertHighlightedCode = function (highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\tmatchGrammar: function (text, strarr, grammar, index, startPos, oneshot, target) {\n\t\tfor (var token in grammar) {\n\t\t\tif(!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (token == target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = (_.util.type(patterns) === \"Array\") ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tvar pattern = patterns[j],\n\t\t\t\t\tinside = pattern.inside,\n\t\t\t\t\tlookbehind = !!pattern.lookbehind,\n\t\t\t\t\tgreedy = !!pattern.greedy,\n\t\t\t\t\tlookbehindLength = 0,\n\t\t\t\t\talias = pattern.alias;\n\n\t\t\t\tif (greedy && !pattern.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = pattern.pattern.toString().match(/[imuy]*$/)[0];\n\t\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + \"g\");\n\t\t\t\t}\n\n\t\t\t\tpattern = pattern.pattern || pattern;\n\n\t\t\t\t// Dont cache length as it changes during the loop\n\t\t\t\tfor (var i = index, pos = startPos; i < strarr.length; pos += strarr[i].length, ++i) {\n\n\t\t\t\t\tvar str = strarr[i];\n\n\t\t\t\t\tif (strarr.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (greedy && i != strarr.length - 1) {\n\t\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index + (lookbehind ? match[1].length : 0),\n\t\t\t\t\t\t    to = match.index + match[0].length,\n\t\t\t\t\t\t    k = i,\n\t\t\t\t\t\t    p = pos;\n\n\t\t\t\t\t\tfor (var len = strarr.length; k < len && (p < to || (!strarr[k].type && !strarr[k - 1].greedy)); ++k) {\n\t\t\t\t\t\t\tp += strarr[k].length;\n\t\t\t\t\t\t\t// Move the index i to the element in strarr that is closest to from\n\t\t\t\t\t\t\tif (from >= p) {\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t\tpos = p;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If strarr[i] is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (strarr[i] instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Number of tokens to delete and replace with the new match\n\t\t\t\t\t\tdelNum = k - i;\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\t\tvar match = pattern.exec(str),\n\t\t\t\t\t\t\tdelNum = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tif (oneshot) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(lookbehind) {\n\t\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\t    match = match[0].slice(lookbehindLength),\n\t\t\t\t\t    to = from + match.length,\n\t\t\t\t\t    before = str.slice(0, from),\n\t\t\t\t\t    after = str.slice(to);\n\n\t\t\t\t\tvar args = [i, delNum];\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\t++i;\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t\targs.push(before);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias, match, greedy);\n\n\t\t\t\t\targs.push(wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\targs.push(after);\n\t\t\t\t\t}\n\n\t\t\t\t\tArray.prototype.splice.apply(strarr, args);\n\n\t\t\t\t\tif (delNum != 1)\n\t\t\t\t\t\t_.matchGrammar(text, strarr, grammar, i, pos, true, token);\n\n\t\t\t\t\tif (oneshot)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\ttokenize: function(text, grammar) {\n\t\tvar strarr = [text];\n\n\t\tvar rest = grammar.rest;\n\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\t_.matchGrammar(text, strarr, grammar, 0, 0, false);\n\n\t\treturn strarr;\n\t},\n\n\thooks: {\n\t\tall: {},\n\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n\n_self.Prism = _;\n\nfunction Token(type, content, alias, matchedStr, greedy) {\n\tthis.type = type;\n\tthis.content = content;\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || \"\").length|0;\n\tthis.greedy = !!greedy;\n}\n\nToken.stringify = function(o, language, parent) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\n\tif (Array.isArray(o)) {\n\t\treturn o.map(function(element) {\n\t\t\treturn Token.stringify(element, language, o);\n\t\t}).join('');\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: Token.stringify(o.content, language, parent),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language,\n\t\tparent: parent\n\t};\n\n\tif (o.alias) {\n\t\tvar aliases = Array.isArray(o.alias) ? o.alias : [o.alias];\n\t\tArray.prototype.push.apply(env.classes, aliases);\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = Object.keys(env.attributes).map(function(name) {\n\t\treturn name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}).join(' ');\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + (attributes ? ' ' + attributes : '') + '>' + env.content + '</' + env.tag + '>';\n\n};\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n//Get current script and highlight\nvar script = document.currentScript || [].slice.call(document.getElementsByTagName(\"script\")).pop();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (!_.manual && !script.hasAttribute('data-manual')) {\n\t\tif(document.readyState !== \"loading\") {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(_.highlightAll);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(_.highlightAll, 16);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tdocument.addEventListener('DOMContentLoaded', _.highlightAll);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': /<!DOCTYPE[\\s\\S]+?>/i,\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t/^=/,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': /&#?[\\da-z]{1,8};/i\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function(env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\s*|[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, tagName), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-]+?[\\s\\S]*?(?:;|(?=\\s*\\{))/i,\n\t\t\tinside: {\n\t\t\t\t'rule': /@[\\w-]+/\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': RegExp('url\\\\((?:' + string.source + '|.*?)\\\\)', 'i'),\n\t\t'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t\t'important': /!important\\b/i,\n\t\t'function': /[-a-z0-9]+(?=\\()/i,\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\n\t\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t\t'style-attr': {\n\t\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\t\tinside: markup.tag.inside\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talias: 'language-css'\n\t\t\t}\n\t\t}, markup.tag);\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\tpunctuation: /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.])\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t'number': /\\b(?:(?:0[xX][\\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\\d+n|NaN|Infinity)\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:[Ee][+-]?\\d+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'operator': /-[-=]?|\\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\\|[|=]?|\\*\\*?=?|\\/=?|~|\\^=?|%=?|\\?|\\.{3}/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s])\\s*)\\/(\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})\\]]))/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${[^}]+}|[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /\\${[^}]+}/,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document || !document.querySelector) {\n\t\treturn;\n\t}\n\n\t/**\n\t * @param {Element} [container=document]\n\t */\n\tself.Prism.fileHighlight = function(container) {\n\t\tcontainer = container || document;\n\n\t\tvar Extensions = {\n\t\t\t'js': 'javascript',\n\t\t\t'py': 'python',\n\t\t\t'rb': 'ruby',\n\t\t\t'ps1': 'powershell',\n\t\t\t'psm1': 'powershell',\n\t\t\t'sh': 'bash',\n\t\t\t'bat': 'batch',\n\t\t\t'h': 'c',\n\t\t\t'tex': 'latex'\n\t\t};\n\n\t\tArray.prototype.slice.call(container.querySelectorAll('pre[data-src]')).forEach(function (pre) {\n\t\t\t// ignore if already loaded\n\t\t\tif (pre.hasAttribute('data-src-loaded')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// load current\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language, parent = pre;\n\t\t\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\t\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\t\tparent = parent.parentNode;\n\t\t\t}\n\n\t\t\tif (parent) {\n\t\t\t\tlanguage = (pre.className.match(lang) || [, ''])[1];\n\t\t\t}\n\n\t\t\tif (!language) {\n\t\t\t\tvar extension = (src.match(/\\.(\\w+)$/) || [, ''])[1];\n\t\t\t\tlanguage = Extensions[extension] || extension;\n\t\t\t}\n\n\t\t\tvar code = document.createElement('code');\n\t\t\tcode.className = 'language-' + language;\n\n\t\t\tpre.textContent = '';\n\n\t\t\tcode.textContent = 'Loading';\n\n\t\t\tpre.appendChild(code);\n\n\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\txhr.open('GET', src, true);\n\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\n\t\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t\t\t// mark as loaded\n\t\t\t\t\t\tpre.setAttribute('data-src-loaded', '');\n\t\t\t\t\t}\n\t\t\t\t\telse if (xhr.status >= 400) {\n\t\t\t\t\t\tcode.textContent = ' Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcode.textContent = ' Error: File does not exist or is empty';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.send(null);\n\t\t});\n\n\t\tif (Prism.plugins.toolbar) {\n\t\t\tPrism.plugins.toolbar.registerButton('download-file', function (env) {\n\t\t\t\tvar pre = env.element.parentNode;\n\t\t\t\tif (!pre || !/pre/i.test(pre.nodeName) || !pre.hasAttribute('data-src') || !pre.hasAttribute('data-download-link')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar src = pre.getAttribute('data-src');\n\t\t\t\tvar a = document.createElement('a');\n\t\t\t\ta.textContent = pre.getAttribute('data-download-link-label') || 'Download';\n\t\t\t\ta.setAttribute('download', '');\n\t\t\t\ta.href = src;\n\t\t\t\treturn a;\n\t\t\t});\n\t\t}\n\n\t};\n\n\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t// execute inside handler, for dropping Event as argument\n\t\tself.Prism.fileHighlight();\n\t});\n\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],11:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],12:[function(require,module,exports){\n/*!\n * @license twgl.js 4.10.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.\n * Available via the MIT license.\n * see: http://github.com/greggman/twgl.js for details\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"twgl\"] = factory();\n\telse\n\t\troot[\"twgl\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/twgl-full.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/attributes.js\":\n/*!***************************!*\\\n  !*** ./src/attributes.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.createAttribsFromArrays = createAttribsFromArrays;\nexports.createBuffersFromArrays = createBuffersFromArrays;\nexports.createBufferFromArray = createBufferFromArray;\nexports.createBufferFromTypedArray = createBufferFromTypedArray;\nexports.createBufferInfoFromArrays = createBufferInfoFromArrays;\nexports.setAttribInfoBufferFromArray = setAttribInfoBufferFromArray;\nexports.setAttributePrefix = setAttributePrefix;\nexports.setAttributeDefaults_ = setDefaults;\nexports.getNumComponents_ = getNumComponents;\nexports.getArray_ = getArray;\n\nvar typedArrays = _interopRequireWildcard(__webpack_require__(/*! ./typedarrays.js */ \"./src/typedarrays.js\"));\n\nvar helper = _interopRequireWildcard(__webpack_require__(/*! ./helper.js */ \"./src/helper.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Low level attribute and buffer related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibily they are available at both `twgl.attributes` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/attributes\n */\n// make sure we don't see a global gl\nvar gl = undefined; // eslint-disable-line\n\nvar defaults = {\n  attribPrefix: \"\"\n};\n/**\n * Sets the default attrib prefix\n *\n * When writing shaders I prefer to name attributes with `a_`, uniforms with `u_` and varyings with `v_`\n * as it makes it clear where they came from. But, when building geometry I prefer using unprefixed names.\n *\n * In otherwords I'll create arrays of geometry like this\n *\n *     var arrays = {\n *       position: ...\n *       normal: ...\n *       texcoord: ...\n *     };\n *\n * But need those mapped to attributes and my attributes start with `a_`.\n *\n * @deprecated see {@link module:twgl.setDefaults}\n * @param {string} prefix prefix for attribs\n * @memberOf module:twgl/attributes\n */\n\nfunction setAttributePrefix(prefix) {\n  defaults.attribPrefix = prefix;\n}\n\nfunction setDefaults(newDefaults) {\n  helper.copyExistingProperties(newDefaults, defaults);\n}\n\nfunction setBufferFromTypedArray(gl, type, buffer, array, drawType) {\n  gl.bindBuffer(type, buffer);\n  gl.bufferData(type, array, drawType || gl.STATIC_DRAW);\n}\n/**\n * Given typed array creates a WebGLBuffer and copies the typed array\n * into it.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {ArrayBuffer|SharedArrayBuffer|ArrayBufferView|WebGLBuffer} typedArray the typed array. Note: If a WebGLBuffer is passed in it will just be returned. No action will be taken\n * @param {number} [type] the GL bind type for the buffer. Default = `gl.ARRAY_BUFFER`.\n * @param {number} [drawType] the GL draw type for the buffer. Default = 'gl.STATIC_DRAW`.\n * @return {WebGLBuffer} the created WebGLBuffer\n * @memberOf module:twgl/attributes\n */\n\n\nfunction createBufferFromTypedArray(gl, typedArray, type, drawType) {\n  if (helper.isBuffer(gl, typedArray)) {\n    return typedArray;\n  }\n\n  type = type || gl.ARRAY_BUFFER;\n  var buffer = gl.createBuffer();\n  setBufferFromTypedArray(gl, type, buffer, typedArray, drawType);\n  return buffer;\n}\n\nfunction isIndices(name) {\n  return name === \"indices\";\n} // This is really just a guess. Though I can't really imagine using\n// anything else? Maybe for some compression?\n\n\nfunction getNormalizationForTypedArray(typedArray) {\n  if (typedArray instanceof Int8Array) {\n    return true;\n  } // eslint-disable-line\n\n\n  if (typedArray instanceof Uint8Array) {\n    return true;\n  } // eslint-disable-line\n\n\n  return false;\n} // This is really just a guess. Though I can't really imagine using\n// anything else? Maybe for some compression?\n\n\nfunction getNormalizationForTypedArrayType(typedArrayType) {\n  if (typedArrayType === Int8Array) {\n    return true;\n  } // eslint-disable-line\n\n\n  if (typedArrayType === Uint8Array) {\n    return true;\n  } // eslint-disable-line\n\n\n  return false;\n}\n\nfunction getArray(array) {\n  return array.length ? array : array.data;\n}\n\nvar texcoordRE = /coord|texture/i;\nvar colorRE = /color|colour/i;\n\nfunction guessNumComponentsFromName(name, length) {\n  var numComponents;\n\n  if (texcoordRE.test(name)) {\n    numComponents = 2;\n  } else if (colorRE.test(name)) {\n    numComponents = 4;\n  } else {\n    numComponents = 3; // position, normals, indices ...\n  }\n\n  if (length % numComponents > 0) {\n    throw new Error(\"Can not guess numComponents for attribute '\".concat(name, \"'. Tried \").concat(numComponents, \" but \").concat(length, \" values is not evenly divisible by \").concat(numComponents, \". You should specify it.\"));\n  }\n\n  return numComponents;\n}\n\nfunction getNumComponents(array, arrayName) {\n  return array.numComponents || array.size || guessNumComponentsFromName(arrayName, getArray(array).length);\n}\n\nfunction makeTypedArray(array, name) {\n  if (typedArrays.isArrayBuffer(array)) {\n    return array;\n  }\n\n  if (typedArrays.isArrayBuffer(array.data)) {\n    return array.data;\n  }\n\n  if (Array.isArray(array)) {\n    array = {\n      data: array\n    };\n  }\n\n  var Type = array.type;\n\n  if (!Type) {\n    if (isIndices(name)) {\n      Type = Uint16Array;\n    } else {\n      Type = Float32Array;\n    }\n  }\n\n  return new Type(array.data);\n}\n/**\n * The info for an attribute. This is effectively just the arguments to `gl.vertexAttribPointer` plus the WebGLBuffer\n * for the attribute.\n *\n * @typedef {Object} AttribInfo\n * @property {number[]|ArrayBufferView} [value] a constant value for the attribute. Note: if this is set the attribute will be\n *    disabled and set to this constant value and all other values will be ignored.\n * @property {number} [numComponents] the number of components for this attribute.\n * @property {number} [size] synonym for `numComponents`.\n * @property {number} [type] the type of the attribute (eg. `gl.FLOAT`, `gl.UNSIGNED_BYTE`, etc...) Default = `gl.FLOAT`\n * @property {boolean} [normalize] whether or not to normalize the data. Default = false\n * @property {number} [offset] offset into buffer in bytes. Default = 0\n * @property {number} [stride] the stride in bytes per element. Default = 0\n * @property {number} [divisor] the divisor in instances. Default = undefined. Note: undefined = don't call gl.vertexAttribDivisor\n *    where as anything else = do call it with this value\n * @property {WebGLBuffer} buffer the buffer that contains the data for this attribute\n * @property {number} [drawType] the draw type passed to gl.bufferData. Default = gl.STATIC_DRAW\n * @memberOf module:twgl\n */\n\n/**\n * Use this type of array spec when TWGL can't guess the type or number of compoments of an array\n * @typedef {Object} FullArraySpec\n * @property {number[]|ArrayBufferView} [value] a constant value for the attribute. Note: if this is set the attribute will be\n *    disabled and set to this constant value and all other values will be ignored.\n * @property {(number|number[]|ArrayBufferView)} data The data of the array. A number alone becomes the number of elements of type.\n * @property {number} [numComponents] number of components for `vertexAttribPointer`. Default is based on the name of the array.\n *    If `coord` is in the name assumes `numComponents = 2`.\n *    If `color` is in the name assumes `numComponents = 4`.\n *    otherwise assumes `numComponents = 3`\n * @property {constructor} [type] type. This is only used if `data` is a JavaScript array. It is the constructor for the typedarray. (eg. `Uint8Array`).\n * For example if you want colors in a `Uint8Array` you might have a `FullArraySpec` like `{ type: Uint8Array, data: [255,0,255,255, ...], }`.\n * @property {number} [size] synonym for `numComponents`.\n * @property {boolean} [normalize] normalize for `vertexAttribPointer`. Default is true if type is `Int8Array` or `Uint8Array` otherwise false.\n * @property {number} [stride] stride for `vertexAttribPointer`. Default = 0\n * @property {number} [offset] offset for `vertexAttribPointer`. Default = 0\n * @property {number} [divisor] divisor for `vertexAttribDivisor`. Default = undefined. Note: undefined = don't call gl.vertexAttribDivisor\n *    where as anything else = do call it with this value\n * @property {string} [attrib] name of attribute this array maps to. Defaults to same name as array prefixed by the default attribPrefix.\n * @property {string} [name] synonym for `attrib`.\n * @property {string} [attribName] synonym for `attrib`.\n * @property {WebGLBuffer} [buffer] Buffer to use for this attribute. This lets you use your own buffer\n *    but you will need to supply `numComponents` and `type`. You can effectively pass an `AttribInfo`\n *    to provide this. Example:\n *\n *         const bufferInfo1 = twgl.createBufferInfoFromArrays(gl, {\n *           position: [1, 2, 3, ... ],\n *         });\n *         const bufferInfo2 = twgl.createBufferInfoFromArrays(gl, {\n *           position: bufferInfo1.attribs.position,  // use the same buffer from bufferInfo1\n *         });\n *\n * @memberOf module:twgl\n */\n\n/**\n * An individual array in {@link module:twgl.Arrays}\n *\n * When passed to {@link module:twgl.createBufferInfoFromArrays} if an ArraySpec is `number[]` or `ArrayBufferView`\n * the types will be guessed based on the name. `indices` will be `Uint16Array`, everything else will\n * be `Float32Array`. If an ArraySpec is a number it's the number of floats for an empty (zeroed) buffer.\n *\n * @typedef {(number|number[]|ArrayBufferView|module:twgl.FullArraySpec)} ArraySpec\n * @memberOf module:twgl\n */\n\n/**\n * This is a JavaScript object of arrays by name. The names should match your shader's attributes. If your\n * attributes have a common prefix you can specify it by calling {@link module:twgl.setAttributePrefix}.\n *\n *     Bare JavaScript Arrays\n *\n *         var arrays = {\n *            position: [-1, 1, 0],\n *            normal: [0, 1, 0],\n *            ...\n *         }\n *\n *     Bare TypedArrays\n *\n *         var arrays = {\n *            position: new Float32Array([-1, 1, 0]),\n *            color: new Uint8Array([255, 128, 64, 255]),\n *            ...\n *         }\n *\n * *   Will guess at `numComponents` if not specified based on name.\n *\n *     If `coord` is in the name assumes `numComponents = 2`\n *\n *     If `color` is in the name assumes `numComponents = 4`\n *\n *     otherwise assumes `numComponents = 3`\n *\n * Objects with various fields. See {@link module:twgl.FullArraySpec}.\n *\n *     var arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *       normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *       indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *     };\n *\n * @typedef {Object.<string, module:twgl.ArraySpec>} Arrays\n * @memberOf module:twgl\n */\n\n/**\n * Creates a set of attribute data and WebGLBuffers from set of arrays\n *\n * Given\n *\n *      var arrays = {\n *        position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *        texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *        normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *        color:    { numComponents: 4, data: [255, 255, 255, 255, 255, 0, 0, 255, 0, 0, 255, 255], type: Uint8Array, },\n *        indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *      };\n *\n * returns something like\n *\n *      var attribs = {\n *        position: { numComponents: 3, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        texcoord: { numComponents: 2, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        normal:   { numComponents: 3, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        color:    { numComponents: 4, type: gl.UNSIGNED_BYTE, normalize: true,  buffer: WebGLBuffer, },\n *      };\n *\n * notes:\n *\n * *   Arrays can take various forms\n *\n *     Bare JavaScript Arrays\n *\n *         var arrays = {\n *            position: [-1, 1, 0],\n *            normal: [0, 1, 0],\n *            ...\n *         }\n *\n *     Bare TypedArrays\n *\n *         var arrays = {\n *            position: new Float32Array([-1, 1, 0]),\n *            color: new Uint8Array([255, 128, 64, 255]),\n *            ...\n *         }\n *\n * *   Will guess at `numComponents` if not specified based on name.\n *\n *     If `coord` is in the name assumes `numComponents = 2`\n *\n *     If `color` is in the name assumes `numComponents = 4`\n *\n *     otherwise assumes `numComponents = 3`\n *\n * @param {WebGLRenderingContext} gl The webgl rendering context.\n * @param {module:twgl.Arrays} arrays The arrays\n * @param {module:twgl.BufferInfo} [srcBufferInfo] a BufferInfo to copy from\n *   This lets you share buffers. Any arrays you supply will override\n *   the buffers from srcBufferInfo.\n * @return {Object.<string, module:twgl.AttribInfo>} the attribs\n * @memberOf module:twgl/attributes\n */\n\n\nfunction createAttribsFromArrays(gl, arrays) {\n  var attribs = {};\n  Object.keys(arrays).forEach(function (arrayName) {\n    if (!isIndices(arrayName)) {\n      var array = arrays[arrayName];\n      var attribName = array.attrib || array.name || array.attribName || defaults.attribPrefix + arrayName;\n\n      if (array.value) {\n        if (!Array.isArray(array.value) && !typedArrays.isArrayBuffer(array.value)) {\n          throw new Error('array.value is not array or typedarray');\n        }\n\n        attribs[attribName] = {\n          value: array.value\n        };\n      } else {\n        var buffer;\n        var type;\n        var normalization;\n        var numComponents;\n\n        if (array.buffer && array.buffer instanceof WebGLBuffer) {\n          buffer = array.buffer;\n          numComponents = array.numComponents || array.size;\n          type = array.type;\n          normalization = array.normalize;\n        } else if (typeof array === \"number\" || typeof array.data === \"number\") {\n          var numValues = array.data || array;\n          var arrayType = array.type || Float32Array;\n          var numBytes = numValues * arrayType.BYTES_PER_ELEMENT;\n          type = typedArrays.getGLTypeForTypedArrayType(arrayType);\n          normalization = array.normalize !== undefined ? array.normalize : getNormalizationForTypedArrayType(arrayType);\n          numComponents = array.numComponents || array.size || guessNumComponentsFromName(arrayName, numValues);\n          buffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n          gl.bufferData(gl.ARRAY_BUFFER, numBytes, array.drawType || gl.STATIC_DRAW);\n        } else {\n          var typedArray = makeTypedArray(array, arrayName);\n          buffer = createBufferFromTypedArray(gl, typedArray, undefined, array.drawType);\n          type = typedArrays.getGLTypeForTypedArray(typedArray);\n          normalization = array.normalize !== undefined ? array.normalize : getNormalizationForTypedArray(typedArray);\n          numComponents = getNumComponents(array, arrayName);\n        }\n\n        attribs[attribName] = {\n          buffer: buffer,\n          numComponents: numComponents,\n          type: type,\n          normalize: normalization,\n          stride: array.stride || 0,\n          offset: array.offset || 0,\n          divisor: array.divisor === undefined ? undefined : array.divisor,\n          drawType: array.drawType\n        };\n      }\n    }\n  });\n  gl.bindBuffer(gl.ARRAY_BUFFER, null);\n  return attribs;\n}\n/**\n * Sets the contents of a buffer attached to an attribInfo\n *\n * This is helper function to dynamically update a buffer.\n *\n * Let's say you make a bufferInfo\n *\n *     var arrays = {\n *        position: new Float32Array([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]),\n *        texcoord: new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]),\n *        normal:   new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),\n *        indices:  new Uint16Array([0, 1, 2, 1, 2, 3]),\n *     };\n *     var bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);\n *\n *  And you want to dynamically upate the positions. You could do this\n *\n *     // assuming arrays.position has already been updated with new data.\n *     twgl.setAttribInfoBufferFromArray(gl, bufferInfo.attribs.position, arrays.position);\n *\n * @param {WebGLRenderingContext} gl\n * @param {AttribInfo} attribInfo The attribInfo who's buffer contents to set. NOTE: If you have an attribute prefix\n *   the name of the attribute will include the prefix.\n * @param {ArraySpec} array Note: it is arguably ineffient to pass in anything but a typed array because anything\n *    else will have to be converted to a typed array before it can be used by WebGL. During init time that\n *    inefficiency is usually not important but if you're updating data dynamically best to be efficient.\n * @param {number} [offset] an optional offset into the buffer. This is only an offset into the WebGL buffer\n *    not the array. To pass in an offset into the array itself use a typed array and create an `ArrayBufferView`\n *    for the portion of the array you want to use.\n *\n *        var someArray = new Float32Array(1000); // an array with 1000 floats\n *        var someSubArray = new Float32Array(someArray.buffer, offsetInBytes, sizeInUnits); // a view into someArray\n *\n *    Now you can pass `someSubArray` into setAttribInfoBufferFromArray`\n * @memberOf module:twgl/attributes\n */\n\n\nfunction setAttribInfoBufferFromArray(gl, attribInfo, array, offset) {\n  array = makeTypedArray(array);\n\n  if (offset !== undefined) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, attribInfo.buffer);\n    gl.bufferSubData(gl.ARRAY_BUFFER, offset, array);\n  } else {\n    setBufferFromTypedArray(gl, gl.ARRAY_BUFFER, attribInfo.buffer, array, attribInfo.drawType);\n  }\n}\n\nfunction getBytesPerValueForGLType(gl, type) {\n  if (type === gl.BYTE) return 1; // eslint-disable-line\n\n  if (type === gl.UNSIGNED_BYTE) return 1; // eslint-disable-line\n\n  if (type === gl.SHORT) return 2; // eslint-disable-line\n\n  if (type === gl.UNSIGNED_SHORT) return 2; // eslint-disable-line\n\n  if (type === gl.INT) return 4; // eslint-disable-line\n\n  if (type === gl.UNSIGNED_INT) return 4; // eslint-disable-line\n\n  if (type === gl.FLOAT) return 4; // eslint-disable-line\n\n  return 0;\n} // Tries to get the number of elements from a set of arrays.\n\n\nvar positionKeys = ['position', 'positions', 'a_position'];\n\nfunction getNumElementsFromNonIndexedArrays(arrays) {\n  var key;\n  var ii;\n\n  for (ii = 0; ii < positionKeys.length; ++ii) {\n    key = positionKeys[ii];\n\n    if (key in arrays) {\n      break;\n    }\n  }\n\n  if (ii === positionKeys.length) {\n    key = Object.keys(arrays)[0];\n  }\n\n  var array = arrays[key];\n  var length = getArray(array).length;\n  var numComponents = getNumComponents(array, key);\n  var numElements = length / numComponents;\n\n  if (length % numComponents > 0) {\n    throw new Error(\"numComponents \".concat(numComponents, \" not correct for length \").concat(length));\n  }\n\n  return numElements;\n}\n\nfunction getNumElementsFromAttributes(gl, attribs) {\n  var key;\n  var ii;\n\n  for (ii = 0; ii < positionKeys.length; ++ii) {\n    key = positionKeys[ii];\n\n    if (key in attribs) {\n      break;\n    }\n\n    key = defaults.attribPrefix + key;\n\n    if (key in attribs) {\n      break;\n    }\n  }\n\n  if (ii === positionKeys.length) {\n    key = Object.keys(attribs)[0];\n  }\n\n  var attrib = attribs[key];\n  gl.bindBuffer(gl.ARRAY_BUFFER, attrib.buffer);\n  var numBytes = gl.getBufferParameter(gl.ARRAY_BUFFER, gl.BUFFER_SIZE);\n  gl.bindBuffer(gl.ARRAY_BUFFER, null);\n  var bytesPerValue = getBytesPerValueForGLType(gl, attrib.type);\n  var totalElements = numBytes / bytesPerValue;\n  var numComponents = attrib.numComponents || attrib.size; // TODO: check stride\n\n  var numElements = totalElements / numComponents;\n\n  if (numElements % 1 !== 0) {\n    throw new Error(\"numComponents \".concat(numComponents, \" not correct for length \").concat(length));\n  }\n\n  return numElements;\n}\n/**\n * @typedef {Object} BufferInfo\n * @property {number} numElements The number of elements to pass to `gl.drawArrays` or `gl.drawElements`.\n * @property {number} [elementType] The type of indices `UNSIGNED_BYTE`, `UNSIGNED_SHORT` etc..\n * @property {WebGLBuffer} [indices] The indices `ELEMENT_ARRAY_BUFFER` if any indices exist.\n * @property {Object.<string, module:twgl.AttribInfo>} [attribs] The attribs approriate to call `setAttributes`\n * @memberOf module:twgl\n */\n\n/**\n * Creates a BufferInfo from an object of arrays.\n *\n * This can be passed to {@link module:twgl.setBuffersAndAttributes} and to\n * {@link module:twgl:drawBufferInfo}.\n *\n * Given an object like\n *\n *     var arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *       normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *       indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *     };\n *\n *  Creates an BufferInfo like this\n *\n *     bufferInfo = {\n *       numElements: 4,        // or whatever the number of elements is\n *       indices: WebGLBuffer,  // this property will not exist if there are no indices\n *       attribs: {\n *         a_position: { buffer: WebGLBuffer, numComponents: 3, },\n *         a_normal:   { buffer: WebGLBuffer, numComponents: 3, },\n *         a_texcoord: { buffer: WebGLBuffer, numComponents: 2, },\n *       },\n *     };\n *\n *  The properties of arrays can be JavaScript arrays in which case the number of components\n *  will be guessed.\n *\n *     var arrays = {\n *        position: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0],\n *        texcoord: [0, 0, 0, 1, 1, 0, 1, 1],\n *        normal:   [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],\n *        indices:  [0, 1, 2, 1, 2, 3],\n *     };\n *\n *  They can also by TypedArrays\n *\n *     var arrays = {\n *        position: new Float32Array([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]),\n *        texcoord: new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]),\n *        normal:   new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),\n *        indices:  new Uint16Array([0, 1, 2, 1, 2, 3]),\n *     };\n *\n *  Or augmentedTypedArrays\n *\n *     var positions = createAugmentedTypedArray(3, 4);\n *     var texcoords = createAugmentedTypedArray(2, 4);\n *     var normals   = createAugmentedTypedArray(3, 4);\n *     var indices   = createAugmentedTypedArray(3, 2, Uint16Array);\n *\n *     positions.push([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]);\n *     texcoords.push([0, 0, 0, 1, 1, 0, 1, 1]);\n *     normals.push([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]);\n *     indices.push([0, 1, 2, 1, 2, 3]);\n *\n *     var arrays = {\n *        position: positions,\n *        texcoord: texcoords,\n *        normal:   normals,\n *        indices:  indices,\n *     };\n *\n * For the last example it is equivalent to\n *\n *     var bufferInfo = {\n *       attribs: {\n *         a_position: { numComponents: 3, buffer: gl.createBuffer(), },\n *         a_texcoods: { numComponents: 2, buffer: gl.createBuffer(), },\n *         a_normals: { numComponents: 3, buffer: gl.createBuffer(), },\n *       },\n *       indices: gl.createBuffer(),\n *       numElements: 6,\n *     };\n *\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.a_position.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.position, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.a_texcoord.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.texcoord, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.a_normal.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.normal, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, bufferInfo.indices);\n *     gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, arrays.indices, gl.STATIC_DRAW);\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.Arrays} arrays Your data\n * @param {module:twgl.BufferInfo} [srcBufferInfo] An existing\n *        buffer info to start from. WebGLBuffers etc specified\n *        in the srcBufferInfo will be used in a new BufferInfo\n *        with any arrays specfied overriding the ones in\n *        srcBufferInfo.\n * @return {module:twgl.BufferInfo} A BufferInfo\n * @memberOf module:twgl/attributes\n */\n\n\nfunction createBufferInfoFromArrays(gl, arrays, srcBufferInfo) {\n  var newAttribs = createAttribsFromArrays(gl, arrays);\n  var bufferInfo = Object.assign({}, srcBufferInfo ? srcBufferInfo : {});\n  bufferInfo.attribs = Object.assign({}, srcBufferInfo ? srcBufferInfo.attribs : {}, newAttribs);\n  var indices = arrays.indices;\n\n  if (indices) {\n    var newIndices = makeTypedArray(indices, \"indices\");\n    bufferInfo.indices = createBufferFromTypedArray(gl, newIndices, gl.ELEMENT_ARRAY_BUFFER);\n    bufferInfo.numElements = newIndices.length;\n    bufferInfo.elementType = typedArrays.getGLTypeForTypedArray(newIndices);\n  } else if (!bufferInfo.numElements) {\n    bufferInfo.numElements = getNumElementsFromAttributes(gl, bufferInfo.attribs);\n  }\n\n  return bufferInfo;\n}\n/**\n * Creates a buffer from an array, typed array, or array spec\n *\n * Given something like this\n *\n *     [1, 2, 3],\n *\n * or\n *\n *     new Uint16Array([1,2,3]);\n *\n * or\n *\n *     {\n *        data: [1, 2, 3],\n *        type: Uint8Array,\n *     }\n *\n * returns a WebGLBuffer that constains the given data.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {module:twgl.ArraySpec} array an array, typed array, or array spec.\n * @param {string} arrayName name of array. Used to guess the type if type can not be dervied other wise.\n * @return {WebGLBuffer} a WebGLBuffer containing the data in array.\n * @memberOf module:twgl/attributes\n */\n\n\nfunction createBufferFromArray(gl, array, arrayName) {\n  var type = arrayName === \"indices\" ? gl.ELEMENT_ARRAY_BUFFER : gl.ARRAY_BUFFER;\n  var typedArray = makeTypedArray(array, arrayName);\n  return createBufferFromTypedArray(gl, typedArray, type);\n}\n/**\n * Creates buffers from arrays or typed arrays\n *\n * Given something like this\n *\n *     var arrays = {\n *        positions: [1, 2, 3],\n *        normals: [0, 0, 1],\n *     }\n *\n * returns something like\n *\n *     buffers = {\n *       positions: WebGLBuffer,\n *       normals: WebGLBuffer,\n *     }\n *\n * If the buffer is named 'indices' it will be made an ELEMENT_ARRAY_BUFFER.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {module:twgl.Arrays} arrays\n * @return {Object<string, WebGLBuffer>} returns an object with one WebGLBuffer per array\n * @memberOf module:twgl/attributes\n */\n\n\nfunction createBuffersFromArrays(gl, arrays) {\n  var buffers = {};\n  Object.keys(arrays).forEach(function (key) {\n    buffers[key] = createBufferFromArray(gl, arrays[key], key);\n  }); // Ugh!\n\n  if (arrays.indices) {\n    buffers.numElements = arrays.indices.length;\n    buffers.elementType = typedArrays.getGLTypeForTypedArray(makeTypedArray(arrays.indices), 'indices');\n  } else {\n    buffers.numElements = getNumElementsFromNonIndexedArrays(arrays);\n  }\n\n  return buffers;\n}\n\n/***/ }),\n\n/***/ \"./src/draw.js\":\n/*!*********************!*\\\n  !*** ./src/draw.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.drawBufferInfo = drawBufferInfo;\nexports.drawObjectList = drawObjectList;\n\nvar programs = _interopRequireWildcard(__webpack_require__(/*! ./programs.js */ \"./src/programs.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Drawing related functions\n *\n * For backward compatibily they are available at both `twgl.draw` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/draw\n */\n\n/**\n * Calls `gl.drawElements` or `gl.drawArrays`, whichever is appropriate\n *\n * normally you'd call `gl.drawElements` or `gl.drawArrays` yourself\n * but calling this means if you switch from indexed data to non-indexed\n * data you don't have to remember to update your draw call.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {(module:twgl.BufferInfo|module:twgl.VertexArrayInfo)} bufferInfo A BufferInfo as returned from {@link module:twgl.createBufferInfoFromArrays} or\n *   a VertexArrayInfo as returned from {@link module:twgl.createVertexArrayInfo}\n * @param {number} [type] eg (gl.TRIANGLES, gl.LINES, gl.POINTS, gl.TRIANGLE_STRIP, ...). Defaults to `gl.TRIANGLES`\n * @param {number} [count] An optional count. Defaults to bufferInfo.numElements\n * @param {number} [offset] An optional offset. Defaults to 0.\n * @param {number} [instanceCount] An optional instanceCount. if set then `drawArraysInstanced` or `drawElementsInstanced` will be called\n * @memberOf module:twgl/draw\n */\nfunction drawBufferInfo(gl, bufferInfo, type, count, offset, instanceCount) {\n  type = type === undefined ? gl.TRIANGLES : type;\n  var indices = bufferInfo.indices;\n  var elementType = bufferInfo.elementType;\n  var numElements = count === undefined ? bufferInfo.numElements : count;\n  offset = offset === undefined ? 0 : offset;\n\n  if (elementType || indices) {\n    if (instanceCount !== undefined) {\n      gl.drawElementsInstanced(type, numElements, elementType === undefined ? gl.UNSIGNED_SHORT : bufferInfo.elementType, offset, instanceCount);\n    } else {\n      gl.drawElements(type, numElements, elementType === undefined ? gl.UNSIGNED_SHORT : bufferInfo.elementType, offset);\n    }\n  } else {\n    if (instanceCount !== undefined) {\n      gl.drawArraysInstanced(type, offset, numElements, instanceCount);\n    } else {\n      gl.drawArrays(type, offset, numElements);\n    }\n  }\n}\n/**\n * A DrawObject is useful for putting objects in to an array and passing them to {@link module:twgl.drawObjectList}.\n *\n * You need either a `BufferInfo` or a `VertexArrayInfo`.\n *\n * @typedef {Object} DrawObject\n * @property {boolean} [active] whether or not to draw. Default = `true` (must be `false` to be not true). In otherwords `undefined` = `true`\n * @property {number} [type] type to draw eg. `gl.TRIANGLES`, `gl.LINES`, etc...\n * @property {module:twgl.ProgramInfo} programInfo A ProgramInfo as returned from {@link module:twgl.createProgramInfo}\n * @property {module:twgl.BufferInfo} [bufferInfo] A BufferInfo as returned from {@link module:twgl.createBufferInfoFromArrays}\n * @property {module:twgl.VertexArrayInfo} [vertexArrayInfo] A VertexArrayInfo as returned from {@link module:twgl.createVertexArrayInfo}\n * @property {Object<string, ?>} uniforms The values for the uniforms.\n *   You can pass multiple objects by putting them in an array. For example\n *\n *     var sharedUniforms = {\n *       u_fogNear: 10,\n *       u_projection: ...\n *       ...\n *     };\n *\n *     var localUniforms = {\n *       u_world: ...\n *       u_diffuseColor: ...\n *     };\n *\n *     var drawObj = {\n *       ...\n *       uniforms: [sharedUniforms, localUniforms],\n *     };\n *\n * @property {number} [offset] the offset to pass to `gl.drawArrays` or `gl.drawElements`. Defaults to 0.\n * @property {number} [count] the count to pass to `gl.drawArrays` or `gl.drawElemnts`. Defaults to bufferInfo.numElements.\n * @property {number} [instanceCount] the number of instances. Defaults to undefined.\n * @memberOf module:twgl\n */\n\n/**\n * Draws a list of objects\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {DrawObject[]} objectsToDraw an array of objects to draw.\n * @memberOf module:twgl/draw\n */\n\n\nfunction drawObjectList(gl, objectsToDraw) {\n  var lastUsedProgramInfo = null;\n  var lastUsedBufferInfo = null;\n  objectsToDraw.forEach(function (object) {\n    if (object.active === false) {\n      return;\n    }\n\n    var programInfo = object.programInfo;\n    var bufferInfo = object.vertexArrayInfo || object.bufferInfo;\n    var bindBuffers = false;\n    var type = object.type === undefined ? gl.TRIANGLES : object.type;\n\n    if (programInfo !== lastUsedProgramInfo) {\n      lastUsedProgramInfo = programInfo;\n      gl.useProgram(programInfo.program); // We have to rebind buffers when changing programs because we\n      // only bind buffers the program uses. So if 2 programs use the same\n      // bufferInfo but the 1st one uses only positions the when the\n      // we switch to the 2nd one some of the attributes will not be on.\n\n      bindBuffers = true;\n    } // Setup all the needed attributes.\n\n\n    if (bindBuffers || bufferInfo !== lastUsedBufferInfo) {\n      if (lastUsedBufferInfo && lastUsedBufferInfo.vertexArrayObject && !bufferInfo.vertexArrayObject) {\n        gl.bindVertexArray(null);\n      }\n\n      lastUsedBufferInfo = bufferInfo;\n      programs.setBuffersAndAttributes(gl, programInfo, bufferInfo);\n    } // Set the uniforms.\n\n\n    programs.setUniforms(programInfo, object.uniforms); // Draw\n\n    drawBufferInfo(gl, bufferInfo, type, object.count, object.offset, object.instanceCount);\n  });\n\n  if (lastUsedBufferInfo.vertexArrayObject) {\n    gl.bindVertexArray(null);\n  }\n}\n\n/***/ }),\n\n/***/ \"./src/framebuffers.js\":\n/*!*****************************!*\\\n  !*** ./src/framebuffers.js ***!\n  \\*****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.bindFramebufferInfo = bindFramebufferInfo;\nexports.createFramebufferInfo = createFramebufferInfo;\nexports.resizeFramebufferInfo = resizeFramebufferInfo;\n\nvar textures = _interopRequireWildcard(__webpack_require__(/*! ./textures.js */ \"./src/textures.js\"));\n\nvar helper = _interopRequireWildcard(__webpack_require__(/*! ./helper.js */ \"./src/helper.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Framebuffer related functions\n *\n * For backward compatibily they are available at both `twgl.framebuffer` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/framebuffers\n */\n// make sure we don't see a global gl\nvar gl = undefined; // eslint-disable-line\n\nvar UNSIGNED_BYTE = 0x1401;\n/* PixelFormat */\n\nvar DEPTH_COMPONENT = 0x1902;\nvar RGBA = 0x1908;\n/* Framebuffer Object. */\n\nvar RGBA4 = 0x8056;\nvar RGB5_A1 = 0x8057;\nvar RGB565 = 0x8D62;\nvar DEPTH_COMPONENT16 = 0x81A5;\nvar STENCIL_INDEX = 0x1901;\nvar STENCIL_INDEX8 = 0x8D48;\nvar DEPTH_STENCIL = 0x84F9;\nvar COLOR_ATTACHMENT0 = 0x8CE0;\nvar DEPTH_ATTACHMENT = 0x8D00;\nvar STENCIL_ATTACHMENT = 0x8D20;\nvar DEPTH_STENCIL_ATTACHMENT = 0x821A;\n/* TextureWrapMode */\n\nvar REPEAT = 0x2901; // eslint-disable-line\n\nvar CLAMP_TO_EDGE = 0x812F;\nvar MIRRORED_REPEAT = 0x8370; // eslint-disable-line\n\n/* TextureMagFilter */\n\nvar NEAREST = 0x2600; // eslint-disable-line\n\nvar LINEAR = 0x2601;\n/* TextureMinFilter */\n\nvar NEAREST_MIPMAP_NEAREST = 0x2700; // eslint-disable-line\n\nvar LINEAR_MIPMAP_NEAREST = 0x2701; // eslint-disable-line\n\nvar NEAREST_MIPMAP_LINEAR = 0x2702; // eslint-disable-line\n\nvar LINEAR_MIPMAP_LINEAR = 0x2703; // eslint-disable-line\n\n/**\n * The options for a framebuffer attachment.\n *\n * Note: For a `format` that is a texture include all the texture\n * options from {@link module:twgl.TextureOptions} for example\n * `min`, `mag`, `clamp`, etc... Note that unlike {@link module:twgl.TextureOptions}\n * `auto` defaults to `false` for attachment textures but `min` and `mag` default\n * to `gl.LINEAR` and `wrap` defaults to `CLAMP_TO_EDGE`\n *\n * @typedef {Object} AttachmentOptions\n * @property {number} [attach] The attachment point. Defaults\n *   to `gl.COLOR_ATTACTMENT0 + ndx` unless type is a depth or stencil type\n *   then it's gl.DEPTH_ATTACHMENT or `gl.DEPTH_STENCIL_ATTACHMENT` depending\n *   on the format or attachment type.\n * @property {number} [format] The format. If one of `gl.RGBA4`,\n *   `gl.RGB565`, `gl.RGB5_A1`, `gl.DEPTH_COMPONENT16`,\n *   `gl.STENCIL_INDEX8` or `gl.DEPTH_STENCIL` then will create a\n *   renderbuffer. Otherwise will create a texture. Default = `gl.RGBA`\n * @property {number} [type] The type. Used for texture. Default = `gl.UNSIGNED_BYTE`.\n * @property {number} [target] The texture target for `gl.framebufferTexture2D`.\n *   Defaults to `gl.TEXTURE_2D`. Set to appropriate face for cube maps.\n * @property {number} [level] level for `gl.framebufferTexture2D`. Defaults to 0.\n * @property {WebGLObject} [attachment] An existing renderbuffer or texture.\n *    If provided will attach this Object. This allows you to share\n *    attachemnts across framebuffers.\n * @memberOf module:twgl\n */\n\nvar defaultAttachments = [{\n  format: RGBA,\n  type: UNSIGNED_BYTE,\n  min: LINEAR,\n  wrap: CLAMP_TO_EDGE\n}, {\n  format: DEPTH_STENCIL\n}];\nvar attachmentsByFormat = {};\nattachmentsByFormat[DEPTH_STENCIL] = DEPTH_STENCIL_ATTACHMENT;\nattachmentsByFormat[STENCIL_INDEX] = STENCIL_ATTACHMENT;\nattachmentsByFormat[STENCIL_INDEX8] = STENCIL_ATTACHMENT;\nattachmentsByFormat[DEPTH_COMPONENT] = DEPTH_ATTACHMENT;\nattachmentsByFormat[DEPTH_COMPONENT16] = DEPTH_ATTACHMENT;\n\nfunction getAttachmentPointForFormat(format) {\n  return attachmentsByFormat[format];\n}\n\nvar renderbufferFormats = {};\nrenderbufferFormats[RGBA4] = true;\nrenderbufferFormats[RGB5_A1] = true;\nrenderbufferFormats[RGB565] = true;\nrenderbufferFormats[DEPTH_STENCIL] = true;\nrenderbufferFormats[DEPTH_COMPONENT16] = true;\nrenderbufferFormats[STENCIL_INDEX] = true;\nrenderbufferFormats[STENCIL_INDEX8] = true;\n\nfunction isRenderbufferFormat(format) {\n  return renderbufferFormats[format];\n}\n/**\n * @typedef {Object} FramebufferInfo\n * @property {WebGLFramebuffer} framebuffer The WebGLFramebuffer for this framebufferInfo\n * @property {WebGLObject[]} attachments The created attachments in the same order as passed in to {@link module:twgl.createFramebufferInfo}.\n * @memberOf module:twgl\n */\n\n/**\n * Creates a framebuffer and attachments.\n *\n * This returns a {@link module:twgl.FramebufferInfo} because it needs to return the attachments as well as the framebuffer.\n *\n * The simplest usage\n *\n *     // create an RGBA/UNSIGNED_BYTE texture and DEPTH_STENCIL renderbuffer\n *     const fbi = twgl.createFramebufferInfo(gl);\n *\n * More complex usage\n *\n *     // create an RGB565 renderbuffer and a STENCIL_INDEX8 renderbuffer\n *     const attachments = [\n *       { format: RGB565, mag: NEAREST },\n *       { format: STENCIL_INDEX8 },\n *     ]\n *     const fbi = twgl.createFramebufferInfo(gl, attachments);\n *\n * Passing in a specific size\n *\n *     const width = 256;\n *     const height = 256;\n *     const fbi = twgl.createFramebufferInfo(gl, attachments, width, height);\n *\n * **Note!!** It is up to you to check if the framebuffer is renderable by calling `gl.checkFramebufferStatus`.\n * [WebGL only guarantees 3 combinations of attachments work](https://www.khronos.org/registry/webgl/specs/latest/1.0/#6.6).\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.AttachmentOptions[]} [attachments] which attachments to create. If not provided the default is a framebuffer with an\n *    `RGBA`, `UNSIGNED_BYTE` texture `COLOR_ATTACHMENT0` and a `DEPTH_STENCIL` renderbuffer `DEPTH_STENCIL_ATTACHMENT`.\n * @param {number} [width] the width for the attachments. Default = size of drawingBuffer\n * @param {number} [height] the height for the attachments. Defautt = size of drawingBuffer\n * @return {module:twgl.FramebufferInfo} the framebuffer and attachments.\n * @memberOf module:twgl/framebuffers\n */\n\n\nfunction createFramebufferInfo(gl, attachments, width, height) {\n  var target = gl.FRAMEBUFFER;\n  var fb = gl.createFramebuffer();\n  gl.bindFramebuffer(target, fb);\n  width = width || gl.drawingBufferWidth;\n  height = height || gl.drawingBufferHeight;\n  attachments = attachments || defaultAttachments;\n  var colorAttachmentCount = 0;\n  var framebufferInfo = {\n    framebuffer: fb,\n    attachments: [],\n    width: width,\n    height: height\n  };\n  attachments.forEach(function (attachmentOptions) {\n    var attachment = attachmentOptions.attachment;\n    var format = attachmentOptions.format;\n    var attachmentPoint = getAttachmentPointForFormat(format);\n\n    if (!attachmentPoint) {\n      attachmentPoint = COLOR_ATTACHMENT0 + colorAttachmentCount++;\n    }\n\n    if (!attachment) {\n      if (isRenderbufferFormat(format)) {\n        attachment = gl.createRenderbuffer();\n        gl.bindRenderbuffer(gl.RENDERBUFFER, attachment);\n        gl.renderbufferStorage(gl.RENDERBUFFER, format, width, height);\n      } else {\n        var textureOptions = Object.assign({}, attachmentOptions);\n        textureOptions.width = width;\n        textureOptions.height = height;\n\n        if (textureOptions.auto === undefined) {\n          textureOptions.auto = false;\n          textureOptions.min = textureOptions.min || textureOptions.minMag || gl.LINEAR;\n          textureOptions.mag = textureOptions.mag || textureOptions.minMag || gl.LINEAR;\n          textureOptions.wrapS = textureOptions.wrapS || textureOptions.wrap || gl.CLAMP_TO_EDGE;\n          textureOptions.wrapT = textureOptions.wrapT || textureOptions.wrap || gl.CLAMP_TO_EDGE;\n        }\n\n        attachment = textures.createTexture(gl, textureOptions);\n      }\n    }\n\n    if (helper.isRenderbuffer(gl, attachment)) {\n      gl.framebufferRenderbuffer(target, attachmentPoint, gl.RENDERBUFFER, attachment);\n    } else if (helper.isTexture(gl, attachment)) {\n      gl.framebufferTexture2D(target, attachmentPoint, attachmentOptions.texTarget || gl.TEXTURE_2D, attachment, attachmentOptions.level || 0);\n    } else {\n      throw new Error('unknown attachment type');\n    }\n\n    framebufferInfo.attachments.push(attachment);\n  });\n  return framebufferInfo;\n}\n/**\n * Resizes the attachments of a framebuffer.\n *\n * You need to pass in the same `attachments` as you passed in {@link module:twgl.createFramebufferInfo}\n * because TWGL has no idea the format/type of each attachment.\n *\n * The simplest usage\n *\n *     // create an RGBA/UNSIGNED_BYTE texture and DEPTH_STENCIL renderbuffer\n *     const fbi = twgl.createFramebufferInfo(gl);\n *\n *     ...\n *\n *     function render() {\n *       if (twgl.resizeCanvasToDisplaySize(gl.canvas)) {\n *         // resize the attachments\n *         twgl.resizeFramebufferInfo(gl, fbi);\n *       }\n *\n * More complex usage\n *\n *     // create an RGB565 renderbuffer and a STENCIL_INDEX8 renderbuffer\n *     const attachments = [\n *       { format: RGB565, mag: NEAREST },\n *       { format: STENCIL_INDEX8 },\n *     ]\n *     const fbi = twgl.createFramebufferInfo(gl, attachments);\n *\n *     ...\n *\n *     function render() {\n *       if (twgl.resizeCanvasToDisplaySize(gl.canvas)) {\n *         // resize the attachments to match\n *         twgl.resizeFramebufferInfo(gl, fbi, attachments);\n *       }\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.FramebufferInfo} framebufferInfo a framebufferInfo as returned from {@link module:twgl.createFramebufferInfo}.\n * @param {module:twgl.AttachmentOptions[]} [attachments] the same attachments options as passed to {@link module:twgl.createFramebufferInfo}.\n * @param {number} [width] the width for the attachments. Default = size of drawingBuffer\n * @param {number} [height] the height for the attachments. Defautt = size of drawingBuffer\n * @memberOf module:twgl/framebuffers\n */\n\n\nfunction resizeFramebufferInfo(gl, framebufferInfo, attachments, width, height) {\n  width = width || gl.drawingBufferWidth;\n  height = height || gl.drawingBufferHeight;\n  framebufferInfo.width = width;\n  framebufferInfo.height = height;\n  attachments = attachments || defaultAttachments;\n  attachments.forEach(function (attachmentOptions, ndx) {\n    var attachment = framebufferInfo.attachments[ndx];\n    var format = attachmentOptions.format;\n\n    if (helper.isRenderbuffer(gl, attachment)) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, attachment);\n      gl.renderbufferStorage(gl.RENDERBUFFER, format, width, height);\n    } else if (helper.isTexture(gl, attachment)) {\n      textures.resizeTexture(gl, attachment, attachmentOptions, width, height);\n    } else {\n      throw new Error('unknown attachment type');\n    }\n  });\n}\n/**\n * Binds a framebuffer\n *\n * This function pretty much soley exists because I spent hours\n * trying to figure out why something I wrote wasn't working only\n * to realize I forget to set the viewport dimensions.\n * My hope is this function will fix that.\n *\n * It is effectively the same as\n *\n *     gl.bindFramebuffer(gl.FRAMEBUFFER, someFramebufferInfo.framebuffer);\n *     gl.viewport(0, 0, someFramebufferInfo.width, someFramebufferInfo.height);\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.FramebufferInfo} [framebufferInfo] a framebufferInfo as returned from {@link module:twgl.createFramebufferInfo}.\n *   If not passed will bind the canvas.\n * @param {number} [target] The target. If not passed `gl.FRAMEBUFFER` will be used.\n * @memberOf module:twgl/framebuffers\n */\n\n\nfunction bindFramebufferInfo(gl, framebufferInfo, target) {\n  target = target || gl.FRAMEBUFFER;\n\n  if (framebufferInfo) {\n    gl.bindFramebuffer(target, framebufferInfo.framebuffer);\n    gl.viewport(0, 0, framebufferInfo.width, framebufferInfo.height);\n  } else {\n    gl.bindFramebuffer(target, null);\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n  }\n}\n\n/***/ }),\n\n/***/ \"./src/helper.js\":\n/*!***********************!*\\\n  !*** ./src/helper.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.copyExistingProperties = copyExistingProperties;\nexports.copyNamedProperties = copyNamedProperties;\nexports.isBuffer = isBuffer;\nexports.isRenderbuffer = isRenderbuffer;\nexports.isShader = isShader;\nexports.isTexture = isTexture;\nexports.isSampler = isSampler;\nexports.warn = exports.error = void 0;\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint no-console: \"off\" */\n\n/**\n * Copy named properties\n *\n * @param {string[]} names names of properties to copy\n * @param {object} src object to copy properties from\n * @param {object} dst object to copy properties to\n * @private\n */\nfunction copyNamedProperties(names, src, dst) {\n  names.forEach(function (name) {\n    var value = src[name];\n\n    if (value !== undefined) {\n      dst[name] = value;\n    }\n  });\n}\n/**\n * Copies properties from source to dest only if a matching key is in dest\n *\n * @param {Object.<string, ?>} src the source\n * @param {Object.<string, ?>} dst the dest\n * @private\n */\n\n\nfunction copyExistingProperties(src, dst) {\n  Object.keys(dst).forEach(function (key) {\n    if (dst.hasOwnProperty(key) && src.hasOwnProperty(key)) {\n      dst[key] = src[key];\n    }\n  });\n}\n\nvar error = typeof console !== 'undefined' && console.error && typeof console.error === \"function\" ? console.error.bind(console) : function () {};\nexports.error = error;\nvar warn = typeof console !== 'undefined' && console.warn && typeof console.warn === \"function\" ? console.warn.bind(console) : function () {};\nexports.warn = warn;\n\nfunction isBuffer(gl, t) {\n  return typeof WebGLBuffer !== 'undefined' && t instanceof WebGLBuffer;\n}\n\nfunction isRenderbuffer(gl, t) {\n  return typeof WebGLRenderbuffer !== 'undefined' && t instanceof WebGLRenderbuffer;\n}\n\nfunction isShader(gl, t) {\n  return typeof WebGLShader !== 'undefined' && t instanceof WebGLShader;\n}\n\nfunction isTexture(gl, t) {\n  return typeof WebGLTexture !== 'undefined' && t instanceof WebGLTexture;\n}\n\nfunction isSampler(gl, t) {\n  return typeof WebGLSampler !== 'undefined' && t instanceof WebGLSampler;\n}\n\n/***/ }),\n\n/***/ \"./src/m4.js\":\n/*!*******************!*\\\n  !*** ./src/m4.js ***!\n  \\*******************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.axisRotate = axisRotate;\nexports.axisRotation = axisRotation;\nexports.copy = copy;\nexports.frustum = frustum;\nexports.getAxis = getAxis;\nexports.getTranslation = getTranslation;\nexports.identity = identity;\nexports.inverse = inverse;\nexports.lookAt = lookAt;\nexports.multiply = multiply;\nexports.negate = negate;\nexports.ortho = ortho;\nexports.perspective = perspective;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.rotationX = rotationX;\nexports.rotationY = rotationY;\nexports.rotationZ = rotationZ;\nexports.scale = scale;\nexports.scaling = scaling;\nexports.setAxis = setAxis;\nexports.setDefaultType = setDefaultType;\nexports.setTranslation = setTranslation;\nexports.transformDirection = transformDirection;\nexports.transformNormal = transformNormal;\nexports.transformPoint = transformPoint;\nexports.translate = translate;\nexports.translation = translation;\nexports.transpose = transpose;\n\nvar v3 = _interopRequireWildcard(__webpack_require__(/*! ./v3.js */ \"./src/v3.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * 4x4 Matrix math math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new matrix. In other words you can do this\n *\n *     const mat = m4.translation([1, 2, 3]);  // Creates a new translation matrix\n *\n * or\n *\n *     const mat = m4.create();\n *     m4.translation([1, 2, 3], mat);  // Puts translation matrix in mat.\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always save to pass any matrix as the destination. So for example\n *\n *     const mat = m4.identity();\n *     const trans = m4.translation([1, 2, 3]);\n *     m4.multiply(mat, trans, mat);  // Multiplies mat * trans and puts result in mat.\n *\n * @module twgl/m4\n */\nvar MatType = Float32Array;\nvar tempV3a = v3.create();\nvar tempV3b = v3.create();\nvar tempV3c = v3.create();\n/**\n * A JavaScript array with 16 values or a Float32Array with 16 values.\n * When created by the library will create the default type which is `Float32Array`\n * but can be set by calling {@link module:twgl/m4.setDefaultType}.\n * @typedef {(number[]|Float32Array)} Mat4\n * @memberOf module:twgl/m4\n */\n\n/**\n * Sets the type this library creates for a Mat4\n * @param {constructor} ctor the constructor for the type. Either `Float32Array` or `Array`\n * @return {constructor} previous constructor for Mat4\n * @memberOf module:twgl/m4\n */\n\nfunction setDefaultType(ctor) {\n  var oldType = MatType;\n  MatType = ctor;\n  return oldType;\n}\n/**\n * Negates a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} -m.\n * @memberOf module:twgl/m4\n */\n\n\nfunction negate(m, dst) {\n  dst = dst || new MatType(16);\n  dst[0] = -m[0];\n  dst[1] = -m[1];\n  dst[2] = -m[2];\n  dst[3] = -m[3];\n  dst[4] = -m[4];\n  dst[5] = -m[5];\n  dst[6] = -m[6];\n  dst[7] = -m[7];\n  dst[8] = -m[8];\n  dst[9] = -m[9];\n  dst[10] = -m[10];\n  dst[11] = -m[11];\n  dst[12] = -m[12];\n  dst[13] = -m[13];\n  dst[14] = -m[14];\n  dst[15] = -m[15];\n  return dst;\n}\n/**\n * Copies a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] The matrix.\n * @return {module:twgl/m4.Mat4} A copy of m.\n * @memberOf module:twgl/m4\n */\n\n\nfunction copy(m, dst) {\n  dst = dst || new MatType(16);\n  dst[0] = m[0];\n  dst[1] = m[1];\n  dst[2] = m[2];\n  dst[3] = m[3];\n  dst[4] = m[4];\n  dst[5] = m[5];\n  dst[6] = m[6];\n  dst[7] = m[7];\n  dst[8] = m[8];\n  dst[9] = m[9];\n  dst[10] = m[10];\n  dst[11] = m[11];\n  dst[12] = m[12];\n  dst[13] = m[13];\n  dst[14] = m[14];\n  dst[15] = m[15];\n  return dst;\n}\n/**\n * Creates an n-by-n identity matrix.\n *\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} An n-by-n identity matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction identity(dst) {\n  dst = dst || new MatType(16);\n  dst[0] = 1;\n  dst[1] = 0;\n  dst[2] = 0;\n  dst[3] = 0;\n  dst[4] = 0;\n  dst[5] = 1;\n  dst[6] = 0;\n  dst[7] = 0;\n  dst[8] = 0;\n  dst[9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Takes the transpose of a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The transpose of m.\n * @memberOf module:twgl/m4\n */\n\n\nfunction transpose(m, dst) {\n  dst = dst || new MatType(16);\n\n  if (dst === m) {\n    var t;\n    t = m[1];\n    m[1] = m[4];\n    m[4] = t;\n    t = m[2];\n    m[2] = m[8];\n    m[8] = t;\n    t = m[3];\n    m[3] = m[12];\n    m[12] = t;\n    t = m[6];\n    m[6] = m[9];\n    m[9] = t;\n    t = m[7];\n    m[7] = m[13];\n    m[13] = t;\n    t = m[11];\n    m[11] = m[14];\n    m[14] = t;\n    return dst;\n  }\n\n  var m00 = m[0 * 4 + 0];\n  var m01 = m[0 * 4 + 1];\n  var m02 = m[0 * 4 + 2];\n  var m03 = m[0 * 4 + 3];\n  var m10 = m[1 * 4 + 0];\n  var m11 = m[1 * 4 + 1];\n  var m12 = m[1 * 4 + 2];\n  var m13 = m[1 * 4 + 3];\n  var m20 = m[2 * 4 + 0];\n  var m21 = m[2 * 4 + 1];\n  var m22 = m[2 * 4 + 2];\n  var m23 = m[2 * 4 + 3];\n  var m30 = m[3 * 4 + 0];\n  var m31 = m[3 * 4 + 1];\n  var m32 = m[3 * 4 + 2];\n  var m33 = m[3 * 4 + 3];\n  dst[0] = m00;\n  dst[1] = m10;\n  dst[2] = m20;\n  dst[3] = m30;\n  dst[4] = m01;\n  dst[5] = m11;\n  dst[6] = m21;\n  dst[7] = m31;\n  dst[8] = m02;\n  dst[9] = m12;\n  dst[10] = m22;\n  dst[11] = m32;\n  dst[12] = m03;\n  dst[13] = m13;\n  dst[14] = m23;\n  dst[15] = m33;\n  return dst;\n}\n/**\n * Computes the inverse of a 4-by-4 matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The inverse of m.\n * @memberOf module:twgl/m4\n */\n\n\nfunction inverse(m, dst) {\n  dst = dst || new MatType(16);\n  var m00 = m[0 * 4 + 0];\n  var m01 = m[0 * 4 + 1];\n  var m02 = m[0 * 4 + 2];\n  var m03 = m[0 * 4 + 3];\n  var m10 = m[1 * 4 + 0];\n  var m11 = m[1 * 4 + 1];\n  var m12 = m[1 * 4 + 2];\n  var m13 = m[1 * 4 + 3];\n  var m20 = m[2 * 4 + 0];\n  var m21 = m[2 * 4 + 1];\n  var m22 = m[2 * 4 + 2];\n  var m23 = m[2 * 4 + 3];\n  var m30 = m[3 * 4 + 0];\n  var m31 = m[3 * 4 + 1];\n  var m32 = m[3 * 4 + 2];\n  var m33 = m[3 * 4 + 3];\n  var tmp_0 = m22 * m33;\n  var tmp_1 = m32 * m23;\n  var tmp_2 = m12 * m33;\n  var tmp_3 = m32 * m13;\n  var tmp_4 = m12 * m23;\n  var tmp_5 = m22 * m13;\n  var tmp_6 = m02 * m33;\n  var tmp_7 = m32 * m03;\n  var tmp_8 = m02 * m23;\n  var tmp_9 = m22 * m03;\n  var tmp_10 = m02 * m13;\n  var tmp_11 = m12 * m03;\n  var tmp_12 = m20 * m31;\n  var tmp_13 = m30 * m21;\n  var tmp_14 = m10 * m31;\n  var tmp_15 = m30 * m11;\n  var tmp_16 = m10 * m21;\n  var tmp_17 = m20 * m11;\n  var tmp_18 = m00 * m31;\n  var tmp_19 = m30 * m01;\n  var tmp_20 = m00 * m21;\n  var tmp_21 = m20 * m01;\n  var tmp_22 = m00 * m11;\n  var tmp_23 = m10 * m01;\n  var t0 = tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31 - (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\n  var t1 = tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31 - (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\n  var t2 = tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31 - (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\n  var t3 = tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21 - (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\n  var d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\n  dst[0] = d * t0;\n  dst[1] = d * t1;\n  dst[2] = d * t2;\n  dst[3] = d * t3;\n  dst[4] = d * (tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30 - (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\n  dst[5] = d * (tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30 - (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\n  dst[6] = d * (tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30 - (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\n  dst[7] = d * (tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20 - (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\n  dst[8] = d * (tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33 - (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\n  dst[9] = d * (tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33 - (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\n  dst[10] = d * (tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33 - (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\n  dst[11] = d * (tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23 - (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\n  dst[12] = d * (tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12 - (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\n  dst[13] = d * (tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22 - (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\n  dst[14] = d * (tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02 - (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\n  dst[15] = d * (tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12 - (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\n  return dst;\n}\n/**\n * Multiplies two 4-by-4 matrices with a on the left and b on the right\n * @param {module:twgl/m4.Mat4} a The matrix on the left.\n * @param {module:twgl/m4.Mat4} b The matrix on the right.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The matrix product of a and b.\n * @memberOf module:twgl/m4\n */\n\n\nfunction multiply(a, b, dst) {\n  dst = dst || new MatType(16);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4 + 0];\n  var a11 = a[4 + 1];\n  var a12 = a[4 + 2];\n  var a13 = a[4 + 3];\n  var a20 = a[8 + 0];\n  var a21 = a[8 + 1];\n  var a22 = a[8 + 2];\n  var a23 = a[8 + 3];\n  var a30 = a[12 + 0];\n  var a31 = a[12 + 1];\n  var a32 = a[12 + 2];\n  var a33 = a[12 + 3];\n  var b00 = b[0];\n  var b01 = b[1];\n  var b02 = b[2];\n  var b03 = b[3];\n  var b10 = b[4 + 0];\n  var b11 = b[4 + 1];\n  var b12 = b[4 + 2];\n  var b13 = b[4 + 3];\n  var b20 = b[8 + 0];\n  var b21 = b[8 + 1];\n  var b22 = b[8 + 2];\n  var b23 = b[8 + 3];\n  var b30 = b[12 + 0];\n  var b31 = b[12 + 1];\n  var b32 = b[12 + 2];\n  var b33 = b[12 + 3];\n  dst[0] = a00 * b00 + a10 * b01 + a20 * b02 + a30 * b03;\n  dst[1] = a01 * b00 + a11 * b01 + a21 * b02 + a31 * b03;\n  dst[2] = a02 * b00 + a12 * b01 + a22 * b02 + a32 * b03;\n  dst[3] = a03 * b00 + a13 * b01 + a23 * b02 + a33 * b03;\n  dst[4] = a00 * b10 + a10 * b11 + a20 * b12 + a30 * b13;\n  dst[5] = a01 * b10 + a11 * b11 + a21 * b12 + a31 * b13;\n  dst[6] = a02 * b10 + a12 * b11 + a22 * b12 + a32 * b13;\n  dst[7] = a03 * b10 + a13 * b11 + a23 * b12 + a33 * b13;\n  dst[8] = a00 * b20 + a10 * b21 + a20 * b22 + a30 * b23;\n  dst[9] = a01 * b20 + a11 * b21 + a21 * b22 + a31 * b23;\n  dst[10] = a02 * b20 + a12 * b21 + a22 * b22 + a32 * b23;\n  dst[11] = a03 * b20 + a13 * b21 + a23 * b22 + a33 * b23;\n  dst[12] = a00 * b30 + a10 * b31 + a20 * b32 + a30 * b33;\n  dst[13] = a01 * b30 + a11 * b31 + a21 * b32 + a31 * b33;\n  dst[14] = a02 * b30 + a12 * b31 + a22 * b32 + a32 * b33;\n  dst[15] = a03 * b30 + a13 * b31 + a23 * b32 + a33 * b33;\n  return dst;\n}\n/**\n * Sets the translation component of a 4-by-4 matrix to the given\n * vector.\n * @param {module:twgl/m4.Mat4} a The matrix.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none, a new one is created.\n * @return {module:twgl/m4.Mat4} a once modified.\n * @memberOf module:twgl/m4\n */\n\n\nfunction setTranslation(a, v, dst) {\n  dst = dst || identity();\n\n  if (a !== dst) {\n    dst[0] = a[0];\n    dst[1] = a[1];\n    dst[2] = a[2];\n    dst[3] = a[3];\n    dst[4] = a[4];\n    dst[5] = a[5];\n    dst[6] = a[6];\n    dst[7] = a[7];\n    dst[8] = a[8];\n    dst[9] = a[9];\n    dst[10] = a[10];\n    dst[11] = a[11];\n  }\n\n  dst[12] = v[0];\n  dst[13] = v[1];\n  dst[14] = v[2];\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Returns the translation component of a 4-by-4 matrix as a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} [dst] vector.\n * @return {module:twgl/v3.Vec3} The translation component of m.\n * @memberOf module:twgl/m4\n */\n\n\nfunction getTranslation(m, dst) {\n  dst = dst || v3.create();\n  dst[0] = m[12];\n  dst[1] = m[13];\n  dst[2] = m[14];\n  return dst;\n}\n/**\n * Returns an axis of a 4x4 matrix as a vector with 3 entries\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} axis The axis 0 = x, 1 = y, 2 = z;\n * @return {module:twgl/v3.Vec3} [dst] vector.\n * @return {module:twgl/v3.Vec3} The axis component of m.\n * @memberOf module:twgl/m4\n */\n\n\nfunction getAxis(m, axis, dst) {\n  dst = dst || v3.create();\n  var off = axis * 4;\n  dst[0] = m[off + 0];\n  dst[1] = m[off + 1];\n  dst[2] = m[off + 2];\n  return dst;\n}\n/**\n * Sets an axis of a 4x4 matrix as a vector with 3 entries\n * @param {module:twgl/v3.Vec3} v the axis vector\n * @param {number} axis The axis  0 = x, 1 = y, 2 = z;\n * @param {module:twgl/m4.Mat4} [dst] The matrix to set. If none, a new one is created.\n * @return {module:twgl/m4.Mat4} dst\n * @memberOf module:twgl/m4\n */\n\n\nfunction setAxis(a, v, axis, dst) {\n  if (dst !== a) {\n    dst = copy(a, dst);\n  }\n\n  var off = axis * 4;\n  dst[off + 0] = v[0];\n  dst[off + 1] = v[1];\n  dst[off + 2] = v[2];\n  return dst;\n}\n/**\n * Computes a 4-by-4 perspective transformation matrix given the angular height\n * of the frustum, the aspect ratio, and the near and far clipping planes.  The\n * arguments define a frustum extending in the negative z direction.  The given\n * angle is the vertical angle of the frustum, and the horizontal angle is\n * determined to produce the given aspect ratio.  The arguments near and far are\n * the distances to the near and far clipping planes.  Note that near and far\n * are not z coordinates, but rather they are distances along the negative\n * z-axis.  The matrix generated sends the viewing frustum to the unit box.\n * We assume a unit box extending from -1 to 1 in the x and y dimensions and\n * from 0 to 1 in the z dimension.\n * @param {number} fieldOfViewYInRadians The camera angle from top to bottom (in radians).\n * @param {number} aspect The aspect ratio width / height.\n * @param {number} zNear The depth (negative z coordinate)\n *     of the near clipping plane.\n * @param {number} zFar The depth (negative z coordinate)\n *     of the far clipping plane.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The perspective matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction perspective(fieldOfViewYInRadians, aspect, zNear, zFar, dst) {\n  dst = dst || new MatType(16);\n  var f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewYInRadians);\n  var rangeInv = 1.0 / (zNear - zFar);\n  dst[0] = f / aspect;\n  dst[1] = 0;\n  dst[2] = 0;\n  dst[3] = 0;\n  dst[4] = 0;\n  dst[5] = f;\n  dst[6] = 0;\n  dst[7] = 0;\n  dst[8] = 0;\n  dst[9] = 0;\n  dst[10] = (zNear + zFar) * rangeInv;\n  dst[11] = -1;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = zNear * zFar * rangeInv * 2;\n  dst[15] = 0;\n  return dst;\n}\n/**\n * Computes a 4-by-4 othogonal transformation matrix given the left, right,\n * bottom, and top dimensions of the near clipping plane as well as the\n * near and far clipping plane distances.\n * @param {number} left Left side of the near clipping plane viewport.\n * @param {number} right Right side of the near clipping plane viewport.\n * @param {number} bottom Bottom of the near clipping plane viewport.\n * @param {number} top Top of the near clipping plane viewport.\n * @param {number} near The depth (negative z coordinate)\n *     of the near clipping plane.\n * @param {number} far The depth (negative z coordinate)\n *     of the far clipping plane.\n * @param {module:twgl/m4.Mat4} [dst] Output matrix.\n * @return {module:twgl/m4.Mat4} The perspective matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction ortho(left, right, bottom, top, near, far, dst) {\n  dst = dst || new MatType(16);\n  dst[0] = 2 / (right - left);\n  dst[1] = 0;\n  dst[2] = 0;\n  dst[3] = 0;\n  dst[4] = 0;\n  dst[5] = 2 / (top - bottom);\n  dst[6] = 0;\n  dst[7] = 0;\n  dst[8] = 0;\n  dst[9] = 0;\n  dst[10] = 2 / (near - far);\n  dst[11] = 0;\n  dst[12] = (right + left) / (left - right);\n  dst[13] = (top + bottom) / (bottom - top);\n  dst[14] = (far + near) / (near - far);\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Computes a 4-by-4 perspective transformation matrix given the left, right,\n * top, bottom, near and far clipping planes. The arguments define a frustum\n * extending in the negative z direction. The arguments near and far are the\n * distances to the near and far clipping planes. Note that near and far are not\n * z coordinates, but rather they are distances along the negative z-axis. The\n * matrix generated sends the viewing frustum to the unit box. We assume a unit\n * box extending from -1 to 1 in the x and y dimensions and from 0 to 1 in the z\n * dimension.\n * @param {number} left The x coordinate of the left plane of the box.\n * @param {number} right The x coordinate of the right plane of the box.\n * @param {number} bottom The y coordinate of the bottom plane of the box.\n * @param {number} top The y coordinate of the right plane of the box.\n * @param {number} near The negative z coordinate of the near plane of the box.\n * @param {number} far The negative z coordinate of the far plane of the box.\n * @param {module:twgl/m4.Mat4} [dst] Output matrix.\n * @return {module:twgl/m4.Mat4} The perspective projection matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction frustum(left, right, bottom, top, near, far, dst) {\n  dst = dst || new MatType(16);\n  var dx = right - left;\n  var dy = top - bottom;\n  var dz = near - far;\n  dst[0] = 2 * near / dx;\n  dst[1] = 0;\n  dst[2] = 0;\n  dst[3] = 0;\n  dst[4] = 0;\n  dst[5] = 2 * near / dy;\n  dst[6] = 0;\n  dst[7] = 0;\n  dst[8] = (left + right) / dx;\n  dst[9] = (top + bottom) / dy;\n  dst[10] = far / dz;\n  dst[11] = -1;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = near * far / dz;\n  dst[15] = 0;\n  return dst;\n}\n/**\n * Computes a 4-by-4 look-at transformation.\n *\n * This is a matrix which positions the camera itself. If you want\n * a view matrix (a matrix which moves things in front of the camera)\n * take the inverse of this.\n *\n * @param {module:twgl/v3.Vec3} eye The position of the eye.\n * @param {module:twgl/v3.Vec3} target The position meant to be viewed.\n * @param {module:twgl/v3.Vec3} up A vector pointing up.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The look-at matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction lookAt(eye, target, up, dst) {\n  dst = dst || new MatType(16);\n  var xAxis = tempV3a;\n  var yAxis = tempV3b;\n  var zAxis = tempV3c;\n  v3.normalize(v3.subtract(eye, target, zAxis), zAxis);\n  v3.normalize(v3.cross(up, zAxis, xAxis), xAxis);\n  v3.normalize(v3.cross(zAxis, xAxis, yAxis), yAxis);\n  dst[0] = xAxis[0];\n  dst[1] = xAxis[1];\n  dst[2] = xAxis[2];\n  dst[3] = 0;\n  dst[4] = yAxis[0];\n  dst[5] = yAxis[1];\n  dst[6] = yAxis[2];\n  dst[7] = 0;\n  dst[8] = zAxis[0];\n  dst[9] = zAxis[1];\n  dst[10] = zAxis[2];\n  dst[11] = 0;\n  dst[12] = eye[0];\n  dst[13] = eye[1];\n  dst[14] = eye[2];\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Creates a 4-by-4 matrix which translates by the given vector v.\n * @param {module:twgl/v3.Vec3} v The vector by\n *     which to translate.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The translation matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction translation(v, dst) {\n  dst = dst || new MatType(16);\n  dst[0] = 1;\n  dst[1] = 0;\n  dst[2] = 0;\n  dst[3] = 0;\n  dst[4] = 0;\n  dst[5] = 1;\n  dst[6] = 0;\n  dst[7] = 0;\n  dst[8] = 0;\n  dst[9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = v[0];\n  dst[13] = v[1];\n  dst[14] = v[2];\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Modifies the given 4-by-4 matrix by translation by the given vector v.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The vector by\n *     which to translate.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} m once modified.\n * @memberOf module:twgl/m4\n */\n\n\nfunction translate(m, v, dst) {\n  dst = dst || new MatType(16);\n  var v0 = v[0];\n  var v1 = v[1];\n  var v2 = v[2];\n  var m00 = m[0];\n  var m01 = m[1];\n  var m02 = m[2];\n  var m03 = m[3];\n  var m10 = m[1 * 4 + 0];\n  var m11 = m[1 * 4 + 1];\n  var m12 = m[1 * 4 + 2];\n  var m13 = m[1 * 4 + 3];\n  var m20 = m[2 * 4 + 0];\n  var m21 = m[2 * 4 + 1];\n  var m22 = m[2 * 4 + 2];\n  var m23 = m[2 * 4 + 3];\n  var m30 = m[3 * 4 + 0];\n  var m31 = m[3 * 4 + 1];\n  var m32 = m[3 * 4 + 2];\n  var m33 = m[3 * 4 + 3];\n\n  if (m !== dst) {\n    dst[0] = m00;\n    dst[1] = m01;\n    dst[2] = m02;\n    dst[3] = m03;\n    dst[4] = m10;\n    dst[5] = m11;\n    dst[6] = m12;\n    dst[7] = m13;\n    dst[8] = m20;\n    dst[9] = m21;\n    dst[10] = m22;\n    dst[11] = m23;\n  }\n\n  dst[12] = m00 * v0 + m10 * v1 + m20 * v2 + m30;\n  dst[13] = m01 * v0 + m11 * v1 + m21 * v2 + m31;\n  dst[14] = m02 * v0 + m12 * v1 + m22 * v2 + m32;\n  dst[15] = m03 * v0 + m13 * v1 + m23 * v2 + m33;\n  return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the x-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction rotationX(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n  var c = Math.cos(angleInRadians);\n  var s = Math.sin(angleInRadians);\n  dst[0] = 1;\n  dst[1] = 0;\n  dst[2] = 0;\n  dst[3] = 0;\n  dst[4] = 0;\n  dst[5] = c;\n  dst[6] = s;\n  dst[7] = 0;\n  dst[8] = 0;\n  dst[9] = -s;\n  dst[10] = c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Modifies the given 4-by-4 matrix by a rotation around the x-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} m once modified.\n * @memberOf module:twgl/m4\n */\n\n\nfunction rotateX(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n  var m10 = m[4];\n  var m11 = m[5];\n  var m12 = m[6];\n  var m13 = m[7];\n  var m20 = m[8];\n  var m21 = m[9];\n  var m22 = m[10];\n  var m23 = m[11];\n  var c = Math.cos(angleInRadians);\n  var s = Math.sin(angleInRadians);\n  dst[4] = c * m10 + s * m20;\n  dst[5] = c * m11 + s * m21;\n  dst[6] = c * m12 + s * m22;\n  dst[7] = c * m13 + s * m23;\n  dst[8] = c * m20 - s * m10;\n  dst[9] = c * m21 - s * m11;\n  dst[10] = c * m22 - s * m12;\n  dst[11] = c * m23 - s * m13;\n\n  if (m !== dst) {\n    dst[0] = m[0];\n    dst[1] = m[1];\n    dst[2] = m[2];\n    dst[3] = m[3];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the y-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction rotationY(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n  var c = Math.cos(angleInRadians);\n  var s = Math.sin(angleInRadians);\n  dst[0] = c;\n  dst[1] = 0;\n  dst[2] = -s;\n  dst[3] = 0;\n  dst[4] = 0;\n  dst[5] = 1;\n  dst[6] = 0;\n  dst[7] = 0;\n  dst[8] = s;\n  dst[9] = 0;\n  dst[10] = c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Modifies the given 4-by-4 matrix by a rotation around the y-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} m once modified.\n * @memberOf module:twgl/m4\n */\n\n\nfunction rotateY(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n  var m00 = m[0 * 4 + 0];\n  var m01 = m[0 * 4 + 1];\n  var m02 = m[0 * 4 + 2];\n  var m03 = m[0 * 4 + 3];\n  var m20 = m[2 * 4 + 0];\n  var m21 = m[2 * 4 + 1];\n  var m22 = m[2 * 4 + 2];\n  var m23 = m[2 * 4 + 3];\n  var c = Math.cos(angleInRadians);\n  var s = Math.sin(angleInRadians);\n  dst[0] = c * m00 - s * m20;\n  dst[1] = c * m01 - s * m21;\n  dst[2] = c * m02 - s * m22;\n  dst[3] = c * m03 - s * m23;\n  dst[8] = c * m20 + s * m00;\n  dst[9] = c * m21 + s * m01;\n  dst[10] = c * m22 + s * m02;\n  dst[11] = c * m23 + s * m03;\n\n  if (m !== dst) {\n    dst[4] = m[4];\n    dst[5] = m[5];\n    dst[6] = m[6];\n    dst[7] = m[7];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the z-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction rotationZ(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n  var c = Math.cos(angleInRadians);\n  var s = Math.sin(angleInRadians);\n  dst[0] = c;\n  dst[1] = s;\n  dst[2] = 0;\n  dst[3] = 0;\n  dst[4] = -s;\n  dst[5] = c;\n  dst[6] = 0;\n  dst[7] = 0;\n  dst[8] = 0;\n  dst[9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Modifies the given 4-by-4 matrix by a rotation around the z-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} m once modified.\n * @memberOf module:twgl/m4\n */\n\n\nfunction rotateZ(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n  var m00 = m[0 * 4 + 0];\n  var m01 = m[0 * 4 + 1];\n  var m02 = m[0 * 4 + 2];\n  var m03 = m[0 * 4 + 3];\n  var m10 = m[1 * 4 + 0];\n  var m11 = m[1 * 4 + 1];\n  var m12 = m[1 * 4 + 2];\n  var m13 = m[1 * 4 + 3];\n  var c = Math.cos(angleInRadians);\n  var s = Math.sin(angleInRadians);\n  dst[0] = c * m00 + s * m10;\n  dst[1] = c * m01 + s * m11;\n  dst[2] = c * m02 + s * m12;\n  dst[3] = c * m03 + s * m13;\n  dst[4] = c * m10 - s * m00;\n  dst[5] = c * m11 - s * m01;\n  dst[6] = c * m12 - s * m02;\n  dst[7] = c * m13 - s * m03;\n\n  if (m !== dst) {\n    dst[8] = m[8];\n    dst[9] = m[9];\n    dst[10] = m[10];\n    dst[11] = m[11];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the given axis by the given\n * angle.\n * @param {module:twgl/v3.Vec3} axis The axis\n *     about which to rotate.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} A matrix which rotates angle radians\n *     around the axis.\n * @memberOf module:twgl/m4\n */\n\n\nfunction axisRotation(axis, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n  var x = axis[0];\n  var y = axis[1];\n  var z = axis[2];\n  var n = Math.sqrt(x * x + y * y + z * z);\n  x /= n;\n  y /= n;\n  z /= n;\n  var xx = x * x;\n  var yy = y * y;\n  var zz = z * z;\n  var c = Math.cos(angleInRadians);\n  var s = Math.sin(angleInRadians);\n  var oneMinusCosine = 1 - c;\n  dst[0] = xx + (1 - xx) * c;\n  dst[1] = x * y * oneMinusCosine + z * s;\n  dst[2] = x * z * oneMinusCosine - y * s;\n  dst[3] = 0;\n  dst[4] = x * y * oneMinusCosine - z * s;\n  dst[5] = yy + (1 - yy) * c;\n  dst[6] = y * z * oneMinusCosine + x * s;\n  dst[7] = 0;\n  dst[8] = x * z * oneMinusCosine + y * s;\n  dst[9] = y * z * oneMinusCosine - x * s;\n  dst[10] = zz + (1 - zz) * c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Modifies the given 4-by-4 matrix by rotation around the given axis by the\n * given angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} axis The axis\n *     about which to rotate.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} m once modified.\n * @memberOf module:twgl/m4\n */\n\n\nfunction axisRotate(m, axis, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n  var x = axis[0];\n  var y = axis[1];\n  var z = axis[2];\n  var n = Math.sqrt(x * x + y * y + z * z);\n  x /= n;\n  y /= n;\n  z /= n;\n  var xx = x * x;\n  var yy = y * y;\n  var zz = z * z;\n  var c = Math.cos(angleInRadians);\n  var s = Math.sin(angleInRadians);\n  var oneMinusCosine = 1 - c;\n  var r00 = xx + (1 - xx) * c;\n  var r01 = x * y * oneMinusCosine + z * s;\n  var r02 = x * z * oneMinusCosine - y * s;\n  var r10 = x * y * oneMinusCosine - z * s;\n  var r11 = yy + (1 - yy) * c;\n  var r12 = y * z * oneMinusCosine + x * s;\n  var r20 = x * z * oneMinusCosine + y * s;\n  var r21 = y * z * oneMinusCosine - x * s;\n  var r22 = zz + (1 - zz) * c;\n  var m00 = m[0];\n  var m01 = m[1];\n  var m02 = m[2];\n  var m03 = m[3];\n  var m10 = m[4];\n  var m11 = m[5];\n  var m12 = m[6];\n  var m13 = m[7];\n  var m20 = m[8];\n  var m21 = m[9];\n  var m22 = m[10];\n  var m23 = m[11];\n  dst[0] = r00 * m00 + r01 * m10 + r02 * m20;\n  dst[1] = r00 * m01 + r01 * m11 + r02 * m21;\n  dst[2] = r00 * m02 + r01 * m12 + r02 * m22;\n  dst[3] = r00 * m03 + r01 * m13 + r02 * m23;\n  dst[4] = r10 * m00 + r11 * m10 + r12 * m20;\n  dst[5] = r10 * m01 + r11 * m11 + r12 * m21;\n  dst[6] = r10 * m02 + r11 * m12 + r12 * m22;\n  dst[7] = r10 * m03 + r11 * m13 + r12 * m23;\n  dst[8] = r20 * m00 + r21 * m10 + r22 * m20;\n  dst[9] = r20 * m01 + r21 * m11 + r22 * m21;\n  dst[10] = r20 * m02 + r21 * m12 + r22 * m22;\n  dst[11] = r20 * m03 + r21 * m13 + r22 * m23;\n\n  if (m !== dst) {\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n/**\n * Creates a 4-by-4 matrix which scales in each dimension by an amount given by\n * the corresponding entry in the given vector; assumes the vector has three\n * entries.\n * @param {module:twgl/v3.Vec3} v A vector of\n *     three entries specifying the factor by which to scale in each dimension.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} The scaling matrix.\n * @memberOf module:twgl/m4\n */\n\n\nfunction scaling(v, dst) {\n  dst = dst || new MatType(16);\n  dst[0] = v[0];\n  dst[1] = 0;\n  dst[2] = 0;\n  dst[3] = 0;\n  dst[4] = 0;\n  dst[5] = v[1];\n  dst[6] = 0;\n  dst[7] = 0;\n  dst[8] = 0;\n  dst[9] = 0;\n  dst[10] = v[2];\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n  return dst;\n}\n/**\n * Modifies the given 4-by-4 matrix, scaling in each dimension by an amount\n * given by the corresponding entry in the given vector; assumes the vector has\n * three entries.\n * @param {module:twgl/m4.Mat4} m The matrix to be modified.\n * @param {module:twgl/v3.Vec3} v A vector of three entries specifying the\n *     factor by which to scale in each dimension.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If none new one is created..\n * @return {module:twgl/m4.Mat4} m once modified.\n * @memberOf module:twgl/m4\n */\n\n\nfunction scale(m, v, dst) {\n  dst = dst || new MatType(16);\n  var v0 = v[0];\n  var v1 = v[1];\n  var v2 = v[2];\n  dst[0] = v0 * m[0 * 4 + 0];\n  dst[1] = v0 * m[0 * 4 + 1];\n  dst[2] = v0 * m[0 * 4 + 2];\n  dst[3] = v0 * m[0 * 4 + 3];\n  dst[4] = v1 * m[1 * 4 + 0];\n  dst[5] = v1 * m[1 * 4 + 1];\n  dst[6] = v1 * m[1 * 4 + 2];\n  dst[7] = v1 * m[1 * 4 + 3];\n  dst[8] = v2 * m[2 * 4 + 0];\n  dst[9] = v2 * m[2 * 4 + 1];\n  dst[10] = v2 * m[2 * 4 + 2];\n  dst[11] = v2 * m[2 * 4 + 3];\n\n  if (m !== dst) {\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n/**\n * Takes a 4-by-4 matrix and a vector with 3 entries,\n * interprets the vector as a point, transforms that point by the matrix, and\n * returns the result as a vector with 3 entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The point.\n * @param {module:twgl/v3.Vec3} [dst] optional vec3 to store result\n * @return {module:twgl/v3.Vec3} dst or new vec3 if not provided\n * @memberOf module:twgl/m4\n */\n\n\nfunction transformPoint(m, v, dst) {\n  dst = dst || v3.create();\n  var v0 = v[0];\n  var v1 = v[1];\n  var v2 = v[2];\n  var d = v0 * m[0 * 4 + 3] + v1 * m[1 * 4 + 3] + v2 * m[2 * 4 + 3] + m[3 * 4 + 3];\n  dst[0] = (v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0] + m[3 * 4 + 0]) / d;\n  dst[1] = (v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1] + m[3 * 4 + 1]) / d;\n  dst[2] = (v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2] + m[3 * 4 + 2]) / d;\n  return dst;\n}\n/**\n * Takes a 4-by-4 matrix and a vector with 3 entries, interprets the vector as a\n * direction, transforms that direction by the matrix, and returns the result;\n * assumes the transformation of 3-dimensional space represented by the matrix\n * is parallel-preserving, i.e. any combination of rotation, scaling and\n * translation, but not a perspective distortion. Returns a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The direction.\n * @param {module:twgl/v3.Vec3} [dst] optional Vec3 to store result\n * @return {module:twgl/v3.Vec3} dst or new Vec3 if not provided\n * @memberOf module:twgl/m4\n */\n\n\nfunction transformDirection(m, v, dst) {\n  dst = dst || v3.create();\n  var v0 = v[0];\n  var v1 = v[1];\n  var v2 = v[2];\n  dst[0] = v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0];\n  dst[1] = v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1];\n  dst[2] = v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2];\n  return dst;\n}\n/**\n * Takes a 4-by-4 matrix m and a vector v with 3 entries, interprets the vector\n * as a normal to a surface, and computes a vector which is normal upon\n * transforming that surface by the matrix. The effect of this function is the\n * same as transforming v (as a direction) by the inverse-transpose of m.  This\n * function assumes the transformation of 3-dimensional space represented by the\n * matrix is parallel-preserving, i.e. any combination of rotation, scaling and\n * translation, but not a perspective distortion.  Returns a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The normal.\n * @param {module:twgl/v3.Vec3} [dst] The direction.\n * @return {module:twgl/v3.Vec3} The transformed direction.\n * @memberOf module:twgl/m4\n */\n\n\nfunction transformNormal(m, v, dst) {\n  dst = dst || v3.create();\n  var mi = inverse(m);\n  var v0 = v[0];\n  var v1 = v[1];\n  var v2 = v[2];\n  dst[0] = v0 * mi[0 * 4 + 0] + v1 * mi[0 * 4 + 1] + v2 * mi[0 * 4 + 2];\n  dst[1] = v0 * mi[1 * 4 + 0] + v1 * mi[1 * 4 + 1] + v2 * mi[1 * 4 + 2];\n  dst[2] = v0 * mi[2 * 4 + 0] + v1 * mi[2 * 4 + 1] + v2 * mi[2 * 4 + 2];\n  return dst;\n}\n\n/***/ }),\n\n/***/ \"./src/primitives.js\":\n/*!***************************!*\\\n  !*** ./src/primitives.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.create3DFVertices = create3DFVertices;\nexports.createAugmentedTypedArray = createAugmentedTypedArray;\nexports.createCubeVertices = createCubeVertices;\nexports.createPlaneVertices = createPlaneVertices;\nexports.createSphereVertices = createSphereVertices;\nexports.createTruncatedConeVertices = createTruncatedConeVertices;\nexports.createXYQuadVertices = createXYQuadVertices;\nexports.createCresentVertices = createCresentVertices;\nexports.createCylinderVertices = createCylinderVertices;\nexports.createTorusVertices = createTorusVertices;\nexports.createDiscVertices = createDiscVertices;\nexports.deindexVertices = deindexVertices;\nexports.flattenNormals = flattenNormals;\nexports.makeRandomVertexColors = makeRandomVertexColors;\nexports.reorientDirections = reorientDirections;\nexports.reorientNormals = reorientNormals;\nexports.reorientPositions = reorientPositions;\nexports.reorientVertices = reorientVertices;\nexports.concatVertices = concatVertices;\nexports.duplicateVertices = duplicateVertices;\nexports.createDiscBuffers = exports.createDiscBufferInfo = exports.createTorusBuffers = exports.createTorusBufferInfo = exports.createCylinderBuffers = exports.createCylinderBufferInfo = exports.createCresentBuffers = exports.createCresentBufferInfo = exports.createXYQuadBuffers = exports.createXYQuadBufferInfo = exports.createTruncatedConeBuffers = exports.createTruncatedConeBufferInfo = exports.createSphereBuffers = exports.createSphereBufferInfo = exports.createPlaneBuffers = exports.createPlaneBufferInfo = exports.createCubeBuffers = exports.createCubeBufferInfo = exports.create3DFBuffers = exports.create3DFBufferInfo = void 0;\n\nvar attributes = _interopRequireWildcard(__webpack_require__(/*! ./attributes.js */ \"./src/attributes.js\"));\n\nvar helper = _interopRequireWildcard(__webpack_require__(/*! ./helper.js */ \"./src/helper.js\"));\n\nvar typedArrays = _interopRequireWildcard(__webpack_require__(/*! ./typedarrays.js */ \"./src/typedarrays.js\"));\n\nvar m4 = _interopRequireWildcard(__webpack_require__(/*! ./m4.js */ \"./src/m4.js\"));\n\nvar v3 = _interopRequireWildcard(__webpack_require__(/*! ./v3.js */ \"./src/v3.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Various functions to make simple primitives\n *\n * note: Most primitive functions come in 3 styles\n *\n * *  `createSomeShapeBufferInfo`\n *\n *    These functions are almost always the functions you want to call. They\n *    create vertices then make WebGLBuffers and create {@link module:twgl.AttribInfo}s\n *    returing a {@link module:twgl.BufferInfo} you can pass to {@link module:twgl.setBuffersAndAttributes}\n *    and {@link module:twgl.drawBufferInfo} etc...\n *\n * *  `createSomeShapeBuffers`\n *\n *    These create WebGLBuffers and put your data in them but nothing else.\n *    It's a shortcut to doing it yourself if you don't want to use\n *    the higher level functions.\n *\n * *  `createSomeShapeVertices`\n *\n *    These just create vertices, no buffers. This allows you to manipulate the vertices\n *    or add more data before generating a {@link module:twgl.BufferInfo}. Once you're finished\n *    manipulating the vertices call {@link module:twgl.createBufferInfoFromArrays}.\n *\n *    example:\n *\n *        const arrays = twgl.primitives.createPlaneArrays(1);\n *        twgl.primitives.reorientVertices(arrays, m4.rotationX(Math.PI * 0.5));\n *        const bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);\n *\n * @module twgl/primitives\n */\nvar getArray = attributes.getArray_; // eslint-disable-line\n\nvar getNumComponents = attributes.getNumComponents_; // eslint-disable-line\n\n/**\n * @typedef {(Int8Array|Uint8Array|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array)} TypedArray\n */\n\n/**\n * Add `push` to a typed array. It just keeps a 'cursor'\n * and allows use to `push` values into the array so we\n * don't have to manually compute offsets\n * @param {TypedArray} typedArray TypedArray to augment\n * @param {number} numComponents number of components.\n * @private\n */\n\nfunction augmentTypedArray(typedArray, numComponents) {\n  var cursor = 0;\n\n  typedArray.push = function () {\n    for (var ii = 0; ii < arguments.length; ++ii) {\n      var value = arguments[ii];\n\n      if (value instanceof Array || typedArrays.isArrayBuffer(value)) {\n        for (var jj = 0; jj < value.length; ++jj) {\n          typedArray[cursor++] = value[jj];\n        }\n      } else {\n        typedArray[cursor++] = value;\n      }\n    }\n  };\n\n  typedArray.reset = function (opt_index) {\n    cursor = opt_index || 0;\n  };\n\n  typedArray.numComponents = numComponents;\n  Object.defineProperty(typedArray, 'numElements', {\n    get: function get() {\n      return this.length / this.numComponents | 0;\n    }\n  });\n  return typedArray;\n}\n/**\n * creates a typed array with a `push` function attached\n * so that you can easily *push* values.\n *\n * `push` can take multiple arguments. If an argument is an array each element\n * of the array will be added to the typed array.\n *\n * Example:\n *\n *     const array = createAugmentedTypedArray(3, 2);  // creates a Float32Array with 6 values\n *     array.push(1, 2, 3);\n *     array.push([4, 5, 6]);\n *     // array now contains [1, 2, 3, 4, 5, 6]\n *\n * Also has `numComponents` and `numElements` properties.\n *\n * @param {number} numComponents number of components\n * @param {number} numElements number of elements. The total size of the array will be `numComponents * numElements`.\n * @param {constructor} opt_type A constructor for the type. Default = `Float32Array`.\n * @return {ArrayBufferView} A typed array.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createAugmentedTypedArray(numComponents, numElements, opt_type) {\n  var Type = opt_type || Float32Array;\n  return augmentTypedArray(new Type(numComponents * numElements), numComponents);\n}\n\nfunction allButIndices(name) {\n  return name !== \"indices\";\n}\n/**\n * Given indexed vertices creates a new set of vertices unindexed by expanding the indexed vertices.\n * @param {Object.<string, TypedArray>} vertices The indexed vertices to deindex\n * @return {Object.<string, TypedArray>} The deindexed vertices\n * @memberOf module:twgl/primitives\n */\n\n\nfunction deindexVertices(vertices) {\n  var indices = vertices.indices;\n  var newVertices = {};\n  var numElements = indices.length;\n\n  function expandToUnindexed(channel) {\n    var srcBuffer = vertices[channel];\n    var numComponents = srcBuffer.numComponents;\n    var dstBuffer = createAugmentedTypedArray(numComponents, numElements, srcBuffer.constructor);\n\n    for (var ii = 0; ii < numElements; ++ii) {\n      var ndx = indices[ii];\n      var offset = ndx * numComponents;\n\n      for (var jj = 0; jj < numComponents; ++jj) {\n        dstBuffer.push(srcBuffer[offset + jj]);\n      }\n    }\n\n    newVertices[channel] = dstBuffer;\n  }\n\n  Object.keys(vertices).filter(allButIndices).forEach(expandToUnindexed);\n  return newVertices;\n}\n/**\n * flattens the normals of deindexed vertices in place.\n * @param {Object.<string, TypedArray>} vertices The deindexed vertices who's normals to flatten\n * @return {Object.<string, TypedArray>} The flattened vertices (same as was passed in)\n * @memberOf module:twgl/primitives\n */\n\n\nfunction flattenNormals(vertices) {\n  if (vertices.indices) {\n    throw new Error('can not flatten normals of indexed vertices. deindex them first');\n  }\n\n  var normals = vertices.normal;\n  var numNormals = normals.length;\n\n  for (var ii = 0; ii < numNormals; ii += 9) {\n    // pull out the 3 normals for this triangle\n    var nax = normals[ii + 0];\n    var nay = normals[ii + 1];\n    var naz = normals[ii + 2];\n    var nbx = normals[ii + 3];\n    var nby = normals[ii + 4];\n    var nbz = normals[ii + 5];\n    var ncx = normals[ii + 6];\n    var ncy = normals[ii + 7];\n    var ncz = normals[ii + 8]; // add them\n\n    var nx = nax + nbx + ncx;\n    var ny = nay + nby + ncy;\n    var nz = naz + nbz + ncz; // normalize them\n\n    var length = Math.sqrt(nx * nx + ny * ny + nz * nz);\n    nx /= length;\n    ny /= length;\n    nz /= length; // copy them back in\n\n    normals[ii + 0] = nx;\n    normals[ii + 1] = ny;\n    normals[ii + 2] = nz;\n    normals[ii + 3] = nx;\n    normals[ii + 4] = ny;\n    normals[ii + 5] = nz;\n    normals[ii + 6] = nx;\n    normals[ii + 7] = ny;\n    normals[ii + 8] = nz;\n  }\n\n  return vertices;\n}\n\nfunction applyFuncToV3Array(array, matrix, fn) {\n  var len = array.length;\n  var tmp = new Float32Array(3);\n\n  for (var ii = 0; ii < len; ii += 3) {\n    fn(matrix, [array[ii], array[ii + 1], array[ii + 2]], tmp);\n    array[ii] = tmp[0];\n    array[ii + 1] = tmp[1];\n    array[ii + 2] = tmp[2];\n  }\n}\n\nfunction transformNormal(mi, v, dst) {\n  dst = dst || v3.create();\n  var v0 = v[0];\n  var v1 = v[1];\n  var v2 = v[2];\n  dst[0] = v0 * mi[0 * 4 + 0] + v1 * mi[0 * 4 + 1] + v2 * mi[0 * 4 + 2];\n  dst[1] = v0 * mi[1 * 4 + 0] + v1 * mi[1 * 4 + 1] + v2 * mi[1 * 4 + 2];\n  dst[2] = v0 * mi[2 * 4 + 0] + v1 * mi[2 * 4 + 1] + v2 * mi[2 * 4 + 2];\n  return dst;\n}\n/**\n * Reorients directions by the given matrix..\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\n\n\nfunction reorientDirections(array, matrix) {\n  applyFuncToV3Array(array, matrix, m4.transformDirection);\n  return array;\n}\n/**\n * Reorients normals by the inverse-transpose of the given\n * matrix..\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\n\n\nfunction reorientNormals(array, matrix) {\n  applyFuncToV3Array(array, m4.inverse(matrix), transformNormal);\n  return array;\n}\n/**\n * Reorients positions by the given matrix. In other words, it\n * multiplies each vertex by the given matrix.\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\n\n\nfunction reorientPositions(array, matrix) {\n  applyFuncToV3Array(array, matrix, m4.transformPoint);\n  return array;\n}\n/**\n * @typedef {(number[]|TypedArray)} NativeArrayOrTypedArray\n */\n\n/**\n * Reorients arrays by the given matrix. Assumes arrays have\n * names that contains 'pos' could be reoriented as positions,\n * 'binorm' or 'tan' as directions, and 'norm' as normals.\n *\n * @param {Object.<string, NativeArrayOrTypedArray>} arrays The vertices to reorient\n * @param {module:twgl/m4.Mat4} matrix matrix to reorient by.\n * @return {Object.<string, NativeArrayOrTypedArray>} same arrays that were passed in.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction reorientVertices(arrays, matrix) {\n  Object.keys(arrays).forEach(function (name) {\n    var array = arrays[name];\n\n    if (name.indexOf(\"pos\") >= 0) {\n      reorientPositions(array, matrix);\n    } else if (name.indexOf(\"tan\") >= 0 || name.indexOf(\"binorm\") >= 0) {\n      reorientDirections(array, matrix);\n    } else if (name.indexOf(\"norm\") >= 0) {\n      reorientNormals(array, matrix);\n    }\n  });\n  return arrays;\n}\n/**\n * Creates XY quad BufferInfo\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0, 0.5);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {Object.<string, WebGLBuffer>} the created XY Quad BufferInfo\n * @memberOf module:twgl/primitives\n * @function createXYQuadBufferInfo\n */\n\n/**\n * Creates XY quad Buffers\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0, 0.5);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {module:twgl.BufferInfo} the created XY Quad buffers\n * @memberOf module:twgl/primitives\n * @function createXYQuadBuffers\n */\n\n/**\n * Creates XY quad vertices\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadVertices(1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadVertices(1, 0, 0.5);\n *\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {Object.<string, TypedArray>} the created XY Quad vertices\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createXYQuadVertices(size, xOffset, yOffset) {\n  size = size || 2;\n  xOffset = xOffset || 0;\n  yOffset = yOffset || 0;\n  size *= 0.5;\n  return {\n    position: {\n      numComponents: 2,\n      data: [xOffset + -1 * size, yOffset + -1 * size, xOffset + 1 * size, yOffset + -1 * size, xOffset + -1 * size, yOffset + 1 * size, xOffset + 1 * size, yOffset + 1 * size]\n    },\n    normal: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],\n    texcoord: [0, 0, 1, 0, 0, 1, 1, 1],\n    indices: [0, 1, 2, 2, 1, 3]\n  };\n}\n/**\n * Creates XZ plane BufferInfo.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {module:twgl.BufferInfo} The created plane BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createPlaneBufferInfo\n */\n\n/**\n * Creates XZ plane buffers.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {Object.<string, WebGLBuffer>} The created plane buffers.\n * @memberOf module:twgl/primitives\n * @function createPlaneBuffers\n */\n\n/**\n * Creates XZ plane vertices.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {Object.<string, TypedArray>} The created plane vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createPlaneVertices(width, depth, subdivisionsWidth, subdivisionsDepth, matrix) {\n  width = width || 1;\n  depth = depth || 1;\n  subdivisionsWidth = subdivisionsWidth || 1;\n  subdivisionsDepth = subdivisionsDepth || 1;\n  matrix = matrix || m4.identity();\n  var numVertices = (subdivisionsWidth + 1) * (subdivisionsDepth + 1);\n  var positions = createAugmentedTypedArray(3, numVertices);\n  var normals = createAugmentedTypedArray(3, numVertices);\n  var texcoords = createAugmentedTypedArray(2, numVertices);\n\n  for (var z = 0; z <= subdivisionsDepth; z++) {\n    for (var x = 0; x <= subdivisionsWidth; x++) {\n      var u = x / subdivisionsWidth;\n      var v = z / subdivisionsDepth;\n      positions.push(width * u - width * 0.5, 0, depth * v - depth * 0.5);\n      normals.push(0, 1, 0);\n      texcoords.push(u, v);\n    }\n  }\n\n  var numVertsAcross = subdivisionsWidth + 1;\n  var indices = createAugmentedTypedArray(3, subdivisionsWidth * subdivisionsDepth * 2, Uint16Array);\n\n  for (var _z = 0; _z < subdivisionsDepth; _z++) {\n    // eslint-disable-line\n    for (var _x = 0; _x < subdivisionsWidth; _x++) {\n      // eslint-disable-line\n      // Make triangle 1 of quad.\n      indices.push((_z + 0) * numVertsAcross + _x, (_z + 1) * numVertsAcross + _x, (_z + 0) * numVertsAcross + _x + 1); // Make triangle 2 of quad.\n\n      indices.push((_z + 1) * numVertsAcross + _x, (_z + 1) * numVertsAcross + _x + 1, (_z + 0) * numVertsAcross + _x + 1);\n    }\n  }\n\n  var arrays = reorientVertices({\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices\n  }, matrix);\n  return arrays;\n}\n/**\n * Creates sphere BufferInfo.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {module:twgl.BufferInfo} The created sphere BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createSphereBufferInfo\n */\n\n/**\n * Creates sphere buffers.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {Object.<string, WebGLBuffer>} The created sphere buffers.\n * @memberOf module:twgl/primitives\n * @function createSphereBuffers\n */\n\n/**\n * Creates sphere vertices.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {Object.<string, TypedArray>} The created sphere vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createSphereVertices(radius, subdivisionsAxis, subdivisionsHeight, opt_startLatitudeInRadians, opt_endLatitudeInRadians, opt_startLongitudeInRadians, opt_endLongitudeInRadians) {\n  if (subdivisionsAxis <= 0 || subdivisionsHeight <= 0) {\n    throw new Error('subdivisionAxis and subdivisionHeight must be > 0');\n  }\n\n  opt_startLatitudeInRadians = opt_startLatitudeInRadians || 0;\n  opt_endLatitudeInRadians = opt_endLatitudeInRadians || Math.PI;\n  opt_startLongitudeInRadians = opt_startLongitudeInRadians || 0;\n  opt_endLongitudeInRadians = opt_endLongitudeInRadians || Math.PI * 2;\n  var latRange = opt_endLatitudeInRadians - opt_startLatitudeInRadians;\n  var longRange = opt_endLongitudeInRadians - opt_startLongitudeInRadians; // We are going to generate our sphere by iterating through its\n  // spherical coordinates and generating 2 triangles for each quad on a\n  // ring of the sphere.\n\n  var numVertices = (subdivisionsAxis + 1) * (subdivisionsHeight + 1);\n  var positions = createAugmentedTypedArray(3, numVertices);\n  var normals = createAugmentedTypedArray(3, numVertices);\n  var texcoords = createAugmentedTypedArray(2, numVertices); // Generate the individual vertices in our vertex buffer.\n\n  for (var y = 0; y <= subdivisionsHeight; y++) {\n    for (var x = 0; x <= subdivisionsAxis; x++) {\n      // Generate a vertex based on its spherical coordinates\n      var u = x / subdivisionsAxis;\n      var v = y / subdivisionsHeight;\n      var theta = longRange * u + opt_startLongitudeInRadians;\n      var phi = latRange * v + opt_startLatitudeInRadians;\n      var sinTheta = Math.sin(theta);\n      var cosTheta = Math.cos(theta);\n      var sinPhi = Math.sin(phi);\n      var cosPhi = Math.cos(phi);\n      var ux = cosTheta * sinPhi;\n      var uy = cosPhi;\n      var uz = sinTheta * sinPhi;\n      positions.push(radius * ux, radius * uy, radius * uz);\n      normals.push(ux, uy, uz);\n      texcoords.push(1 - u, v);\n    }\n  }\n\n  var numVertsAround = subdivisionsAxis + 1;\n  var indices = createAugmentedTypedArray(3, subdivisionsAxis * subdivisionsHeight * 2, Uint16Array);\n\n  for (var _x2 = 0; _x2 < subdivisionsAxis; _x2++) {\n    // eslint-disable-line\n    for (var _y = 0; _y < subdivisionsHeight; _y++) {\n      // eslint-disable-line\n      // Make triangle 1 of quad.\n      indices.push((_y + 0) * numVertsAround + _x2, (_y + 0) * numVertsAround + _x2 + 1, (_y + 1) * numVertsAround + _x2); // Make triangle 2 of quad.\n\n      indices.push((_y + 1) * numVertsAround + _x2, (_y + 0) * numVertsAround + _x2 + 1, (_y + 1) * numVertsAround + _x2 + 1);\n    }\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices\n  };\n}\n/**\n * Array of the indices of corners of each face of a cube.\n * @type {Array.<number[]>}\n * @private\n */\n\n\nvar CUBE_FACE_INDICES = [[3, 7, 5, 1], // right\n[6, 2, 0, 4], // left\n[6, 7, 3, 2], // ??\n[0, 1, 5, 4], // ??\n[7, 6, 4, 5], // front\n[2, 3, 1, 0]];\n/**\n * Creates a BufferInfo for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] width, height and depth of the cube.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCubeBufferInfo\n */\n\n/**\n * Creates the buffers and indices for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] width, height and depth of the cube.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCubeBuffers\n */\n\n/**\n * Creates the vertices and indices for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {number} [size] width, height and depth of the cube.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\n\nfunction createCubeVertices(size) {\n  size = size || 1;\n  var k = size / 2;\n  var cornerVertices = [[-k, -k, -k], [+k, -k, -k], [-k, +k, -k], [+k, +k, -k], [-k, -k, +k], [+k, -k, +k], [-k, +k, +k], [+k, +k, +k]];\n  var faceNormals = [[+1, +0, +0], [-1, +0, +0], [+0, +1, +0], [+0, -1, +0], [+0, +0, +1], [+0, +0, -1]];\n  var uvCoords = [[1, 0], [0, 0], [0, 1], [1, 1]];\n  var numVertices = 6 * 4;\n  var positions = createAugmentedTypedArray(3, numVertices);\n  var normals = createAugmentedTypedArray(3, numVertices);\n  var texcoords = createAugmentedTypedArray(2, numVertices);\n  var indices = createAugmentedTypedArray(3, 6 * 2, Uint16Array);\n\n  for (var f = 0; f < 6; ++f) {\n    var faceIndices = CUBE_FACE_INDICES[f];\n\n    for (var v = 0; v < 4; ++v) {\n      var position = cornerVertices[faceIndices[v]];\n      var normal = faceNormals[f];\n      var uv = uvCoords[v]; // Each face needs all four vertices because the normals and texture\n      // coordinates are not all the same.\n\n      positions.push(position);\n      normals.push(normal);\n      texcoords.push(uv);\n    } // Two triangles make a square face.\n\n\n    var offset = 4 * f;\n    indices.push(offset + 0, offset + 1, offset + 2);\n    indices.push(offset + 0, offset + 2, offset + 3);\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices\n  };\n}\n/**\n * Creates a BufferInfo for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {module:twgl.BufferInfo} The created cone BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createTruncatedConeBufferInfo\n */\n\n/**\n * Creates buffers for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {Object.<string, WebGLBuffer>} The created cone buffers.\n * @memberOf module:twgl/primitives\n * @function createTruncatedConeBuffers\n */\n\n/**\n * Creates vertices for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis. .\n *\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {Object.<string, TypedArray>} The created cone vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createTruncatedConeVertices(bottomRadius, topRadius, height, radialSubdivisions, verticalSubdivisions, opt_topCap, opt_bottomCap) {\n  if (radialSubdivisions < 3) {\n    throw new Error('radialSubdivisions must be 3 or greater');\n  }\n\n  if (verticalSubdivisions < 1) {\n    throw new Error('verticalSubdivisions must be 1 or greater');\n  }\n\n  var topCap = opt_topCap === undefined ? true : opt_topCap;\n  var bottomCap = opt_bottomCap === undefined ? true : opt_bottomCap;\n  var extra = (topCap ? 2 : 0) + (bottomCap ? 2 : 0);\n  var numVertices = (radialSubdivisions + 1) * (verticalSubdivisions + 1 + extra);\n  var positions = createAugmentedTypedArray(3, numVertices);\n  var normals = createAugmentedTypedArray(3, numVertices);\n  var texcoords = createAugmentedTypedArray(2, numVertices);\n  var indices = createAugmentedTypedArray(3, radialSubdivisions * (verticalSubdivisions + extra) * 2, Uint16Array);\n  var vertsAroundEdge = radialSubdivisions + 1; // The slant of the cone is constant across its surface\n\n  var slant = Math.atan2(bottomRadius - topRadius, height);\n  var cosSlant = Math.cos(slant);\n  var sinSlant = Math.sin(slant);\n  var start = topCap ? -2 : 0;\n  var end = verticalSubdivisions + (bottomCap ? 2 : 0);\n\n  for (var yy = start; yy <= end; ++yy) {\n    var v = yy / verticalSubdivisions;\n    var y = height * v;\n    var ringRadius = void 0;\n\n    if (yy < 0) {\n      y = 0;\n      v = 1;\n      ringRadius = bottomRadius;\n    } else if (yy > verticalSubdivisions) {\n      y = height;\n      v = 1;\n      ringRadius = topRadius;\n    } else {\n      ringRadius = bottomRadius + (topRadius - bottomRadius) * (yy / verticalSubdivisions);\n    }\n\n    if (yy === -2 || yy === verticalSubdivisions + 2) {\n      ringRadius = 0;\n      v = 0;\n    }\n\n    y -= height / 2;\n\n    for (var ii = 0; ii < vertsAroundEdge; ++ii) {\n      var sin = Math.sin(ii * Math.PI * 2 / radialSubdivisions);\n      var cos = Math.cos(ii * Math.PI * 2 / radialSubdivisions);\n      positions.push(sin * ringRadius, y, cos * ringRadius);\n      normals.push(yy < 0 || yy > verticalSubdivisions ? 0 : sin * cosSlant, yy < 0 ? -1 : yy > verticalSubdivisions ? 1 : sinSlant, yy < 0 || yy > verticalSubdivisions ? 0 : cos * cosSlant);\n      texcoords.push(ii / radialSubdivisions, 1 - v);\n    }\n  }\n\n  for (var _yy = 0; _yy < verticalSubdivisions + extra; ++_yy) {\n    // eslint-disable-line\n    for (var _ii = 0; _ii < radialSubdivisions; ++_ii) {\n      // eslint-disable-line\n      indices.push(vertsAroundEdge * (_yy + 0) + 0 + _ii, vertsAroundEdge * (_yy + 0) + 1 + _ii, vertsAroundEdge * (_yy + 1) + 1 + _ii);\n      indices.push(vertsAroundEdge * (_yy + 0) + 0 + _ii, vertsAroundEdge * (_yy + 1) + 1 + _ii, vertsAroundEdge * (_yy + 1) + 0 + _ii);\n    }\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices\n  };\n}\n/**\n * Expands RLE data\n * @param {number[]} rleData data in format of run-length, x, y, z, run-length, x, y, z\n * @param {number[]} [padding] value to add each entry with.\n * @return {number[]} the expanded rleData\n * @private\n */\n\n\nfunction expandRLEData(rleData, padding) {\n  padding = padding || [];\n  var data = [];\n\n  for (var ii = 0; ii < rleData.length; ii += 4) {\n    var runLength = rleData[ii];\n    var element = rleData.slice(ii + 1, ii + 4);\n    element.push.apply(element, padding);\n\n    for (var jj = 0; jj < runLength; ++jj) {\n      data.push.apply(data, element);\n    }\n  }\n\n  return data;\n}\n/**\n * Creates 3D 'F' BufferInfo.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function create3DFBufferInfo\n */\n\n/**\n * Creates 3D 'F' buffers.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function create3DFBuffers\n */\n\n/**\n * Creates 3D 'F' vertices.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color arrays.\n *\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction create3DFVertices() {\n  var positions = [// left column front\n  0, 0, 0, 0, 150, 0, 30, 0, 0, 0, 150, 0, 30, 150, 0, 30, 0, 0, // top rung front\n  30, 0, 0, 30, 30, 0, 100, 0, 0, 30, 30, 0, 100, 30, 0, 100, 0, 0, // middle rung front\n  30, 60, 0, 30, 90, 0, 67, 60, 0, 30, 90, 0, 67, 90, 0, 67, 60, 0, // left column back\n  0, 0, 30, 30, 0, 30, 0, 150, 30, 0, 150, 30, 30, 0, 30, 30, 150, 30, // top rung back\n  30, 0, 30, 100, 0, 30, 30, 30, 30, 30, 30, 30, 100, 0, 30, 100, 30, 30, // middle rung back\n  30, 60, 30, 67, 60, 30, 30, 90, 30, 30, 90, 30, 67, 60, 30, 67, 90, 30, // top\n  0, 0, 0, 100, 0, 0, 100, 0, 30, 0, 0, 0, 100, 0, 30, 0, 0, 30, // top rung front\n  100, 0, 0, 100, 30, 0, 100, 30, 30, 100, 0, 0, 100, 30, 30, 100, 0, 30, // under top rung\n  30, 30, 0, 30, 30, 30, 100, 30, 30, 30, 30, 0, 100, 30, 30, 100, 30, 0, // between top rung and middle\n  30, 30, 0, 30, 60, 30, 30, 30, 30, 30, 30, 0, 30, 60, 0, 30, 60, 30, // top of middle rung\n  30, 60, 0, 67, 60, 30, 30, 60, 30, 30, 60, 0, 67, 60, 0, 67, 60, 30, // front of middle rung\n  67, 60, 0, 67, 90, 30, 67, 60, 30, 67, 60, 0, 67, 90, 0, 67, 90, 30, // bottom of middle rung.\n  30, 90, 0, 30, 90, 30, 67, 90, 30, 30, 90, 0, 67, 90, 30, 67, 90, 0, // front of bottom\n  30, 90, 0, 30, 150, 30, 30, 90, 30, 30, 90, 0, 30, 150, 0, 30, 150, 30, // bottom\n  0, 150, 0, 0, 150, 30, 30, 150, 30, 0, 150, 0, 30, 150, 30, 30, 150, 0, // left side\n  0, 0, 0, 0, 0, 30, 0, 150, 30, 0, 0, 0, 0, 150, 30, 0, 150, 0];\n  var texcoords = [// left column front\n  0.22, 0.19, 0.22, 0.79, 0.34, 0.19, 0.22, 0.79, 0.34, 0.79, 0.34, 0.19, // top rung front\n  0.34, 0.19, 0.34, 0.31, 0.62, 0.19, 0.34, 0.31, 0.62, 0.31, 0.62, 0.19, // middle rung front\n  0.34, 0.43, 0.34, 0.55, 0.49, 0.43, 0.34, 0.55, 0.49, 0.55, 0.49, 0.43, // left column back\n  0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, // top rung back\n  0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, // middle rung back\n  0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, // top\n  0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, // top rung front\n  0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, // under top rung\n  0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, // between top rung and middle\n  0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, // top of middle rung\n  0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, // front of middle rung\n  0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, // bottom of middle rung.\n  0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, // front of bottom\n  0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, // bottom\n  0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, // left side\n  0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0];\n  var normals = expandRLEData([// left column front\n  // top rung front\n  // middle rung front\n  18, 0, 0, 1, // left column back\n  // top rung back\n  // middle rung back\n  18, 0, 0, -1, // top\n  6, 0, 1, 0, // top rung front\n  6, 1, 0, 0, // under top rung\n  6, 0, -1, 0, // between top rung and middle\n  6, 1, 0, 0, // top of middle rung\n  6, 0, 1, 0, // front of middle rung\n  6, 1, 0, 0, // bottom of middle rung.\n  6, 0, -1, 0, // front of bottom\n  6, 1, 0, 0, // bottom\n  6, 0, -1, 0, // left side\n  6, -1, 0, 0]);\n  var colors = expandRLEData([// left column front\n  // top rung front\n  // middle rung front\n  18, 200, 70, 120, // left column back\n  // top rung back\n  // middle rung back\n  18, 80, 70, 200, // top\n  6, 70, 200, 210, // top rung front\n  6, 200, 200, 70, // under top rung\n  6, 210, 100, 70, // between top rung and middle\n  6, 210, 160, 70, // top of middle rung\n  6, 70, 180, 210, // front of middle rung\n  6, 100, 70, 210, // bottom of middle rung.\n  6, 76, 210, 100, // front of bottom\n  6, 140, 210, 80, // bottom\n  6, 90, 130, 110, // left side\n  6, 160, 160, 220], [255]);\n  var numVerts = positions.length / 3;\n  var arrays = {\n    position: createAugmentedTypedArray(3, numVerts),\n    texcoord: createAugmentedTypedArray(2, numVerts),\n    normal: createAugmentedTypedArray(3, numVerts),\n    color: createAugmentedTypedArray(4, numVerts, Uint8Array),\n    indices: createAugmentedTypedArray(3, numVerts / 3, Uint16Array)\n  };\n  arrays.position.push(positions);\n  arrays.texcoord.push(texcoords);\n  arrays.normal.push(normals);\n  arrays.color.push(colors);\n\n  for (var ii = 0; ii < numVerts; ++ii) {\n    arrays.indices.push(ii);\n  }\n\n  return arrays;\n}\n/**\n * Creates cresent BufferInfo.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the cresent.\n * @param {number} outerRadius The outer radius of the cresent.\n * @param {number} innerRadius The inner radius of the cresent.\n * @param {number} thickness The thickness of the cresent.\n * @param {number} subdivisionsDown number of steps around the cresent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCresentBufferInfo\n */\n\n/**\n * Creates cresent buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the cresent.\n * @param {number} outerRadius The outer radius of the cresent.\n * @param {number} innerRadius The inner radius of the cresent.\n * @param {number} thickness The thickness of the cresent.\n * @param {number} subdivisionsDown number of steps around the cresent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCresentBuffers\n */\n\n/**\n * Creates cresent vertices.\n *\n * @param {number} verticalRadius The vertical radius of the cresent.\n * @param {number} outerRadius The outer radius of the cresent.\n * @param {number} innerRadius The inner radius of the cresent.\n * @param {number} thickness The thickness of the cresent.\n * @param {number} subdivisionsDown number of steps around the cresent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createCresentVertices(verticalRadius, outerRadius, innerRadius, thickness, subdivisionsDown, startOffset, endOffset) {\n  if (subdivisionsDown <= 0) {\n    throw new Error('subdivisionDown must be > 0');\n  }\n\n  startOffset = startOffset || 0;\n  endOffset = endOffset || 1;\n  var subdivisionsThick = 2;\n  var offsetRange = endOffset - startOffset;\n  var numVertices = (subdivisionsDown + 1) * 2 * (2 + subdivisionsThick);\n  var positions = createAugmentedTypedArray(3, numVertices);\n  var normals = createAugmentedTypedArray(3, numVertices);\n  var texcoords = createAugmentedTypedArray(2, numVertices);\n\n  function lerp(a, b, s) {\n    return a + (b - a) * s;\n  }\n\n  function createArc(arcRadius, x, normalMult, normalAdd, uMult, uAdd) {\n    for (var z = 0; z <= subdivisionsDown; z++) {\n      var uBack = x / (subdivisionsThick - 1);\n      var v = z / subdivisionsDown;\n      var xBack = (uBack - 0.5) * 2;\n      var angle = (startOffset + v * offsetRange) * Math.PI;\n      var s = Math.sin(angle);\n      var c = Math.cos(angle);\n      var radius = lerp(verticalRadius, arcRadius, s);\n      var px = xBack * thickness;\n      var py = c * verticalRadius;\n      var pz = s * radius;\n      positions.push(px, py, pz);\n      var n = v3.add(v3.multiply([0, s, c], normalMult), normalAdd);\n      normals.push(n);\n      texcoords.push(uBack * uMult + uAdd, v);\n    }\n  } // Generate the individual vertices in our vertex buffer.\n\n\n  for (var x = 0; x < subdivisionsThick; x++) {\n    var uBack = (x / (subdivisionsThick - 1) - 0.5) * 2;\n    createArc(outerRadius, x, [1, 1, 1], [0, 0, 0], 1, 0);\n    createArc(outerRadius, x, [0, 0, 0], [uBack, 0, 0], 0, 0);\n    createArc(innerRadius, x, [1, 1, 1], [0, 0, 0], 1, 0);\n    createArc(innerRadius, x, [0, 0, 0], [uBack, 0, 0], 0, 1);\n  } // Do outer surface.\n\n\n  var indices = createAugmentedTypedArray(3, subdivisionsDown * 2 * (2 + subdivisionsThick), Uint16Array);\n\n  function createSurface(leftArcOffset, rightArcOffset) {\n    for (var z = 0; z < subdivisionsDown; ++z) {\n      // Make triangle 1 of quad.\n      indices.push(leftArcOffset + z + 0, leftArcOffset + z + 1, rightArcOffset + z + 0); // Make triangle 2 of quad.\n\n      indices.push(leftArcOffset + z + 1, rightArcOffset + z + 1, rightArcOffset + z + 0);\n    }\n  }\n\n  var numVerticesDown = subdivisionsDown + 1; // front\n\n  createSurface(numVerticesDown * 0, numVerticesDown * 4); // right\n\n  createSurface(numVerticesDown * 5, numVerticesDown * 7); // back\n\n  createSurface(numVerticesDown * 6, numVerticesDown * 2); // left\n\n  createSurface(numVerticesDown * 3, numVerticesDown * 1);\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices\n  };\n}\n/**\n * Creates cylinder BufferInfo. The cylinder will be created around the origin\n * along the y-axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of cylinder.\n * @param {number} height Height of cylinder.\n * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n * @param {boolean} [topCap] Create top cap. Default = true.\n * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCylinderBufferInfo\n */\n\n/**\n * Creates cylinder buffers. The cylinder will be created around the origin\n * along the y-axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of cylinder.\n * @param {number} height Height of cylinder.\n * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n * @param {boolean} [topCap] Create top cap. Default = true.\n * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCylinderBuffers\n */\n\n/**\n * Creates cylinder vertices. The cylinder will be created around the origin\n * along the y-axis.\n *\n * @param {number} radius Radius of cylinder.\n * @param {number} height Height of cylinder.\n * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n * @param {boolean} [topCap] Create top cap. Default = true.\n * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createCylinderVertices(radius, height, radialSubdivisions, verticalSubdivisions, topCap, bottomCap) {\n  return createTruncatedConeVertices(radius, radius, height, radialSubdivisions, verticalSubdivisions, topCap, bottomCap);\n}\n/**\n * Creates BufferInfo for a torus\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createTorusBufferInfo\n */\n\n/**\n * Creates buffers for a torus\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createTorusBuffers\n */\n\n/**\n * Creates vertices for a torus\n *\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createTorusVertices(radius, thickness, radialSubdivisions, bodySubdivisions, startAngle, endAngle) {\n  if (radialSubdivisions < 3) {\n    throw new Error('radialSubdivisions must be 3 or greater');\n  }\n\n  if (bodySubdivisions < 3) {\n    throw new Error('verticalSubdivisions must be 3 or greater');\n  }\n\n  startAngle = startAngle || 0;\n  endAngle = endAngle || Math.PI * 2;\n  var range = endAngle - startAngle;\n  var radialParts = radialSubdivisions + 1;\n  var bodyParts = bodySubdivisions + 1;\n  var numVertices = radialParts * bodyParts;\n  var positions = createAugmentedTypedArray(3, numVertices);\n  var normals = createAugmentedTypedArray(3, numVertices);\n  var texcoords = createAugmentedTypedArray(2, numVertices);\n  var indices = createAugmentedTypedArray(3, radialSubdivisions * bodySubdivisions * 2, Uint16Array);\n\n  for (var slice = 0; slice < bodyParts; ++slice) {\n    var v = slice / bodySubdivisions;\n    var sliceAngle = v * Math.PI * 2;\n    var sliceSin = Math.sin(sliceAngle);\n    var ringRadius = radius + sliceSin * thickness;\n    var ny = Math.cos(sliceAngle);\n    var y = ny * thickness;\n\n    for (var ring = 0; ring < radialParts; ++ring) {\n      var u = ring / radialSubdivisions;\n      var ringAngle = startAngle + u * range;\n      var xSin = Math.sin(ringAngle);\n      var zCos = Math.cos(ringAngle);\n      var x = xSin * ringRadius;\n      var z = zCos * ringRadius;\n      var nx = xSin * sliceSin;\n      var nz = zCos * sliceSin;\n      positions.push(x, y, z);\n      normals.push(nx, ny, nz);\n      texcoords.push(u, 1 - v);\n    }\n  }\n\n  for (var _slice = 0; _slice < bodySubdivisions; ++_slice) {\n    // eslint-disable-line\n    for (var _ring = 0; _ring < radialSubdivisions; ++_ring) {\n      // eslint-disable-line\n      var nextRingIndex = 1 + _ring;\n      var nextSliceIndex = 1 + _slice;\n      indices.push(radialParts * _slice + _ring, radialParts * nextSliceIndex + _ring, radialParts * _slice + nextRingIndex);\n      indices.push(radialParts * nextSliceIndex + _ring, radialParts * nextSliceIndex + nextRingIndex, radialParts * _slice + nextRingIndex);\n    }\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices\n  };\n}\n/**\n * Creates a disc BufferInfo. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose ouside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createDiscBufferInfo\n */\n\n/**\n * Creates disc buffers. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose ouside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createDiscBuffers\n */\n\n/**\n * Creates disc vertices. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose ouside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction createDiscVertices(radius, divisions, stacks, innerRadius, stackPower) {\n  if (divisions < 3) {\n    throw new Error('divisions must be at least 3');\n  }\n\n  stacks = stacks ? stacks : 1;\n  stackPower = stackPower ? stackPower : 1;\n  innerRadius = innerRadius ? innerRadius : 0; // Note: We don't share the center vertex because that would\n  // mess up texture coordinates.\n\n  var numVertices = (divisions + 1) * (stacks + 1);\n  var positions = createAugmentedTypedArray(3, numVertices);\n  var normals = createAugmentedTypedArray(3, numVertices);\n  var texcoords = createAugmentedTypedArray(2, numVertices);\n  var indices = createAugmentedTypedArray(3, stacks * divisions * 2, Uint16Array);\n  var firstIndex = 0;\n  var radiusSpan = radius - innerRadius;\n  var pointsPerStack = divisions + 1; // Build the disk one stack at a time.\n\n  for (var stack = 0; stack <= stacks; ++stack) {\n    var stackRadius = innerRadius + radiusSpan * Math.pow(stack / stacks, stackPower);\n\n    for (var i = 0; i <= divisions; ++i) {\n      var theta = 2.0 * Math.PI * i / divisions;\n      var x = stackRadius * Math.cos(theta);\n      var z = stackRadius * Math.sin(theta);\n      positions.push(x, 0, z);\n      normals.push(0, 1, 0);\n      texcoords.push(1 - i / divisions, stack / stacks);\n\n      if (stack > 0 && i !== divisions) {\n        // a, b, c and d are the indices of the vertices of a quad.  unless\n        // the current stack is the one closest to the center, in which case\n        // the vertices a and b connect to the center vertex.\n        var a = firstIndex + (i + 1);\n        var b = firstIndex + i;\n        var c = firstIndex + i - pointsPerStack;\n        var d = firstIndex + (i + 1) - pointsPerStack; // Make a quad of the vertices a, b, c, d.\n\n        indices.push(a, b, c);\n        indices.push(a, c, d);\n      }\n    }\n\n    firstIndex += divisions + 1;\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices\n  };\n}\n/**\n * creates a random integer between 0 and range - 1 inclusive.\n * @param {number} range\n * @return {number} random value between 0 and range - 1 inclusive.\n * @private\n */\n\n\nfunction randInt(range) {\n  return Math.random() * range | 0;\n}\n/**\n * Used to supply random colors\n * @callback RandomColorFunc\n * @param {number} ndx index of triangle/quad if unindexed or index of vertex if indexed\n * @param {number} channel 0 = red, 1 = green, 2 = blue, 3 = alpha\n * @return {number} a number from 0 to 255\n * @memberOf module:twgl/primitives\n */\n\n/**\n * @typedef {Object} RandomVerticesOptions\n * @property {number} [vertsPerColor] Defaults to 3 for non-indexed vertices\n * @property {module:twgl/primitives.RandomColorFunc} [rand] A function to generate random numbers\n * @memberOf module:twgl/primitives\n */\n\n/**\n * Creates an augmentedTypedArray of random vertex colors.\n * If the vertices are indexed (have an indices array) then will\n * just make random colors. Otherwise assumes they are triangles\n * and makes one random color for every 3 vertices.\n * @param {Object.<string, AugmentedTypedArray>} vertices Vertices as returned from one of the createXXXVertices functions.\n * @param {module:twgl/primitives.RandomVerticesOptions} [options] options.\n * @return {Object.<string, AugmentedTypedArray>} same vertices as passed in with `color` added.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction makeRandomVertexColors(vertices, options) {\n  options = options || {};\n  var numElements = vertices.position.numElements;\n  var vcolors = createAugmentedTypedArray(4, numElements, Uint8Array);\n\n  var rand = options.rand || function (ndx, channel) {\n    return channel < 3 ? randInt(256) : 255;\n  };\n\n  vertices.color = vcolors;\n\n  if (vertices.indices) {\n    // just make random colors if index\n    for (var ii = 0; ii < numElements; ++ii) {\n      vcolors.push(rand(ii, 0), rand(ii, 1), rand(ii, 2), rand(ii, 3));\n    }\n  } else {\n    // make random colors per triangle\n    var numVertsPerColor = options.vertsPerColor || 3;\n    var numSets = numElements / numVertsPerColor;\n\n    for (var _ii2 = 0; _ii2 < numSets; ++_ii2) {\n      // eslint-disable-line\n      var color = [rand(_ii2, 0), rand(_ii2, 1), rand(_ii2, 2), rand(_ii2, 3)];\n\n      for (var jj = 0; jj < numVertsPerColor; ++jj) {\n        vcolors.push(color);\n      }\n    }\n  }\n\n  return vertices;\n}\n/**\n * creates a function that calls fn to create vertices and then\n * creates a buffers for them\n * @private\n */\n\n\nfunction createBufferFunc(fn) {\n  return function (gl) {\n    var arrays = fn.apply(this, Array.prototype.slice.call(arguments, 1));\n    return attributes.createBuffersFromArrays(gl, arrays);\n  };\n}\n/**\n * creates a function that calls fn to create vertices and then\n * creates a bufferInfo object for them\n * @private\n */\n\n\nfunction createBufferInfoFunc(fn) {\n  return function (gl) {\n    var arrays = fn.apply(null, Array.prototype.slice.call(arguments, 1));\n    return attributes.createBufferInfoFromArrays(gl, arrays);\n  };\n}\n\nvar arraySpecPropertyNames = [\"numComponents\", \"size\", \"type\", \"normalize\", \"stride\", \"offset\", \"attrib\", \"name\", \"attribName\"];\n/**\n * Copy elements from one array to another\n *\n * @param {Array|TypedArray} src source array\n * @param {Array|TypedArray} dst dest array\n * @param {number} dstNdx index in dest to copy src\n * @param {number} [offset] offset to add to copied values\n * @private\n */\n\nfunction copyElements(src, dst, dstNdx, offset) {\n  offset = offset || 0;\n  var length = src.length;\n\n  for (var ii = 0; ii < length; ++ii) {\n    dst[dstNdx + ii] = src[ii] + offset;\n  }\n}\n/**\n * Creates an array of the same time\n *\n * @param {(number[]|ArrayBufferView|module:twgl.FullArraySpec)} srcArray array who's type to copy\n * @param {number} length size of new array\n * @return {(number[]|ArrayBufferView|module:twgl.FullArraySpec)} array with same type as srcArray\n * @private\n */\n\n\nfunction createArrayOfSameType(srcArray, length) {\n  var arraySrc = getArray(srcArray);\n  var newArray = new arraySrc.constructor(length);\n  var newArraySpec = newArray; // If it appears to have been augmented make new one augemented\n\n  if (arraySrc.numComponents && arraySrc.numElements) {\n    augmentTypedArray(newArray, arraySrc.numComponents);\n  } // If it was a fullspec make new one a fullspec\n\n\n  if (srcArray.data) {\n    newArraySpec = {\n      data: newArray\n    };\n    helper.copyNamedProperties(arraySpecPropertyNames, srcArray, newArraySpec);\n  }\n\n  return newArraySpec;\n}\n/**\n * Concatinates sets of vertices\n *\n * Assumes the vertices match in composition. For example\n * if one set of vertices has positions, normals, and indices\n * all sets of vertices must have positions, normals, and indices\n * and of the same type.\n *\n * Example:\n *\n *      const cubeVertices = twgl.primtiives.createCubeVertices(2);\n *      const sphereVertices = twgl.primitives.createSphereVertices(1, 10, 10);\n *      // move the sphere 2 units up\n *      twgl.primitives.reorientVertices(\n *          sphereVertices, twgl.m4.translation([0, 2, 0]));\n *      // merge the sphere with the cube\n *      const cubeSphereVertices = twgl.primitives.concatVertices(\n *          [cubeVertices, sphereVertices]);\n *      // turn them into WebGL buffers and attrib data\n *      const bufferInfo = twgl.createBufferInfoFromArrays(gl, cubeSphereVertices);\n *\n * @param {module:twgl.Arrays[]} arrays Array of arrays of vertices\n * @return {module:twgl.Arrays} The concatinated vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction concatVertices(arrayOfArrays) {\n  var names = {};\n  var baseName; // get names of all arrays.\n  // and numElements for each set of vertices\n\n  var _loop = function _loop(ii) {\n    var arrays = arrayOfArrays[ii];\n    Object.keys(arrays).forEach(function (name) {\n      // eslint-disable-line\n      if (!names[name]) {\n        names[name] = [];\n      }\n\n      if (!baseName && name !== 'indices') {\n        baseName = name;\n      }\n\n      var arrayInfo = arrays[name];\n      var numComponents = getNumComponents(arrayInfo, name);\n      var array = getArray(arrayInfo);\n      var numElements = array.length / numComponents;\n      names[name].push(numElements);\n    });\n  };\n\n  for (var ii = 0; ii < arrayOfArrays.length; ++ii) {\n    _loop(ii);\n  } // compute length of combined array\n  // and return one for reference\n\n\n  function getLengthOfCombinedArrays(name) {\n    var length = 0;\n    var arraySpec;\n\n    for (var ii = 0; ii < arrayOfArrays.length; ++ii) {\n      var arrays = arrayOfArrays[ii];\n      var arrayInfo = arrays[name];\n      var array = getArray(arrayInfo);\n      length += array.length;\n\n      if (!arraySpec || arrayInfo.data) {\n        arraySpec = arrayInfo;\n      }\n    }\n\n    return {\n      length: length,\n      spec: arraySpec\n    };\n  }\n\n  function copyArraysToNewArray(name, base, newArray) {\n    var baseIndex = 0;\n    var offset = 0;\n\n    for (var ii = 0; ii < arrayOfArrays.length; ++ii) {\n      var arrays = arrayOfArrays[ii];\n      var arrayInfo = arrays[name];\n      var array = getArray(arrayInfo);\n\n      if (name === 'indices') {\n        copyElements(array, newArray, offset, baseIndex);\n        baseIndex += base[ii];\n      } else {\n        copyElements(array, newArray, offset);\n      }\n\n      offset += array.length;\n    }\n  }\n\n  var base = names[baseName];\n  var newArrays = {};\n  Object.keys(names).forEach(function (name) {\n    var info = getLengthOfCombinedArrays(name);\n    var newArraySpec = createArrayOfSameType(info.spec, info.length);\n    copyArraysToNewArray(name, base, getArray(newArraySpec));\n    newArrays[name] = newArraySpec;\n  });\n  return newArrays;\n}\n/**\n * Creates a duplicate set of vertices\n *\n * This is useful for calling reorientVertices when you\n * also want to keep the original available\n *\n * @param {module:twgl.Arrays} arrays of vertices\n * @return {module:twgl.Arrays} The dupilicated vertices.\n * @memberOf module:twgl/primitives\n */\n\n\nfunction duplicateVertices(arrays) {\n  var newArrays = {};\n  Object.keys(arrays).forEach(function (name) {\n    var arraySpec = arrays[name];\n    var srcArray = getArray(arraySpec);\n    var newArraySpec = createArrayOfSameType(arraySpec, srcArray.length);\n    copyElements(srcArray, getArray(newArraySpec), 0);\n    newArrays[name] = newArraySpec;\n  });\n  return newArrays;\n}\n\nvar create3DFBufferInfo = createBufferInfoFunc(create3DFVertices);\nexports.create3DFBufferInfo = create3DFBufferInfo;\nvar create3DFBuffers = createBufferFunc(create3DFVertices);\nexports.create3DFBuffers = create3DFBuffers;\nvar createCubeBufferInfo = createBufferInfoFunc(createCubeVertices);\nexports.createCubeBufferInfo = createCubeBufferInfo;\nvar createCubeBuffers = createBufferFunc(createCubeVertices);\nexports.createCubeBuffers = createCubeBuffers;\nvar createPlaneBufferInfo = createBufferInfoFunc(createPlaneVertices);\nexports.createPlaneBufferInfo = createPlaneBufferInfo;\nvar createPlaneBuffers = createBufferFunc(createPlaneVertices);\nexports.createPlaneBuffers = createPlaneBuffers;\nvar createSphereBufferInfo = createBufferInfoFunc(createSphereVertices);\nexports.createSphereBufferInfo = createSphereBufferInfo;\nvar createSphereBuffers = createBufferFunc(createSphereVertices);\nexports.createSphereBuffers = createSphereBuffers;\nvar createTruncatedConeBufferInfo = createBufferInfoFunc(createTruncatedConeVertices);\nexports.createTruncatedConeBufferInfo = createTruncatedConeBufferInfo;\nvar createTruncatedConeBuffers = createBufferFunc(createTruncatedConeVertices);\nexports.createTruncatedConeBuffers = createTruncatedConeBuffers;\nvar createXYQuadBufferInfo = createBufferInfoFunc(createXYQuadVertices);\nexports.createXYQuadBufferInfo = createXYQuadBufferInfo;\nvar createXYQuadBuffers = createBufferFunc(createXYQuadVertices);\nexports.createXYQuadBuffers = createXYQuadBuffers;\nvar createCresentBufferInfo = createBufferInfoFunc(createCresentVertices);\nexports.createCresentBufferInfo = createCresentBufferInfo;\nvar createCresentBuffers = createBufferFunc(createCresentVertices);\nexports.createCresentBuffers = createCresentBuffers;\nvar createCylinderBufferInfo = createBufferInfoFunc(createCylinderVertices);\nexports.createCylinderBufferInfo = createCylinderBufferInfo;\nvar createCylinderBuffers = createBufferFunc(createCylinderVertices);\nexports.createCylinderBuffers = createCylinderBuffers;\nvar createTorusBufferInfo = createBufferInfoFunc(createTorusVertices);\nexports.createTorusBufferInfo = createTorusBufferInfo;\nvar createTorusBuffers = createBufferFunc(createTorusVertices);\nexports.createTorusBuffers = createTorusBuffers;\nvar createDiscBufferInfo = createBufferInfoFunc(createDiscVertices);\nexports.createDiscBufferInfo = createDiscBufferInfo;\nvar createDiscBuffers = createBufferFunc(createDiscVertices);\nexports.createDiscBuffers = createDiscBuffers;\n\n/***/ }),\n\n/***/ \"./src/programs.js\":\n/*!*************************!*\\\n  !*** ./src/programs.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.createAttributeSetters = createAttributeSetters;\nexports.createProgram = createProgram;\nexports.createProgramFromScripts = createProgramFromScripts;\nexports.createProgramFromSources = createProgramFromSources;\nexports.createProgramInfo = createProgramInfo;\nexports.createProgramInfoFromProgram = createProgramInfoFromProgram;\nexports.createUniformSetters = createUniformSetters;\nexports.createUniformBlockSpecFromProgram = createUniformBlockSpecFromProgram;\nexports.createUniformBlockInfoFromProgram = createUniformBlockInfoFromProgram;\nexports.createUniformBlockInfo = createUniformBlockInfo;\nexports.createTransformFeedback = createTransformFeedback;\nexports.createTransformFeedbackInfo = createTransformFeedbackInfo;\nexports.bindTransformFeedbackInfo = bindTransformFeedbackInfo;\nexports.setAttributes = setAttributes;\nexports.setBuffersAndAttributes = setBuffersAndAttributes;\nexports.setUniforms = setUniforms;\nexports.setUniformBlock = setUniformBlock;\nexports.setBlockUniforms = setBlockUniforms;\nexports.bindUniformBlock = bindUniformBlock;\n\nvar utils = _interopRequireWildcard(__webpack_require__(/*! ./utils.js */ \"./src/utils.js\"));\n\nvar helper = _interopRequireWildcard(__webpack_require__(/*! ./helper.js */ \"./src/helper.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Low level shader program related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibily they are available at both `twgl.programs` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/programs\n */\nvar error = helper.error;\nvar warn = helper.warn;\nvar getElementById = typeof document !== 'undefined' && document.getElementById ? document.getElementById.bind(document) : function () {\n  return null;\n};\nvar FLOAT = 0x1406;\nvar FLOAT_VEC2 = 0x8B50;\nvar FLOAT_VEC3 = 0x8B51;\nvar FLOAT_VEC4 = 0x8B52;\nvar INT = 0x1404;\nvar INT_VEC2 = 0x8B53;\nvar INT_VEC3 = 0x8B54;\nvar INT_VEC4 = 0x8B55;\nvar BOOL = 0x8B56;\nvar BOOL_VEC2 = 0x8B57;\nvar BOOL_VEC3 = 0x8B58;\nvar BOOL_VEC4 = 0x8B59;\nvar FLOAT_MAT2 = 0x8B5A;\nvar FLOAT_MAT3 = 0x8B5B;\nvar FLOAT_MAT4 = 0x8B5C;\nvar SAMPLER_2D = 0x8B5E;\nvar SAMPLER_CUBE = 0x8B60;\nvar SAMPLER_3D = 0x8B5F;\nvar SAMPLER_2D_SHADOW = 0x8B62;\nvar FLOAT_MAT2x3 = 0x8B65;\nvar FLOAT_MAT2x4 = 0x8B66;\nvar FLOAT_MAT3x2 = 0x8B67;\nvar FLOAT_MAT3x4 = 0x8B68;\nvar FLOAT_MAT4x2 = 0x8B69;\nvar FLOAT_MAT4x3 = 0x8B6A;\nvar SAMPLER_2D_ARRAY = 0x8DC1;\nvar SAMPLER_2D_ARRAY_SHADOW = 0x8DC4;\nvar SAMPLER_CUBE_SHADOW = 0x8DC5;\nvar UNSIGNED_INT = 0x1405;\nvar UNSIGNED_INT_VEC2 = 0x8DC6;\nvar UNSIGNED_INT_VEC3 = 0x8DC7;\nvar UNSIGNED_INT_VEC4 = 0x8DC8;\nvar INT_SAMPLER_2D = 0x8DCA;\nvar INT_SAMPLER_3D = 0x8DCB;\nvar INT_SAMPLER_CUBE = 0x8DCC;\nvar INT_SAMPLER_2D_ARRAY = 0x8DCF;\nvar UNSIGNED_INT_SAMPLER_2D = 0x8DD2;\nvar UNSIGNED_INT_SAMPLER_3D = 0x8DD3;\nvar UNSIGNED_INT_SAMPLER_CUBE = 0x8DD4;\nvar UNSIGNED_INT_SAMPLER_2D_ARRAY = 0x8DD7;\nvar TEXTURE_2D = 0x0DE1;\nvar TEXTURE_CUBE_MAP = 0x8513;\nvar TEXTURE_3D = 0x806F;\nvar TEXTURE_2D_ARRAY = 0x8C1A;\nvar typeMap = {};\n/**\n * Returns the corresponding bind point for a given sampler type\n */\n\nfunction getBindPointForSamplerType(gl, type) {\n  return typeMap[type].bindPoint;\n} // This kind of sucks! If you could compose functions as in `var fn = gl[name];`\n// this code could be a lot smaller but that is sadly really slow (T_T)\n\n\nfunction floatSetter(gl, location) {\n  return function (v) {\n    gl.uniform1f(location, v);\n  };\n}\n\nfunction floatArraySetter(gl, location) {\n  return function (v) {\n    gl.uniform1fv(location, v);\n  };\n}\n\nfunction floatVec2Setter(gl, location) {\n  return function (v) {\n    gl.uniform2fv(location, v);\n  };\n}\n\nfunction floatVec3Setter(gl, location) {\n  return function (v) {\n    gl.uniform3fv(location, v);\n  };\n}\n\nfunction floatVec4Setter(gl, location) {\n  return function (v) {\n    gl.uniform4fv(location, v);\n  };\n}\n\nfunction intSetter(gl, location) {\n  return function (v) {\n    gl.uniform1i(location, v);\n  };\n}\n\nfunction intArraySetter(gl, location) {\n  return function (v) {\n    gl.uniform1iv(location, v);\n  };\n}\n\nfunction intVec2Setter(gl, location) {\n  return function (v) {\n    gl.uniform2iv(location, v);\n  };\n}\n\nfunction intVec3Setter(gl, location) {\n  return function (v) {\n    gl.uniform3iv(location, v);\n  };\n}\n\nfunction intVec4Setter(gl, location) {\n  return function (v) {\n    gl.uniform4iv(location, v);\n  };\n}\n\nfunction uintSetter(gl, location) {\n  return function (v) {\n    gl.uniform1ui(location, v);\n  };\n}\n\nfunction uintArraySetter(gl, location) {\n  return function (v) {\n    gl.uniform1uiv(location, v);\n  };\n}\n\nfunction uintVec2Setter(gl, location) {\n  return function (v) {\n    gl.uniform2uiv(location, v);\n  };\n}\n\nfunction uintVec3Setter(gl, location) {\n  return function (v) {\n    gl.uniform3uiv(location, v);\n  };\n}\n\nfunction uintVec4Setter(gl, location) {\n  return function (v) {\n    gl.uniform4uiv(location, v);\n  };\n}\n\nfunction floatMat2Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix2fv(location, false, v);\n  };\n}\n\nfunction floatMat3Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix3fv(location, false, v);\n  };\n}\n\nfunction floatMat4Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix4fv(location, false, v);\n  };\n}\n\nfunction floatMat23Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix2x3fv(location, false, v);\n  };\n}\n\nfunction floatMat32Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix3x2fv(location, false, v);\n  };\n}\n\nfunction floatMat24Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix2x4fv(location, false, v);\n  };\n}\n\nfunction floatMat42Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix4x2fv(location, false, v);\n  };\n}\n\nfunction floatMat34Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix3x4fv(location, false, v);\n  };\n}\n\nfunction floatMat43Setter(gl, location) {\n  return function (v) {\n    gl.uniformMatrix4x3fv(location, false, v);\n  };\n}\n\nfunction samplerSetter(gl, type, unit, location) {\n  var bindPoint = getBindPointForSamplerType(gl, type);\n  return utils.isWebGL2(gl) ? function (textureOrPair) {\n    var texture;\n    var sampler;\n\n    if (helper.isTexture(gl, textureOrPair)) {\n      texture = textureOrPair;\n      sampler = null;\n    } else {\n      texture = textureOrPair.texture;\n      sampler = textureOrPair.sampler;\n    }\n\n    gl.uniform1i(location, unit);\n    gl.activeTexture(gl.TEXTURE0 + unit);\n    gl.bindTexture(bindPoint, texture);\n    gl.bindSampler(unit, sampler);\n  } : function (texture) {\n    gl.uniform1i(location, unit);\n    gl.activeTexture(gl.TEXTURE0 + unit);\n    gl.bindTexture(bindPoint, texture);\n  };\n}\n\nfunction samplerArraySetter(gl, type, unit, location, size) {\n  var bindPoint = getBindPointForSamplerType(gl, type);\n  var units = new Int32Array(size);\n\n  for (var ii = 0; ii < size; ++ii) {\n    units[ii] = unit + ii;\n  }\n\n  return utils.isWebGL2(gl) ? function (textures) {\n    gl.uniform1iv(location, units);\n    textures.forEach(function (textureOrPair, index) {\n      gl.activeTexture(gl.TEXTURE0 + units[index]);\n      var texture;\n      var sampler;\n\n      if (helper.isTexture(gl, textureOrPair)) {\n        texture = textureOrPair;\n        sampler = null;\n      } else {\n        texture = textureOrPair.texture;\n        sampler = textureOrPair.sampler;\n      }\n\n      gl.bindSampler(unit, sampler);\n      gl.bindTexture(bindPoint, texture);\n    });\n  } : function (textures) {\n    gl.uniform1iv(location, units);\n    textures.forEach(function (texture, index) {\n      gl.activeTexture(gl.TEXTURE0 + units[index]);\n      gl.bindTexture(bindPoint, texture);\n    });\n  };\n}\n\ntypeMap[FLOAT] = {\n  Type: Float32Array,\n  size: 4,\n  setter: floatSetter,\n  arraySetter: floatArraySetter\n};\ntypeMap[FLOAT_VEC2] = {\n  Type: Float32Array,\n  size: 8,\n  setter: floatVec2Setter\n};\ntypeMap[FLOAT_VEC3] = {\n  Type: Float32Array,\n  size: 12,\n  setter: floatVec3Setter\n};\ntypeMap[FLOAT_VEC4] = {\n  Type: Float32Array,\n  size: 16,\n  setter: floatVec4Setter\n};\ntypeMap[INT] = {\n  Type: Int32Array,\n  size: 4,\n  setter: intSetter,\n  arraySetter: intArraySetter\n};\ntypeMap[INT_VEC2] = {\n  Type: Int32Array,\n  size: 8,\n  setter: intVec2Setter\n};\ntypeMap[INT_VEC3] = {\n  Type: Int32Array,\n  size: 12,\n  setter: intVec3Setter\n};\ntypeMap[INT_VEC4] = {\n  Type: Int32Array,\n  size: 16,\n  setter: intVec4Setter\n};\ntypeMap[UNSIGNED_INT] = {\n  Type: Uint32Array,\n  size: 4,\n  setter: uintSetter,\n  arraySetter: uintArraySetter\n};\ntypeMap[UNSIGNED_INT_VEC2] = {\n  Type: Uint32Array,\n  size: 8,\n  setter: uintVec2Setter\n};\ntypeMap[UNSIGNED_INT_VEC3] = {\n  Type: Uint32Array,\n  size: 12,\n  setter: uintVec3Setter\n};\ntypeMap[UNSIGNED_INT_VEC4] = {\n  Type: Uint32Array,\n  size: 16,\n  setter: uintVec4Setter\n};\ntypeMap[BOOL] = {\n  Type: Uint32Array,\n  size: 4,\n  setter: intSetter,\n  arraySetter: intArraySetter\n};\ntypeMap[BOOL_VEC2] = {\n  Type: Uint32Array,\n  size: 8,\n  setter: intVec2Setter\n};\ntypeMap[BOOL_VEC3] = {\n  Type: Uint32Array,\n  size: 12,\n  setter: intVec3Setter\n};\ntypeMap[BOOL_VEC4] = {\n  Type: Uint32Array,\n  size: 16,\n  setter: intVec4Setter\n};\ntypeMap[FLOAT_MAT2] = {\n  Type: Float32Array,\n  size: 16,\n  setter: floatMat2Setter\n};\ntypeMap[FLOAT_MAT3] = {\n  Type: Float32Array,\n  size: 36,\n  setter: floatMat3Setter\n};\ntypeMap[FLOAT_MAT4] = {\n  Type: Float32Array,\n  size: 64,\n  setter: floatMat4Setter\n};\ntypeMap[FLOAT_MAT2x3] = {\n  Type: Float32Array,\n  size: 24,\n  setter: floatMat23Setter\n};\ntypeMap[FLOAT_MAT2x4] = {\n  Type: Float32Array,\n  size: 32,\n  setter: floatMat24Setter\n};\ntypeMap[FLOAT_MAT3x2] = {\n  Type: Float32Array,\n  size: 24,\n  setter: floatMat32Setter\n};\ntypeMap[FLOAT_MAT3x4] = {\n  Type: Float32Array,\n  size: 48,\n  setter: floatMat34Setter\n};\ntypeMap[FLOAT_MAT4x2] = {\n  Type: Float32Array,\n  size: 32,\n  setter: floatMat42Setter\n};\ntypeMap[FLOAT_MAT4x3] = {\n  Type: Float32Array,\n  size: 48,\n  setter: floatMat43Setter\n};\ntypeMap[SAMPLER_2D] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_2D\n};\ntypeMap[SAMPLER_CUBE] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_CUBE_MAP\n};\ntypeMap[SAMPLER_3D] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_3D\n};\ntypeMap[SAMPLER_2D_SHADOW] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_2D\n};\ntypeMap[SAMPLER_2D_ARRAY] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_2D_ARRAY\n};\ntypeMap[SAMPLER_2D_ARRAY_SHADOW] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_2D_ARRAY\n};\ntypeMap[SAMPLER_CUBE_SHADOW] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_CUBE_MAP\n};\ntypeMap[INT_SAMPLER_2D] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_2D\n};\ntypeMap[INT_SAMPLER_3D] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_3D\n};\ntypeMap[INT_SAMPLER_CUBE] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_CUBE_MAP\n};\ntypeMap[INT_SAMPLER_2D_ARRAY] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_2D_ARRAY\n};\ntypeMap[UNSIGNED_INT_SAMPLER_2D] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_2D\n};\ntypeMap[UNSIGNED_INT_SAMPLER_3D] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_3D\n};\ntypeMap[UNSIGNED_INT_SAMPLER_CUBE] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_CUBE_MAP\n};\ntypeMap[UNSIGNED_INT_SAMPLER_2D_ARRAY] = {\n  Type: null,\n  size: 0,\n  setter: samplerSetter,\n  arraySetter: samplerArraySetter,\n  bindPoint: TEXTURE_2D_ARRAY\n};\n\nfunction floatAttribSetter(gl, index) {\n  return function (b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n\n      switch (b.value.length) {\n        case 4:\n          gl.vertexAttrib4fv(index, b.value);\n          break;\n\n        case 3:\n          gl.vertexAttrib3fv(index, b.value);\n          break;\n\n        case 2:\n          gl.vertexAttrib2fv(index, b.value);\n          break;\n\n        case 1:\n          gl.vertexAttrib1fv(index, b.value);\n          break;\n\n        default:\n          throw new Error('the length of a float constant value must be between 1 and 4!');\n      }\n    } else {\n      gl.bindBuffer(gl.ARRAY_BUFFER, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribPointer(index, b.numComponents || b.size, b.type || gl.FLOAT, b.normalize || false, b.stride || 0, b.offset || 0);\n\n      if (b.divisor !== undefined) {\n        gl.vertexAttribDivisor(index, b.divisor);\n      }\n    }\n  };\n}\n\nfunction intAttribSetter(gl, index) {\n  return function (b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n\n      if (b.value.length === 4) {\n        gl.vertexAttrib4iv(index, b.value);\n      } else {\n        throw new Error('The length of an integer constant value must be 4!');\n      }\n    } else {\n      gl.bindBuffer(gl.ARRAY_BUFFER, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribIPointer(index, b.numComponents || b.size, b.type || gl.INT, b.stride || 0, b.offset || 0);\n\n      if (b.divisor !== undefined) {\n        gl.vertexAttribDivisor(index, b.divisor);\n      }\n    }\n  };\n}\n\nfunction uintAttribSetter(gl, index) {\n  return function (b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n\n      if (b.value.length === 4) {\n        gl.vertexAttrib4uiv(index, b.value);\n      } else {\n        throw new Error('The length of an unsigned integer constant value must be 4!');\n      }\n    } else {\n      gl.bindBuffer(gl.ARRAY_BUFFER, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribIPointer(index, b.numComponents || b.size, b.type || gl.UNSIGNED_INT, b.stride || 0, b.offset || 0);\n\n      if (b.divisor !== undefined) {\n        gl.vertexAttribDivisor(index, b.divisor);\n      }\n    }\n  };\n}\n\nfunction matAttribSetter(gl, index, typeInfo) {\n  var defaultSize = typeInfo.size;\n  var count = typeInfo.count;\n  return function (b) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, b.buffer);\n    var numComponents = b.size || b.numComponents || defaultSize;\n    var size = numComponents / count;\n    var type = b.type || gl.FLOAT;\n    var typeInfo = typeMap[type];\n    var stride = typeInfo.size * numComponents;\n    var normalize = b.normalize || false;\n    var offset = b.offset || 0;\n    var rowOffset = stride / count;\n\n    for (var i = 0; i < count; ++i) {\n      gl.enableVertexAttribArray(index + i);\n      gl.vertexAttribPointer(index + i, size, type, normalize, stride, offset + rowOffset * i);\n\n      if (b.divisor !== undefined) {\n        gl.vertexAttribDivisor(index + i, b.divisor);\n      }\n    }\n  };\n}\n\nvar attrTypeMap = {};\nattrTypeMap[FLOAT] = {\n  size: 4,\n  setter: floatAttribSetter\n};\nattrTypeMap[FLOAT_VEC2] = {\n  size: 8,\n  setter: floatAttribSetter\n};\nattrTypeMap[FLOAT_VEC3] = {\n  size: 12,\n  setter: floatAttribSetter\n};\nattrTypeMap[FLOAT_VEC4] = {\n  size: 16,\n  setter: floatAttribSetter\n};\nattrTypeMap[INT] = {\n  size: 4,\n  setter: intAttribSetter\n};\nattrTypeMap[INT_VEC2] = {\n  size: 8,\n  setter: intAttribSetter\n};\nattrTypeMap[INT_VEC3] = {\n  size: 12,\n  setter: intAttribSetter\n};\nattrTypeMap[INT_VEC4] = {\n  size: 16,\n  setter: intAttribSetter\n};\nattrTypeMap[UNSIGNED_INT] = {\n  size: 4,\n  setter: uintAttribSetter\n};\nattrTypeMap[UNSIGNED_INT_VEC2] = {\n  size: 8,\n  setter: uintAttribSetter\n};\nattrTypeMap[UNSIGNED_INT_VEC3] = {\n  size: 12,\n  setter: uintAttribSetter\n};\nattrTypeMap[UNSIGNED_INT_VEC4] = {\n  size: 16,\n  setter: uintAttribSetter\n};\nattrTypeMap[BOOL] = {\n  size: 4,\n  setter: intAttribSetter\n};\nattrTypeMap[BOOL_VEC2] = {\n  size: 8,\n  setter: intAttribSetter\n};\nattrTypeMap[BOOL_VEC3] = {\n  size: 12,\n  setter: intAttribSetter\n};\nattrTypeMap[BOOL_VEC4] = {\n  size: 16,\n  setter: intAttribSetter\n};\nattrTypeMap[FLOAT_MAT2] = {\n  size: 4,\n  setter: matAttribSetter,\n  count: 2\n};\nattrTypeMap[FLOAT_MAT3] = {\n  size: 9,\n  setter: matAttribSetter,\n  count: 3\n};\nattrTypeMap[FLOAT_MAT4] = {\n  size: 16,\n  setter: matAttribSetter,\n  count: 4\n}; // make sure we don't see a global gl\n\nvar gl = undefined; // eslint-disable-line\n\n/**\n * Error Callback\n * @callback ErrorCallback\n * @param {string} msg error message.\n * @param {number} [lineOffset] amount to add to line number\n * @memberOf module:twgl\n */\n\nfunction addLineNumbers(src, lineOffset) {\n  lineOffset = lineOffset || 0;\n  ++lineOffset;\n  return src.split(\"\\n\").map(function (line, ndx) {\n    return ndx + lineOffset + \": \" + line;\n  }).join(\"\\n\");\n}\n\nvar spaceRE = /^[ \\t]*\\n/;\n/**\n * Loads a shader.\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {string} shaderSource The shader source.\n * @param {number} shaderType The type of shader.\n * @param {module:twgl.ErrorCallback} opt_errorCallback callback for errors.\n * @return {WebGLShader} The created shader.\n * @private\n */\n\nfunction loadShader(gl, shaderSource, shaderType, opt_errorCallback) {\n  var errFn = opt_errorCallback || error; // Create the shader object\n\n  var shader = gl.createShader(shaderType); // Remove the first end of line because WebGL 2.0 requires\n  // #version 300 es\n  // as the first line. No whitespace allowed before that line\n  // so\n  //\n  // <script>\n  // #version 300 es\n  // </script>\n  //\n  // Has one line before it which is invalid according to GLSL ES 3.00\n  //\n\n  var lineOffset = 0;\n\n  if (spaceRE.test(shaderSource)) {\n    lineOffset = 1;\n    shaderSource = shaderSource.replace(spaceRE, '');\n  } // Load the shader source\n\n\n  gl.shaderSource(shader, shaderSource); // Compile the shader\n\n  gl.compileShader(shader); // Check the compile status\n\n  var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n  if (!compiled) {\n    // Something went wrong during compilation; get the error\n    var lastError = gl.getShaderInfoLog(shader);\n    errFn(addLineNumbers(shaderSource, lineOffset) + \"\\n*** Error compiling shader: \" + lastError);\n    gl.deleteShader(shader);\n    return null;\n  }\n\n  return shader;\n}\n/**\n * @typedef {Object} ProgramOptions\n * @property {function(string)} [errorCallback] callback for errors\n * @property {Object.<string,number>} [attribLocations] a attribute name to location map\n * @property {(module:twgl.BufferInfo|Object.<string,module:twgl.AttribInfo>|string[])} [transformFeedbackVaryings] If passed\n *   a BufferInfo will use the attribs names inside. If passed an object of AttribInfos will use the names from that object. Otherwise\n *   you can pass an array of names.\n * @property {number} [transformFeedbackMode] the mode to pass `gl.transformFeedbackVaryings`. Defaults to `SEPARATE_ATTRIBS`.\n * @memberOf module:twgl\n */\n\n/**\n * Gets the program options based on all these optional arguments\n * @param {module:twgl.ProgramOptions|string[]} [opt_attribs] Options for the program or an array of attribs names. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations] The locations for the. A parallel array to opt_attribs letting you assign locations.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {module:twgl.ProgramOptions} an instance of ProgramOptions based on the arguments pased on\n * @private\n */\n\n\nfunction getProgramOptions(opt_attribs, opt_locations, opt_errorCallback) {\n  var transformFeedbackVaryings;\n\n  if (typeof opt_locations === 'function') {\n    opt_errorCallback = opt_locations;\n    opt_locations = undefined;\n  }\n\n  if (typeof opt_attribs === 'function') {\n    opt_errorCallback = opt_attribs;\n    opt_attribs = undefined;\n  } else if (opt_attribs && !Array.isArray(opt_attribs)) {\n    // If we have an errorCallback we can just return this object\n    // Otherwise we need to construct one with default errorCallback\n    if (opt_attribs.errorCallback) {\n      return opt_attribs;\n    }\n\n    var opt = opt_attribs;\n    opt_errorCallback = opt.errorCallback;\n    opt_attribs = opt.attribLocations;\n    transformFeedbackVaryings = opt.transformFeedbackVaryings;\n  }\n\n  var options = {\n    errorCallback: opt_errorCallback || error,\n    transformFeedbackVaryings: transformFeedbackVaryings\n  };\n\n  if (opt_attribs) {\n    var attribLocations = {};\n\n    if (Array.isArray(opt_attribs)) {\n      opt_attribs.forEach(function (attrib, ndx) {\n        attribLocations[attrib] = opt_locations ? opt_locations[ndx] : ndx;\n      });\n    } else {\n      attribLocations = opt_attribs;\n    }\n\n    options.attribLocations = attribLocations;\n  }\n\n  return options;\n}\n\nvar defaultShaderType = [\"VERTEX_SHADER\", \"FRAGMENT_SHADER\"];\n\nfunction getShaderTypeFromScriptType(gl, scriptType) {\n  if (scriptType.indexOf(\"frag\") >= 0) {\n    return gl.FRAGMENT_SHADER;\n  } else if (scriptType.indexOf(\"vert\") >= 0) {\n    return gl.VERTEX_SHADER;\n  }\n\n  return undefined;\n}\n\nfunction deleteShaders(gl, shaders) {\n  shaders.forEach(function (shader) {\n    gl.deleteShader(shader);\n  });\n}\n/**\n * Creates a program, attaches (and/or compiles) shaders, binds attrib locations, links the\n * program and calls useProgram.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgram(gl, [vs, fs], options);\n *     twgl.createProgram(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgram(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgram(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLShader[]|string[]} shaders The shaders to attach, or element ids for their source, or strings that contain their source\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error.\n * @memberOf module:twgl/programs\n */\n\n\nfunction createProgram(gl, shaders, opt_attribs, opt_locations, opt_errorCallback) {\n  var progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  var realShaders = [];\n  var newShaders = [];\n\n  for (var ndx = 0; ndx < shaders.length; ++ndx) {\n    var shader = shaders[ndx];\n\n    if (typeof shader === 'string') {\n      var elem = getElementById(shader);\n      var src = elem ? elem.text : shader;\n      var type = gl[defaultShaderType[ndx]];\n\n      if (elem && elem.type) {\n        type = getShaderTypeFromScriptType(gl, elem.type) || type;\n      }\n\n      shader = loadShader(gl, src, type, progOptions.errorCallback);\n      newShaders.push(shader);\n    }\n\n    if (helper.isShader(gl, shader)) {\n      realShaders.push(shader);\n    }\n  }\n\n  if (realShaders.length !== shaders.length) {\n    progOptions.errorCallback(\"not enough shaders for program\");\n    deleteShaders(gl, newShaders);\n    return null;\n  }\n\n  var program = gl.createProgram();\n  realShaders.forEach(function (shader) {\n    gl.attachShader(program, shader);\n  });\n\n  if (progOptions.attribLocations) {\n    Object.keys(progOptions.attribLocations).forEach(function (attrib) {\n      gl.bindAttribLocation(program, progOptions.attribLocations[attrib], attrib);\n    });\n  }\n\n  var varyings = progOptions.transformFeedbackVaryings;\n\n  if (varyings) {\n    if (varyings.attribs) {\n      varyings = varyings.attribs;\n    }\n\n    if (!Array.isArray(varyings)) {\n      varyings = Object.keys(varyings);\n    }\n\n    gl.transformFeedbackVaryings(program, varyings, progOptions.transformFeedbackMode || gl.SEPARATE_ATTRIBS);\n  }\n\n  gl.linkProgram(program); // Check the link status\n\n  var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n  if (!linked) {\n    // something went wrong with the link\n    var lastError = gl.getProgramInfoLog(program);\n    progOptions.errorCallback(\"Error in program linking:\" + lastError);\n    gl.deleteProgram(program);\n    deleteShaders(gl, newShaders);\n    return null;\n  }\n\n  return program;\n}\n/**\n * Loads a shader from a script tag.\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {string} scriptId The id of the script tag.\n * @param {number} [opt_shaderType] The type of shader. If not passed in it will\n *     be derived from the type of the script tag.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors.\n * @return {WebGLShader?} The created shader or null if error.\n * @private\n */\n\n\nfunction createShaderFromScript(gl, scriptId, opt_shaderType, opt_errorCallback) {\n  var shaderSource = \"\";\n  var shaderScript = getElementById(scriptId);\n\n  if (!shaderScript) {\n    throw new Error(\"unknown script element: \".concat(scriptId));\n  }\n\n  shaderSource = shaderScript.text;\n  var shaderType = opt_shaderType || getShaderTypeFromScriptType(gl, shaderScript.type);\n\n  if (!shaderType) {\n    throw new Error('unknown shader type');\n  }\n\n  return loadShader(gl, shaderSource, shaderType, opt_errorCallback);\n}\n/**\n * Creates a program from 2 script tags.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_options);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderScriptIds Array of ids of the script\n *        tags for the shaders. The first is assumed to be the\n *        vertex shader, the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error.\n * @memberOf module:twgl/programs\n */\n\n\nfunction createProgramFromScripts(gl, shaderScriptIds, opt_attribs, opt_locations, opt_errorCallback) {\n  var progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  var shaders = [];\n\n  for (var ii = 0; ii < shaderScriptIds.length; ++ii) {\n    var shader = createShaderFromScript(gl, shaderScriptIds[ii], gl[defaultShaderType[ii]], progOptions.errorCallback);\n\n    if (!shader) {\n      return null;\n    }\n\n    shaders.push(shader);\n  }\n\n  return createProgram(gl, shaders, progOptions);\n}\n/**\n * Creates a program from 2 sources.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_options);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderSources Array of sources for the\n *        shaders. The first is assumed to be the vertex shader,\n *        the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error.\n * @memberOf module:twgl/programs\n */\n\n\nfunction createProgramFromSources(gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {\n  var progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  var shaders = [];\n\n  for (var ii = 0; ii < shaderSources.length; ++ii) {\n    var shader = loadShader(gl, shaderSources[ii], gl[defaultShaderType[ii]], progOptions.errorCallback);\n\n    if (!shader) {\n      return null;\n    }\n\n    shaders.push(shader);\n  }\n\n  return createProgram(gl, shaders, progOptions);\n}\n/**\n * Returns true if attribute/uniform is a reserved/built in\n *\n * It makes no sense to me why GL returns these because it's\n * illegal to call `gl.getUniformLocation` and `gl.getAttribLocation`\n * with names that start with `gl_` (and `webgl_` in WebGL)\n *\n * I can only assume they are there because they might count\n * when computing the number of uniforms/attributes used when you want to\n * know if you are near the limit. That doesn't really make sense\n * to me but the fact that these get returned are in the spec.\n *\n * @param {WebGLActiveInfo} info As returned from `gl.getActiveUniform` or\n *    `gl.getActiveAttrib`.\n * @return {bool} true if it's reserved\n * @private\n */\n\n\nfunction isBuiltIn(info) {\n  var name = info.name;\n  return name.startsWith(\"gl_\") || name.startsWith(\"webgl_\");\n}\n/**\n * Creates setter functions for all uniforms of a shader\n * program.\n *\n * @see {@link module:twgl.setUniforms}\n *\n * @param {WebGLProgram} program the program to create setters for.\n * @returns {Object.<string, function>} an object with a setter by name for each uniform\n * @memberOf module:twgl/programs\n */\n\n\nfunction createUniformSetters(gl, program) {\n  var textureUnit = 0;\n  /**\n   * Creates a setter for a uniform of the given program with it's\n   * location embedded in the setter.\n   * @param {WebGLProgram} program\n   * @param {WebGLUniformInfo} uniformInfo\n   * @returns {function} the created setter.\n   */\n\n  function createUniformSetter(program, uniformInfo) {\n    var location = gl.getUniformLocation(program, uniformInfo.name);\n    var isArray = uniformInfo.size > 1 && uniformInfo.name.substr(-3) === \"[0]\";\n    var type = uniformInfo.type;\n    var typeInfo = typeMap[type];\n\n    if (!typeInfo) {\n      throw new Error(\"unknown type: 0x\".concat(type.toString(16))); // we should never get here.\n    }\n\n    var setter;\n\n    if (typeInfo.bindPoint) {\n      // it's a sampler\n      var unit = textureUnit;\n      textureUnit += uniformInfo.size;\n\n      if (isArray) {\n        setter = typeInfo.arraySetter(gl, type, unit, location, uniformInfo.size);\n      } else {\n        setter = typeInfo.setter(gl, type, unit, location, uniformInfo.size);\n      }\n    } else {\n      if (typeInfo.arraySetter && isArray) {\n        setter = typeInfo.arraySetter(gl, location);\n      } else {\n        setter = typeInfo.setter(gl, location);\n      }\n    }\n\n    setter.location = location;\n    return setter;\n  }\n\n  var uniformSetters = {};\n  var numUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n  for (var ii = 0; ii < numUniforms; ++ii) {\n    var uniformInfo = gl.getActiveUniform(program, ii);\n\n    if (isBuiltIn(uniformInfo)) {\n      continue;\n    }\n\n    var name = uniformInfo.name; // remove the array suffix.\n\n    if (name.substr(-3) === \"[0]\") {\n      name = name.substr(0, name.length - 3);\n    }\n\n    var setter = createUniformSetter(program, uniformInfo);\n    uniformSetters[name] = setter;\n  }\n\n  return uniformSetters;\n}\n/**\n * @typedef {Object} TransformFeedbackInfo\n * @property {number} index index of transform feedback\n * @property {number} type GL type\n * @property {number} size 1 - 4\n * @memberOf module:twgl\n */\n\n/**\n * Create TransformFeedbackInfo for passing to bindTransformFeedbackInfo.\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLProgram} program an existing WebGLProgram.\n * @return {Object<string, module:twgl.TransformFeedbackInfo>}\n * @memberOf module:twgl\n */\n\n\nfunction createTransformFeedbackInfo(gl, program) {\n  var info = {};\n  var numVaryings = gl.getProgramParameter(program, gl.TRANSFORM_FEEDBACK_VARYINGS);\n\n  for (var ii = 0; ii < numVaryings; ++ii) {\n    var varying = gl.getTransformFeedbackVarying(program, ii);\n    info[varying.name] = {\n      index: ii,\n      type: varying.type,\n      size: varying.size\n    };\n  }\n\n  return info;\n}\n/**\n * Binds buffers for transform feedback.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {(module:twgl.ProgramInfo|Object<string, module:twgl.TransformFeedbackInfo>)} transformFeedbackInfo A ProgramInfo or TransformFeedbackInfo.\n * @param {(module:twgl.BufferInfo|Object<string, module:twgl.AttribInfo>)} [bufferInfo] A BufferInfo or set of AttribInfos.\n * @memberOf module:twgl\n */\n\n\nfunction bindTransformFeedbackInfo(gl, transformFeedbackInfo, bufferInfo) {\n  if (transformFeedbackInfo.transformFeedbackInfo) {\n    transformFeedbackInfo = transformFeedbackInfo.transformFeedbackInfo;\n  }\n\n  if (bufferInfo.attribs) {\n    bufferInfo = bufferInfo.attribs;\n  }\n\n  for (var name in bufferInfo) {\n    var varying = transformFeedbackInfo[name];\n\n    if (varying) {\n      var buf = bufferInfo[name];\n\n      if (buf.offset) {\n        gl.bindBufferRange(gl.TRANSFORM_FEEDBACK_BUFFER, varying.index, buf.buffer, buf.offset, buf.size);\n      } else {\n        gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, varying.index, buf.buffer);\n      }\n    }\n  }\n}\n/**\n * Creates a transform feedback and sets the buffers\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {module:twgl.ProgramInfo} programInfo A ProgramInfo as returned from {@link module:twgl.createProgramInfo}\n * @param {(module:twgl.BufferInfo|Object<string, module:twgl.AttribInfo>)} [bufferInfo] A BufferInfo or set of AttribInfos.\n * @return {WebGLTransformFeedback} the created transform feedback\n * @memberOf module:twgl\n */\n\n\nfunction createTransformFeedback(gl, programInfo, bufferInfo) {\n  var tf = gl.createTransformFeedback();\n  gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, tf);\n  gl.useProgram(programInfo.program);\n  bindTransformFeedbackInfo(gl, programInfo, bufferInfo);\n  gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);\n  return tf;\n}\n/**\n * @typedef {Object} UniformData\n * @property {number} type The WebGL type enum for this uniform\n * @property {number} size The number of elements for this uniform\n * @property {number} blockNdx The block index this uniform appears in\n * @property {number} offset The byte offset in the block for this uniform's value\n * @memberOf module:twgl\n */\n\n/**\n * The specification for one UniformBlockObject\n *\n * @typedef {Object} BlockSpec\n * @property {number} index The index of the block.\n * @property {number} size The size in bytes needed for the block\n * @property {number[]} uniformIndices The indices of the uniforms used by the block. These indices\n *    correspond to entries in a UniformData array in the {@link module:twgl.UniformBlockSpec}.\n * @property {bool} usedByVertexShader Self explanitory\n * @property {bool} usedByFragmentShader Self explanitory\n * @property {bool} used Self explanitory\n * @memberOf module:twgl\n */\n\n/**\n * A `UniformBlockSpec` represents the data needed to create and bind\n * UniformBlockObjects for a given program\n *\n * @typedef {Object} UniformBlockSpec\n * @property {Object.<string, module:twgl.BlockSpec> blockSpecs The BlockSpec for each block by block name\n * @property {UniformData[]} uniformData An array of data for each uniform by uniform index.\n * @memberOf module:twgl\n */\n\n/**\n * Creates a UniformBlockSpec for the given program.\n *\n * A UniformBlockSpec represents the data needed to create and bind\n * UniformBlockObjects\n *\n * @param {WebGL2RenderingContext} gl A WebGL2 Rendering Context\n * @param {WebGLProgram} program A WebGLProgram for a successfully linked program\n * @return {module:twgl.UniformBlockSpec} The created UniformBlockSpec\n * @memberOf module:twgl/programs\n */\n\n\nfunction createUniformBlockSpecFromProgram(gl, program) {\n  var numUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  var uniformData = [];\n  var uniformIndices = [];\n\n  for (var ii = 0; ii < numUniforms; ++ii) {\n    uniformIndices.push(ii);\n    uniformData.push({});\n    var uniformInfo = gl.getActiveUniform(program, ii);\n\n    if (isBuiltIn(uniformInfo)) {\n      break;\n    } // REMOVE [0]?\n\n\n    uniformData[ii].name = uniformInfo.name;\n  }\n\n  [[\"UNIFORM_TYPE\", \"type\"], [\"UNIFORM_SIZE\", \"size\"], // num elements\n  [\"UNIFORM_BLOCK_INDEX\", \"blockNdx\"], [\"UNIFORM_OFFSET\", \"offset\"]].forEach(function (pair) {\n    var pname = pair[0];\n    var key = pair[1];\n    gl.getActiveUniforms(program, uniformIndices, gl[pname]).forEach(function (value, ndx) {\n      uniformData[ndx][key] = value;\n    });\n  });\n  var blockSpecs = {};\n  var numUniformBlocks = gl.getProgramParameter(program, gl.ACTIVE_UNIFORM_BLOCKS);\n\n  for (var _ii = 0; _ii < numUniformBlocks; ++_ii) {\n    var name = gl.getActiveUniformBlockName(program, _ii);\n    var blockSpec = {\n      index: _ii,\n      usedByVertexShader: gl.getActiveUniformBlockParameter(program, _ii, gl.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),\n      usedByFragmentShader: gl.getActiveUniformBlockParameter(program, _ii, gl.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),\n      size: gl.getActiveUniformBlockParameter(program, _ii, gl.UNIFORM_BLOCK_DATA_SIZE),\n      uniformIndices: gl.getActiveUniformBlockParameter(program, _ii, gl.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)\n    };\n    blockSpec.used = blockSpec.usedByVertexSahder || blockSpec.usedByFragmentShader;\n    blockSpecs[name] = blockSpec;\n  }\n\n  return {\n    blockSpecs: blockSpecs,\n    uniformData: uniformData\n  };\n}\n\nvar arraySuffixRE = /\\[\\d+\\]\\.$/; // better way to check?\n\n/**\n * Represents a UniformBlockObject including an ArrayBuffer with all the uniform values\n * and a corresponding WebGLBuffer to hold those values on the GPU\n *\n * @typedef {Object} UniformBlockInfo\n * @property {string} name The name of the block\n * @property {ArrayBuffer} array The array buffer that contains the uniform values\n * @property {Float32Array} asFloat A float view on the array buffer. This is useful\n *    inspecting the contents of the buffer in the debugger.\n * @property {WebGLBuffer} buffer A WebGL buffer that will hold a copy of the uniform values for rendering.\n * @property {number} [offset] offset into buffer\n * @property {Object.<string, ArrayBufferView>} uniforms A uniform name to ArrayBufferView map.\n *   each Uniform has a correctly typed `ArrayBufferView` into array at the correct offset\n *   and length of that uniform. So for example a float uniform would have a 1 float `Float32Array`\n *   view. A single mat4 would have a 16 element `Float32Array` view. An ivec2 would have an\n *   `Int32Array` view, etc.\n * @memberOf module:twgl\n */\n\n/**\n * Creates a `UniformBlockInfo` for the specified block\n *\n * Note: **If the blockName matches no existing blocks a warning is printed to the console and a dummy\n * `UniformBlockInfo` is returned**. This is because when debugging GLSL\n * it is common to comment out large portions of a shader or for example set\n * the final output to a constant. When that happens blocks get optimized out.\n * If this function did not create dummy blocks your code would crash when debugging.\n *\n * @param {WebGL2RenderingContext} gl A WebGL2RenderingContext\n * @param {WebGLProgram} program A WebGLProgram\n * @param {module:twgl.UniformBlockSpec} uinformBlockSpec. A UniformBlockSpec as returned\n *     from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {string} blockName The name of the block.\n * @return {module:twgl.UniformBlockInfo} The created UniformBlockInfo\n * @memberOf module:twgl/programs\n */\n\nfunction createUniformBlockInfoFromProgram(gl, program, uniformBlockSpec, blockName) {\n  var blockSpecs = uniformBlockSpec.blockSpecs;\n  var uniformData = uniformBlockSpec.uniformData;\n  var blockSpec = blockSpecs[blockName];\n\n  if (!blockSpec) {\n    warn(\"no uniform block object named:\", blockName);\n    return {\n      name: blockName,\n      uniforms: {}\n    };\n  }\n\n  var array = new ArrayBuffer(blockSpec.size);\n  var buffer = gl.createBuffer();\n  var uniformBufferIndex = blockSpec.index;\n  gl.bindBuffer(gl.UNIFORM_BUFFER, buffer);\n  gl.uniformBlockBinding(program, blockSpec.index, uniformBufferIndex);\n  var prefix = blockName + \".\";\n\n  if (arraySuffixRE.test(prefix)) {\n    prefix = prefix.replace(arraySuffixRE, \".\");\n  }\n\n  var uniforms = {};\n  blockSpec.uniformIndices.forEach(function (uniformNdx) {\n    var data = uniformData[uniformNdx];\n    var typeInfo = typeMap[data.type];\n    var Type = typeInfo.Type;\n    var length = data.size * typeInfo.size;\n    var name = data.name;\n\n    if (name.substr(0, prefix.length) === prefix) {\n      name = name.substr(prefix.length);\n    }\n\n    uniforms[name] = new Type(array, data.offset, length / Type.BYTES_PER_ELEMENT);\n  });\n  return {\n    name: blockName,\n    array: array,\n    asFloat: new Float32Array(array),\n    // for debugging\n    buffer: buffer,\n    uniforms: uniforms\n  };\n}\n/**\n * Creates a `UniformBlockInfo` for the specified block\n *\n * Note: **If the blockName matches no existing blocks a warning is printed to the console and a dummy\n * `UniformBlockInfo` is returned**. This is because when debugging GLSL\n * it is common to comment out large portions of a shader or for example set\n * the final output to a constant. When that happens blocks get optimized out.\n * If this function did not create dummy blocks your code would crash when debugging.\n *\n * @param {WebGL2RenderingContext} gl A WebGL2RenderingContext\n * @param {module:twgl.ProgramInfo} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo}\n * @param {string} blockName The name of the block.\n * @return {module:twgl.UniformBlockInfo} The created UniformBlockInfo\n * @memberOf module:twgl/programs\n */\n\n\nfunction createUniformBlockInfo(gl, programInfo, blockName) {\n  return createUniformBlockInfoFromProgram(gl, programInfo.program, programInfo.uniformBlockSpec, blockName);\n}\n/**\n * Binds a unform block to the matching uniform block point.\n * Matches by blocks by name so blocks must have the same name not just the same\n * structure.\n *\n * If you have changed any values and you upload the valus into the corresponding WebGLBuffer\n * call {@link module:twgl.setUniformBlock} instead.\n *\n * @param {WebGL2RenderingContext} gl A WebGL 2 rendering context.\n * @param {(module:twgl.ProgramInfo|module:twgl.UniformBlockSpec)} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo} or or `UniformBlockSpec` as\n *     returned from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo a `UniformBlockInfo` as returned from\n *     {@link module:twgl.createUniformBlockInfo}.\n * @return {bool} true if buffer was bound. If the programInfo has no block with the same block name\n *     no buffer is bound.\n * @memberOf module:twgl/programs\n */\n\n\nfunction bindUniformBlock(gl, programInfo, uniformBlockInfo) {\n  var uniformBlockSpec = programInfo.uniformBlockSpec || programInfo;\n  var blockSpec = uniformBlockSpec.blockSpecs[uniformBlockInfo.name];\n\n  if (blockSpec) {\n    var bufferBindIndex = blockSpec.index;\n    gl.bindBufferRange(gl.UNIFORM_BUFFER, bufferBindIndex, uniformBlockInfo.buffer, uniformBlockInfo.offset || 0, uniformBlockInfo.array.byteLength);\n    return true;\n  }\n\n  return false;\n}\n/**\n * Uploads the current uniform values to the corresponding WebGLBuffer\n * and binds that buffer to the program's corresponding bind point for the uniform block object.\n *\n * If you haven't changed any values and you only need to bind the uniform block object\n * call {@link module:twgl.bindUniformBlock} instead.\n *\n * @param {WebGL2RenderingContext} gl A WebGL 2 rendering context.\n * @param {(module:twgl.ProgramInfo|module:twgl.UniformBlockSpec)} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo} or or `UniformBlockSpec` as\n *     returned from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo a `UniformBlockInfo` as returned from\n *     {@link module:twgl.createUniformBlockInfo}.\n * @memberOf module:twgl/programs\n */\n\n\nfunction setUniformBlock(gl, programInfo, uniformBlockInfo) {\n  if (bindUniformBlock(gl, programInfo, uniformBlockInfo)) {\n    gl.bufferData(gl.UNIFORM_BUFFER, uniformBlockInfo.array, gl.DYNAMIC_DRAW);\n  }\n}\n/**\n * Sets values of a uniform block object\n *\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo A UniformBlockInfo as returned by {@link module:twgl.createUniformBlockInfo}.\n * @param {Object.<string, ?>} values A uniform name to value map where the value is correct for the given\n *    type of uniform. So for example given a block like\n *\n *       uniform SomeBlock {\n *         float someFloat;\n *         vec2 someVec2;\n *         vec3 someVec3Array[2];\n *         int someInt;\n *       }\n *\n *  You can set the values of the uniform block with\n *\n *       twgl.setBlockUniforms(someBlockInfo, {\n *          someFloat: 12.3,\n *          someVec2: [1, 2],\n *          someVec3Array: [1, 2, 3, 4, 5, 6],\n *          someInt: 5,\n *       }\n *\n *  Arrays can be JavaScript arrays or typed arrays\n *\n *  Any name that doesn't match will be ignored\n * @memberOf module:twgl/programs\n */\n\n\nfunction setBlockUniforms(uniformBlockInfo, values) {\n  var uniforms = uniformBlockInfo.uniforms;\n\n  for (var name in values) {\n    var array = uniforms[name];\n\n    if (array) {\n      var value = values[name];\n\n      if (value.length) {\n        array.set(value);\n      } else {\n        array[0] = value;\n      }\n    }\n  }\n}\n/**\n * Set uniforms and binds related textures.\n *\n * example:\n *\n *     const programInfo = createProgramInfo(\n *         gl, [\"some-vs\", \"some-fs\"]);\n *\n *     const tex1 = gl.createTexture();\n *     const tex2 = gl.createTexture();\n *\n *     ... assume we setup the textures with data ...\n *\n *     const uniforms = {\n *       u_someSampler: tex1,\n *       u_someOtherSampler: tex2,\n *       u_someColor: [1,0,0,1],\n *       u_somePosition: [0,1,1],\n *       u_someMatrix: [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ],\n *     };\n *\n *     gl.useProgram(program);\n *\n * This will automatically bind the textures AND set the\n * uniforms.\n *\n *     twgl.setUniforms(programInfo, uniforms);\n *\n * For the example above it is equivalent to\n *\n *     var texUnit = 0;\n *     gl.activeTexture(gl.TEXTURE0 + texUnit);\n *     gl.bindTexture(gl.TEXTURE_2D, tex1);\n *     gl.uniform1i(u_someSamplerLocation, texUnit++);\n *     gl.activeTexture(gl.TEXTURE0 + texUnit);\n *     gl.bindTexture(gl.TEXTURE_2D, tex2);\n *     gl.uniform1i(u_someSamplerLocation, texUnit++);\n *     gl.uniform4fv(u_someColorLocation, [1, 0, 0, 1]);\n *     gl.uniform3fv(u_somePositionLocation, [0, 1, 1]);\n *     gl.uniformMatrix4fv(u_someMatrix, false, [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ]);\n *\n * Note it is perfectly reasonable to call `setUniforms` multiple times. For example\n *\n *     const uniforms = {\n *       u_someSampler: tex1,\n *       u_someOtherSampler: tex2,\n *     };\n *\n *     const moreUniforms {\n *       u_someColor: [1,0,0,1],\n *       u_somePosition: [0,1,1],\n *       u_someMatrix: [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ],\n *     };\n *\n *     twgl.setUniforms(programInfo, uniforms);\n *     twgl.setUniforms(programInfo, moreUniforms);\n *\n * You can also add WebGLSamplers to uniform samplers as in\n *\n *     const uniforms = {\n *       u_someSampler: {\n *         texture: someWebGLTexture,\n *         sampler: someWebGLSampler,\n *       },\n *     };\n *\n * In which case both the sampler and texture will be bound to the\n * same unit.\n *\n * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters a `ProgramInfo` as returned from `createProgramInfo` or the setters returned from\n *        `createUniformSetters`.\n * @param {Object.<string, ?>} values an object with values for the\n *        uniforms.\n *   You can pass multiple objects by putting them in an array or by calling with more arguments.For example\n *\n *     const sharedUniforms = {\n *       u_fogNear: 10,\n *       u_projection: ...\n *       ...\n *     };\n *\n *     const localUniforms = {\n *       u_world: ...\n *       u_diffuseColor: ...\n *     };\n *\n *     twgl.setUniforms(programInfo, sharedUniforms, localUniforms);\n *\n *     // is the same as\n *\n *     twgl.setUniforms(programInfo, [sharedUniforms, localUniforms]);\n *\n *     // is the same as\n *\n *     twgl.setUniforms(programInfo, sharedUniforms);\n *     twgl.setUniforms(programInfo, localUniforms};\n *\n * @memberOf module:twgl/programs\n */\n\n\nfunction setUniforms(setters, values) {\n  // eslint-disable-line\n  var actualSetters = setters.uniformSetters || setters;\n  var numArgs = arguments.length;\n\n  for (var andx = 1; andx < numArgs; ++andx) {\n    var vals = arguments[andx];\n\n    if (Array.isArray(vals)) {\n      var numValues = vals.length;\n\n      for (var ii = 0; ii < numValues; ++ii) {\n        setUniforms(actualSetters, vals[ii]);\n      }\n    } else {\n      for (var name in vals) {\n        var setter = actualSetters[name];\n\n        if (setter) {\n          setter(vals[name]);\n        }\n      }\n    }\n  }\n}\n/**\n * Creates setter functions for all attributes of a shader\n * program. You can pass this to {@link module:twgl.setBuffersAndAttributes} to set all your buffers and attributes.\n *\n * @see {@link module:twgl.setAttributes} for example\n * @param {WebGLProgram} program the program to create setters for.\n * @return {Object.<string, function>} an object with a setter for each attribute by name.\n * @memberOf module:twgl/programs\n */\n\n\nfunction createAttributeSetters(gl, program) {\n  var attribSetters = {};\n  var numAttribs = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n  for (var ii = 0; ii < numAttribs; ++ii) {\n    var attribInfo = gl.getActiveAttrib(program, ii);\n\n    if (isBuiltIn(attribInfo)) {\n      continue;\n    }\n\n    var index = gl.getAttribLocation(program, attribInfo.name);\n    var typeInfo = attrTypeMap[attribInfo.type];\n    var setter = typeInfo.setter(gl, index, typeInfo);\n    setter.location = index;\n    attribSetters[attribInfo.name] = setter;\n  }\n\n  return attribSetters;\n}\n/**\n * Sets attributes and binds buffers (deprecated... use {@link module:twgl.setBuffersAndAttributes})\n *\n * Example:\n *\n *     const program = createProgramFromScripts(\n *         gl, [\"some-vs\", \"some-fs\");\n *\n *     const attribSetters = createAttributeSetters(program);\n *\n *     const positionBuffer = gl.createBuffer();\n *     const texcoordBuffer = gl.createBuffer();\n *\n *     const attribs = {\n *       a_position: {buffer: positionBuffer, numComponents: 3},\n *       a_texcoord: {buffer: texcoordBuffer, numComponents: 2},\n *     };\n *\n *     gl.useProgram(program);\n *\n * This will automatically bind the buffers AND set the\n * attributes.\n *\n *     setAttributes(attribSetters, attribs);\n *\n * Properties of attribs. For each attrib you can add\n * properties:\n *\n * *   type: the type of data in the buffer. Default = gl.FLOAT\n * *   normalize: whether or not to normalize the data. Default = false\n * *   stride: the stride. Default = 0\n * *   offset: offset into the buffer. Default = 0\n * *   divisor: the divisor for instances. Default = undefined\n *\n * For example if you had 3 value float positions, 2 value\n * float texcoord and 4 value uint8 colors you'd setup your\n * attribs like this\n *\n *     const attribs = {\n *       a_position: {buffer: positionBuffer, numComponents: 3},\n *       a_texcoord: {buffer: texcoordBuffer, numComponents: 2},\n *       a_color: {\n *         buffer: colorBuffer,\n *         numComponents: 4,\n *         type: gl.UNSIGNED_BYTE,\n *         normalize: true,\n *       },\n *     };\n *\n * @param {Object.<string, function>} setters Attribute setters as returned from createAttributeSetters\n * @param {Object.<string, module:twgl.AttribInfo>} buffers AttribInfos mapped by attribute name.\n * @memberOf module:twgl/programs\n * @deprecated use {@link module:twgl.setBuffersAndAttributes}\n */\n\n\nfunction setAttributes(setters, buffers) {\n  for (var name in buffers) {\n    var setter = setters[name];\n\n    if (setter) {\n      setter(buffers[name]);\n    }\n  }\n}\n/**\n * Sets attributes and buffers including the `ELEMENT_ARRAY_BUFFER` if appropriate\n *\n * Example:\n *\n *     const programInfo = createProgramInfo(\n *         gl, [\"some-vs\", \"some-fs\");\n *\n *     const arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *     };\n *\n *     const bufferInfo = createBufferInfoFromArrays(gl, arrays);\n *\n *     gl.useProgram(programInfo.program);\n *\n * This will automatically bind the buffers AND set the\n * attributes.\n *\n *     setBuffersAndAttributes(gl, programInfo, bufferInfo);\n *\n * For the example above it is equivilent to\n *\n *     gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n *     gl.enableVertexAttribArray(a_positionLocation);\n *     gl.vertexAttribPointer(a_positionLocation, 3, gl.FLOAT, false, 0, 0);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n *     gl.enableVertexAttribArray(a_texcoordLocation);\n *     gl.vertexAttribPointer(a_texcoordLocation, 4, gl.FLOAT, false, 0, 0);\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters A `ProgramInfo` as returned from {@link module:twgl.createProgrmaInfo} or Attribute setters as returned from {@link module:twgl.createAttributeSetters}\n * @param {(module:twgl.BufferInfo|module:twgl.VertexArrayInfo)} buffers a `BufferInfo` as returned from {@link module:twgl.createBufferInfoFromArrays}.\n *   or a `VertexArrayInfo` as returned from {@link module:twgl.createVertexArrayInfo}\n * @memberOf module:twgl/programs\n */\n\n\nfunction setBuffersAndAttributes(gl, programInfo, buffers) {\n  if (buffers.vertexArrayObject) {\n    gl.bindVertexArray(buffers.vertexArrayObject);\n  } else {\n    setAttributes(programInfo.attribSetters || programInfo, buffers.attribs);\n\n    if (buffers.indices) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffers.indices);\n    }\n  }\n}\n/**\n * @typedef {Object} ProgramInfo\n * @property {WebGLProgram} program A shader program\n * @property {Object<string, function>} uniformSetters object of setters as returned from createUniformSetters,\n * @property {Object<string, function>} attribSetters object of setters as returned from createAttribSetters,\n * @propetty {module:twgl.UniformBlockSpec} [uniformBlockSpace] a uniform block spec for making UniformBlockInfos with createUniformBlockInfo etc..\n * @property {Object<string, module:twgl.TransformFeedbackInfo>} [transformFeedbackInfo] info for transform feedbacks\n * @memberOf module:twgl\n */\n\n/**\n * Creates a ProgramInfo from an existing program.\n *\n * A ProgramInfo contains\n *\n *     programInfo = {\n *        program: WebGLProgram,\n *        uniformSetters: object of setters as returned from createUniformSetters,\n *        attribSetters: object of setters as returned from createAttribSetters,\n *     }\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {WebGLProgram} program an existing WebGLProgram.\n * @return {module:twgl.ProgramInfo} The created ProgramInfo.\n * @memberOf module:twgl/programs\n */\n\n\nfunction createProgramInfoFromProgram(gl, program) {\n  var uniformSetters = createUniformSetters(gl, program);\n  var attribSetters = createAttributeSetters(gl, program);\n  var programInfo = {\n    program: program,\n    uniformSetters: uniformSetters,\n    attribSetters: attribSetters\n  };\n\n  if (utils.isWebGL2(gl)) {\n    programInfo.uniformBlockSpec = createUniformBlockSpecFromProgram(gl, program);\n    programInfo.transformFeedbackInfo = createTransformFeedbackInfo(gl, program);\n  }\n\n  return programInfo;\n}\n/**\n * Creates a ProgramInfo from 2 sources.\n *\n * A ProgramInfo contains\n *\n *     programInfo = {\n *        program: WebGLProgram,\n *        uniformSetters: object of setters as returned from createUniformSetters,\n *        attribSetters: object of setters as returned from createAttribSetters,\n *     }\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramInfo(gl, [vs, fs], options);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderSources Array of sources for the\n *        shaders or ids. The first is assumed to be the vertex shader,\n *        the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {module:twgl.ProgramInfo?} The created ProgramInfo or null if it failed to link or compile\n * @memberOf module:twgl/programs\n */\n\n\nfunction createProgramInfo(gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {\n  var progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  var good = true;\n  shaderSources = shaderSources.map(function (source) {\n    // Lets assume if there is no \\n it's an id\n    if (source.indexOf(\"\\n\") < 0) {\n      var script = getElementById(source);\n\n      if (!script) {\n        progOptions.errorCallback(\"no element with id: \" + source);\n        good = false;\n      } else {\n        source = script.text;\n      }\n    }\n\n    return source;\n  });\n\n  if (!good) {\n    return null;\n  }\n\n  var program = createProgramFromSources(gl, shaderSources, progOptions);\n\n  if (!program) {\n    return null;\n  }\n\n  return createProgramInfoFromProgram(gl, program);\n}\n\n/***/ }),\n\n/***/ \"./src/textures.js\":\n/*!*************************!*\\\n  !*** ./src/textures.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.setTextureDefaults_ = setDefaults;\nexports.createSampler = createSampler;\nexports.createSamplers = createSamplers;\nexports.setSamplerParameters = setSamplerParameters;\nexports.createTexture = createTexture;\nexports.setEmptyTexture = setEmptyTexture;\nexports.setTextureFromArray = setTextureFromArray;\nexports.loadTextureFromUrl = loadTextureFromUrl;\nexports.setTextureFromElement = setTextureFromElement;\nexports.setTextureFilteringForSize = setTextureFilteringForSize;\nexports.setTextureParameters = setTextureParameters;\nexports.setDefaultTextureColor = setDefaultTextureColor;\nexports.createTextures = createTextures;\nexports.resizeTexture = resizeTexture;\nexports.canGenerateMipmap = canGenerateMipmap;\nexports.canFilter = canFilter;\nexports.getNumComponentsForFormat = getNumComponentsForFormat;\nexports.getBytesPerElementForInternalFormat = getBytesPerElementForInternalFormat;\nexports.getFormatAndTypeForInternalFormat = getFormatAndTypeForInternalFormat;\n\nvar utils = _interopRequireWildcard(__webpack_require__(/*! ./utils.js */ \"./src/utils.js\"));\n\nvar typedArrays = _interopRequireWildcard(__webpack_require__(/*! ./typedarrays.js */ \"./src/typedarrays.js\"));\n\nvar helper = _interopRequireWildcard(__webpack_require__(/*! ./helper.js */ \"./src/helper.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Low level texture related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibily they are available at both `twgl.textures` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/textures\n */\n// make sure we don't see a global gl\nvar gl = undefined; // eslint-disable-line\n\nvar defaults = {\n  textureColor: new Uint8Array([128, 192, 255, 255]),\n  textureOptions: {},\n  crossOrigin: undefined\n};\nvar isArrayBuffer = typedArrays.isArrayBuffer; // Should we make this on demand?\n\nvar ctx = typeof document !== 'undefined' && document.createElement ? document.createElement(\"canvas\").getContext(\"2d\") : null; // NOTE: Chrome supports 2D canvas in a Worker (behind flag as of v64 but\n//       not only does Firefox NOT support it but Firefox freezes immediately\n//       if you try to create one instead of just returning null and continuing.\n//  : (global.OffscreenCanvas && (new global.OffscreenCanvas(1, 1)).getContext(\"2d\"));  // OffscreenCanvas may not support 2d\n// NOTE: We can maybe remove some of the need for the 2d canvas. In WebGL2\n// we can use the various unpack settings. Otherwise we could try using\n// the ability of an imagebitmap to be cut. Unfortunately cutting an imagebitmap\n// is async and the current TWGL code expects a non-Async result though that\n// might not be a problem. ImageBitmap though is not available in Edge or Safari\n// as of 2018-01-02\n\n/* PixelFormat */\n\nvar ALPHA = 0x1906;\nvar RGB = 0x1907;\nvar RGBA = 0x1908;\nvar LUMINANCE = 0x1909;\nvar LUMINANCE_ALPHA = 0x190A;\nvar DEPTH_COMPONENT = 0x1902;\nvar DEPTH_STENCIL = 0x84F9;\n/* TextureWrapMode */\n\nvar REPEAT = 0x2901; // eslint-disable-line\n\nvar MIRRORED_REPEAT = 0x8370; // eslint-disable-line\n\n/* TextureMagFilter */\n\nvar NEAREST = 0x2600; // eslint-disable-line\n\n/* TextureMinFilter */\n\nvar NEAREST_MIPMAP_NEAREST = 0x2700; // eslint-disable-line\n\nvar LINEAR_MIPMAP_NEAREST = 0x2701; // eslint-disable-line\n\nvar NEAREST_MIPMAP_LINEAR = 0x2702; // eslint-disable-line\n\nvar LINEAR_MIPMAP_LINEAR = 0x2703; // eslint-disable-line\n\nvar R8 = 0x8229;\nvar R8_SNORM = 0x8F94;\nvar R16F = 0x822D;\nvar R32F = 0x822E;\nvar R8UI = 0x8232;\nvar R8I = 0x8231;\nvar RG16UI = 0x823A;\nvar RG16I = 0x8239;\nvar RG32UI = 0x823C;\nvar RG32I = 0x823B;\nvar RG8 = 0x822B;\nvar RG8_SNORM = 0x8F95;\nvar RG16F = 0x822F;\nvar RG32F = 0x8230;\nvar RG8UI = 0x8238;\nvar RG8I = 0x8237;\nvar R16UI = 0x8234;\nvar R16I = 0x8233;\nvar R32UI = 0x8236;\nvar R32I = 0x8235;\nvar RGB8 = 0x8051;\nvar SRGB8 = 0x8C41;\nvar RGB565 = 0x8D62;\nvar RGB8_SNORM = 0x8F96;\nvar R11F_G11F_B10F = 0x8C3A;\nvar RGB9_E5 = 0x8C3D;\nvar RGB16F = 0x881B;\nvar RGB32F = 0x8815;\nvar RGB8UI = 0x8D7D;\nvar RGB8I = 0x8D8F;\nvar RGB16UI = 0x8D77;\nvar RGB16I = 0x8D89;\nvar RGB32UI = 0x8D71;\nvar RGB32I = 0x8D83;\nvar RGBA8 = 0x8058;\nvar SRGB8_ALPHA8 = 0x8C43;\nvar RGBA8_SNORM = 0x8F97;\nvar RGB5_A1 = 0x8057;\nvar RGBA4 = 0x8056;\nvar RGB10_A2 = 0x8059;\nvar RGBA16F = 0x881A;\nvar RGBA32F = 0x8814;\nvar RGBA8UI = 0x8D7C;\nvar RGBA8I = 0x8D8E;\nvar RGB10_A2UI = 0x906F;\nvar RGBA16UI = 0x8D76;\nvar RGBA16I = 0x8D88;\nvar RGBA32I = 0x8D82;\nvar RGBA32UI = 0x8D70;\nvar DEPTH_COMPONENT16 = 0x81A5;\nvar DEPTH_COMPONENT24 = 0x81A6;\nvar DEPTH_COMPONENT32F = 0x8CAC;\nvar DEPTH32F_STENCIL8 = 0x8CAD;\nvar DEPTH24_STENCIL8 = 0x88F0;\n/* DataType */\n\nvar BYTE = 0x1400;\nvar UNSIGNED_BYTE = 0x1401;\nvar SHORT = 0x1402;\nvar UNSIGNED_SHORT = 0x1403;\nvar INT = 0x1404;\nvar UNSIGNED_INT = 0x1405;\nvar FLOAT = 0x1406;\nvar UNSIGNED_SHORT_4_4_4_4 = 0x8033;\nvar UNSIGNED_SHORT_5_5_5_1 = 0x8034;\nvar UNSIGNED_SHORT_5_6_5 = 0x8363;\nvar HALF_FLOAT = 0x140B;\nvar HALF_FLOAT_OES = 0x8D61; // Thanks Khronos for making this different >:(\n\nvar UNSIGNED_INT_2_10_10_10_REV = 0x8368;\nvar UNSIGNED_INT_10F_11F_11F_REV = 0x8C3B;\nvar UNSIGNED_INT_5_9_9_9_REV = 0x8C3E;\nvar FLOAT_32_UNSIGNED_INT_24_8_REV = 0x8DAD;\nvar UNSIGNED_INT_24_8 = 0x84FA;\nvar RG = 0x8227;\nvar RG_INTEGER = 0x8228;\nvar RED = 0x1903;\nvar RED_INTEGER = 0x8D94;\nvar RGB_INTEGER = 0x8D98;\nvar RGBA_INTEGER = 0x8D99;\nvar formatInfo = {};\n{\n  // NOTE: this is named `numColorComponents` vs `numComponents` so we can let Uglify mangle\n  // the name.\n  var f = formatInfo;\n  f[ALPHA] = {\n    numColorComponents: 1\n  };\n  f[LUMINANCE] = {\n    numColorComponents: 1\n  };\n  f[LUMINANCE_ALPHA] = {\n    numColorComponents: 2\n  };\n  f[RGB] = {\n    numColorComponents: 3\n  };\n  f[RGBA] = {\n    numColorComponents: 4\n  };\n  f[RED] = {\n    numColorComponents: 1\n  };\n  f[RED_INTEGER] = {\n    numColorComponents: 1\n  };\n  f[RG] = {\n    numColorComponents: 2\n  };\n  f[RG_INTEGER] = {\n    numColorComponents: 2\n  };\n  f[RGB] = {\n    numColorComponents: 3\n  };\n  f[RGB_INTEGER] = {\n    numColorComponents: 3\n  };\n  f[RGBA] = {\n    numColorComponents: 4\n  };\n  f[RGBA_INTEGER] = {\n    numColorComponents: 4\n  };\n  f[DEPTH_COMPONENT] = {\n    numColorComponents: 1\n  };\n  f[DEPTH_STENCIL] = {\n    numColorComponents: 2\n  };\n}\n/**\n * @typedef {Object} TextureFormatDetails\n * @property {number} textureFormat format to pass texImage2D and similar functions.\n * @property {boolean} colorRenderable true if you can render to this format of texture.\n * @property {boolean} textureFilterable true if you can filter the texture, false if you can ony use `NEAREST`.\n * @property {number[]} type Array of possible types you can pass to teximage2D and similar function\n * @property {Object.<number,number>} bytesPerElementMap A map of types to bytes per element\n * @private\n */\n\nvar textureInternalFormatInfo = {};\n{\n  // NOTE: these properties need unique names so we can let Uglify mangle the name.\n  var t = textureInternalFormatInfo; // unsized formats\n\n  t[ALPHA] = {\n    textureFormat: ALPHA,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [1, 2, 2, 4],\n    type: [UNSIGNED_BYTE, HALF_FLOAT, HALF_FLOAT_OES, FLOAT]\n  };\n  t[LUMINANCE] = {\n    textureFormat: LUMINANCE,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [1, 2, 2, 4],\n    type: [UNSIGNED_BYTE, HALF_FLOAT, HALF_FLOAT_OES, FLOAT]\n  };\n  t[LUMINANCE_ALPHA] = {\n    textureFormat: LUMINANCE_ALPHA,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [2, 4, 4, 8],\n    type: [UNSIGNED_BYTE, HALF_FLOAT, HALF_FLOAT_OES, FLOAT]\n  };\n  t[RGB] = {\n    textureFormat: RGB,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [3, 6, 6, 12, 2],\n    type: [UNSIGNED_BYTE, HALF_FLOAT, HALF_FLOAT_OES, FLOAT, UNSIGNED_SHORT_5_6_5]\n  };\n  t[RGBA] = {\n    textureFormat: RGBA,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [4, 8, 8, 16, 2, 2],\n    type: [UNSIGNED_BYTE, HALF_FLOAT, HALF_FLOAT_OES, FLOAT, UNSIGNED_SHORT_4_4_4_4, UNSIGNED_SHORT_5_5_5_1]\n  }; // sized formats\n\n  t[R8] = {\n    textureFormat: RED,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [1],\n    type: [UNSIGNED_BYTE]\n  };\n  t[R8_SNORM] = {\n    textureFormat: RED,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [1],\n    type: [BYTE]\n  };\n  t[R16F] = {\n    textureFormat: RED,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [4, 2],\n    type: [FLOAT, HALF_FLOAT]\n  };\n  t[R32F] = {\n    textureFormat: RED,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [FLOAT]\n  };\n  t[R8UI] = {\n    textureFormat: RED_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [1],\n    type: [UNSIGNED_BYTE]\n  };\n  t[R8I] = {\n    textureFormat: RED_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [1],\n    type: [BYTE]\n  };\n  t[R16UI] = {\n    textureFormat: RED_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [2],\n    type: [UNSIGNED_SHORT]\n  };\n  t[R16I] = {\n    textureFormat: RED_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [2],\n    type: [SHORT]\n  };\n  t[R32UI] = {\n    textureFormat: RED_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [UNSIGNED_INT]\n  };\n  t[R32I] = {\n    textureFormat: RED_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [INT]\n  };\n  t[RG8] = {\n    textureFormat: RG,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [2],\n    type: [UNSIGNED_BYTE]\n  };\n  t[RG8_SNORM] = {\n    textureFormat: RG,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [2],\n    type: [BYTE]\n  };\n  t[RG16F] = {\n    textureFormat: RG,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [8, 4],\n    type: [FLOAT, HALF_FLOAT]\n  };\n  t[RG32F] = {\n    textureFormat: RG,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [8],\n    type: [FLOAT]\n  };\n  t[RG8UI] = {\n    textureFormat: RG_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [2],\n    type: [UNSIGNED_BYTE]\n  };\n  t[RG8I] = {\n    textureFormat: RG_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [2],\n    type: [BYTE]\n  };\n  t[RG16UI] = {\n    textureFormat: RG_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [UNSIGNED_SHORT]\n  };\n  t[RG16I] = {\n    textureFormat: RG_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [SHORT]\n  };\n  t[RG32UI] = {\n    textureFormat: RG_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [8],\n    type: [UNSIGNED_INT]\n  };\n  t[RG32I] = {\n    textureFormat: RG_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [8],\n    type: [INT]\n  };\n  t[RGB8] = {\n    textureFormat: RGB,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [3],\n    type: [UNSIGNED_BYTE]\n  };\n  t[SRGB8] = {\n    textureFormat: RGB,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [3],\n    type: [UNSIGNED_BYTE]\n  };\n  t[RGB565] = {\n    textureFormat: RGB,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [3, 2],\n    type: [UNSIGNED_BYTE, UNSIGNED_SHORT_5_6_5]\n  };\n  t[RGB8_SNORM] = {\n    textureFormat: RGB,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [3],\n    type: [BYTE]\n  };\n  t[R11F_G11F_B10F] = {\n    textureFormat: RGB,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [12, 6, 4],\n    type: [FLOAT, HALF_FLOAT, UNSIGNED_INT_10F_11F_11F_REV]\n  };\n  t[RGB9_E5] = {\n    textureFormat: RGB,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [12, 6, 4],\n    type: [FLOAT, HALF_FLOAT, UNSIGNED_INT_5_9_9_9_REV]\n  };\n  t[RGB16F] = {\n    textureFormat: RGB,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [12, 6],\n    type: [FLOAT, HALF_FLOAT]\n  };\n  t[RGB32F] = {\n    textureFormat: RGB,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [12],\n    type: [FLOAT]\n  };\n  t[RGB8UI] = {\n    textureFormat: RGB_INTEGER,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [3],\n    type: [UNSIGNED_BYTE]\n  };\n  t[RGB8I] = {\n    textureFormat: RGB_INTEGER,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [3],\n    type: [BYTE]\n  };\n  t[RGB16UI] = {\n    textureFormat: RGB_INTEGER,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [6],\n    type: [UNSIGNED_SHORT]\n  };\n  t[RGB16I] = {\n    textureFormat: RGB_INTEGER,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [6],\n    type: [SHORT]\n  };\n  t[RGB32UI] = {\n    textureFormat: RGB_INTEGER,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [12],\n    type: [UNSIGNED_INT]\n  };\n  t[RGB32I] = {\n    textureFormat: RGB_INTEGER,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [12],\n    type: [INT]\n  };\n  t[RGBA8] = {\n    textureFormat: RGBA,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [4],\n    type: [UNSIGNED_BYTE]\n  };\n  t[SRGB8_ALPHA8] = {\n    textureFormat: RGBA,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [4],\n    type: [UNSIGNED_BYTE]\n  };\n  t[RGBA8_SNORM] = {\n    textureFormat: RGBA,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [4],\n    type: [BYTE]\n  };\n  t[RGB5_A1] = {\n    textureFormat: RGBA,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [4, 2, 4],\n    type: [UNSIGNED_BYTE, UNSIGNED_SHORT_5_5_5_1, UNSIGNED_INT_2_10_10_10_REV]\n  };\n  t[RGBA4] = {\n    textureFormat: RGBA,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [4, 2],\n    type: [UNSIGNED_BYTE, UNSIGNED_SHORT_4_4_4_4]\n  };\n  t[RGB10_A2] = {\n    textureFormat: RGBA,\n    colorRenderable: true,\n    textureFilterable: true,\n    bytesPerElement: [4],\n    type: [UNSIGNED_INT_2_10_10_10_REV]\n  };\n  t[RGBA16F] = {\n    textureFormat: RGBA,\n    colorRenderable: false,\n    textureFilterable: true,\n    bytesPerElement: [16, 8],\n    type: [FLOAT, HALF_FLOAT]\n  };\n  t[RGBA32F] = {\n    textureFormat: RGBA,\n    colorRenderable: false,\n    textureFilterable: false,\n    bytesPerElement: [16],\n    type: [FLOAT]\n  };\n  t[RGBA8UI] = {\n    textureFormat: RGBA_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [UNSIGNED_BYTE]\n  };\n  t[RGBA8I] = {\n    textureFormat: RGBA_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [BYTE]\n  };\n  t[RGB10_A2UI] = {\n    textureFormat: RGBA_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [UNSIGNED_INT_2_10_10_10_REV]\n  };\n  t[RGBA16UI] = {\n    textureFormat: RGBA_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [8],\n    type: [UNSIGNED_SHORT]\n  };\n  t[RGBA16I] = {\n    textureFormat: RGBA_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [8],\n    type: [SHORT]\n  };\n  t[RGBA32I] = {\n    textureFormat: RGBA_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [16],\n    type: [INT]\n  };\n  t[RGBA32UI] = {\n    textureFormat: RGBA_INTEGER,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [16],\n    type: [UNSIGNED_INT]\n  }; // Sized Internal\n\n  t[DEPTH_COMPONENT16] = {\n    textureFormat: DEPTH_COMPONENT,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [2, 4],\n    type: [UNSIGNED_SHORT, UNSIGNED_INT]\n  };\n  t[DEPTH_COMPONENT24] = {\n    textureFormat: DEPTH_COMPONENT,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [UNSIGNED_INT]\n  };\n  t[DEPTH_COMPONENT32F] = {\n    textureFormat: DEPTH_COMPONENT,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [FLOAT]\n  };\n  t[DEPTH24_STENCIL8] = {\n    textureFormat: DEPTH_STENCIL,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [UNSIGNED_INT_24_8]\n  };\n  t[DEPTH32F_STENCIL8] = {\n    textureFormat: DEPTH_STENCIL,\n    colorRenderable: true,\n    textureFilterable: false,\n    bytesPerElement: [4],\n    type: [FLOAT_32_UNSIGNED_INT_24_8_REV]\n  };\n  Object.keys(t).forEach(function (internalFormat) {\n    var info = t[internalFormat];\n    info.bytesPerElementMap = {};\n    info.bytesPerElement.forEach(function (bytesPerElement, ndx) {\n      var type = info.type[ndx];\n      info.bytesPerElementMap[type] = bytesPerElement;\n    });\n  });\n}\n/**\n * Gets the number of bytes per element for a given internalFormat / type\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @param {number} type The type parameter for texImage2D etc..\n * @return {number} the number of bytes per element for the given internalFormat, type combo\n * @memberOf module:twgl/textures\n */\n\nfunction getBytesPerElementForInternalFormat(internalFormat, type) {\n  var info = textureInternalFormatInfo[internalFormat];\n\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n\n  var bytesPerElement = info.bytesPerElementMap[type];\n\n  if (bytesPerElement === undefined) {\n    throw \"unknown internal format\";\n  }\n\n  return bytesPerElement;\n}\n/**\n * Info related to a specific texture internalFormat as returned\n * from {@link module:twgl/textures.getFormatAndTypeForInternalFormat}.\n *\n * @typedef {Object} TextureFormatInfo\n * @property {number} format Format to pass to texImage2D and related functions\n * @property {number} type Type to pass to texImage2D and related functions\n * @memberOf module:twgl/textures\n */\n\n/**\n * Gets the format and type for a given internalFormat\n *\n * @param {number} internalFormat The internal format\n * @return {module:twgl/textures.TextureFormatInfo} the corresponding format and type,\n * @memberOf module:twgl/textures\n */\n\n\nfunction getFormatAndTypeForInternalFormat(internalFormat) {\n  var info = textureInternalFormatInfo[internalFormat];\n\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n\n  return {\n    format: info.textureFormat,\n    type: info.type[0]\n  };\n}\n/**\n * Returns true if value is power of 2\n * @param {number} value number to check.\n * @return true if value is power of 2\n * @private\n */\n\n\nfunction isPowerOf2(value) {\n  return (value & value - 1) === 0;\n}\n/**\n * Gets whether or not we can generate mips for the given\n * internal format.\n *\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @param {number} type The type parameter for texImage2D etc..\n * @return {boolean} true if we can generate mips\n * @memberOf module:twgl/textures\n */\n\n\nfunction canGenerateMipmap(gl, width, height, internalFormat\n/*, type */\n) {\n  if (!utils.isWebGL2(gl)) {\n    return isPowerOf2(width) && isPowerOf2(height);\n  }\n\n  var info = textureInternalFormatInfo[internalFormat];\n\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n\n  return info.colorRenderable && info.textureFilterable;\n}\n/**\n * Gets whether or not we can generate mips for the given format\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @param {number} type The type parameter for texImage2D etc..\n * @return {boolean} true if we can generate mips\n * @memberOf module:twgl/textures\n */\n\n\nfunction canFilter(internalFormat\n/*, type */\n) {\n  var info = textureInternalFormatInfo[internalFormat];\n\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n\n  return info.textureFilterable;\n}\n/**\n * Gets the number of compontents for a given image format.\n * @param {number} format the format.\n * @return {number} the number of components for the format.\n * @memberOf module:twgl/textures\n */\n\n\nfunction getNumComponentsForFormat(format) {\n  var info = formatInfo[format];\n\n  if (!info) {\n    throw \"unknown format: \" + format;\n  }\n\n  return info.numColorComponents;\n}\n/**\n * Gets the texture type for a given array type.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @return {number} the gl texture type\n * @private\n */\n\n\nfunction getTextureTypeForArrayType(gl, src, defaultType) {\n  if (isArrayBuffer(src)) {\n    return typedArrays.getGLTypeForTypedArray(src);\n  }\n\n  return defaultType || gl.UNSIGNED_BYTE;\n}\n\nfunction guessDimensions(gl, target, width, height, numElements) {\n  if (numElements % 1 !== 0) {\n    throw \"can't guess dimensions\";\n  }\n\n  if (!width && !height) {\n    var size = Math.sqrt(numElements / (target === gl.TEXTURE_CUBE_MAP ? 6 : 1));\n\n    if (size % 1 === 0) {\n      width = size;\n      height = size;\n    } else {\n      width = numElements;\n      height = 1;\n    }\n  } else if (!height) {\n    height = numElements / width;\n\n    if (height % 1) {\n      throw \"can't guess dimensions\";\n    }\n  } else if (!width) {\n    width = numElements / height;\n\n    if (width % 1) {\n      throw \"can't guess dimensions\";\n    }\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n/**\n * Sets the default texture color.\n *\n * The default texture color is used when loading textures from\n * urls. Because the URL will be loaded async we'd like to be\n * able to use the texture immediately. By putting a 1x1 pixel\n * color in the texture we can start using the texture before\n * the URL has loaded.\n *\n * @param {number[]} color Array of 4 values in the range 0 to 1\n * @deprecated see {@link module:twgl.setDefaults}\n * @memberOf module:twgl/textures\n */\n\n\nfunction setDefaultTextureColor(color) {\n  defaults.textureColor = new Uint8Array([color[0] * 255, color[1] * 255, color[2] * 255, color[3] * 255]);\n}\n\nfunction setDefaults(newDefaults) {\n  helper.copyExistingProperties(newDefaults, defaults);\n\n  if (newDefaults.textureColor) {\n    setDefaultTextureColor(newDefaults.textureColor);\n  }\n}\n/**\n * A function to generate the source for a texture.\n * @callback TextureFunc\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options the texture options\n * @return {*} Returns any of the things documentented for `src` for {@link module:twgl.TextureOptions}.\n * @memberOf module:twgl\n */\n\n/**\n * Texture options passed to most texture functions. Each function will use whatever options\n * are appropriate for its needs. This lets you pass the same options to all functions.\n *\n * Note: A `TexImageSource` is defined in the WebGL spec as a `HTMLImageElement`, `HTMLVideoElement`,\n * `HTMLCanvasElement`, `ImageBitmap`, or `ImageData`.\n *\n * @typedef {Object} TextureOptions\n * @property {number} [target] the type of texture `gl.TEXTURE_2D` or `gl.TEXTURE_CUBE_MAP`. Defaults to `gl.TEXTURE_2D`.\n * @property {number} [level] the mip level to affect. Defaults to 0. Note, if set auto will be considered false unless explicitly set to true.\n * @property {number} [width] the width of the texture. Only used if src is an array or typed array or null.\n * @property {number} [height] the height of a texture. Only used if src is an array or typed array or null.\n * @property {number} [depth] the depth of a texture. Only used if src is an array or type array or null and target is `TEXTURE_3D` .\n * @property {number} [min] the min filter setting (eg. `gl.LINEAR`). Defaults to `gl.NEAREST_MIPMAP_LINEAR`\n *     or if texture is not a power of 2 on both dimensions then defaults to `gl.LINEAR`.\n * @property {number} [mag] the mag filter setting (eg. `gl.LINEAR`). Defaults to `gl.LINEAR`\n * @property {number} [minMag] both the min and mag filter settings.\n * @property {number} [internalFormat] internal format for texture. Defaults to `gl.RGBA`\n * @property {number} [format] format for texture. Defaults to `gl.RGBA`.\n * @property {number} [type] type for texture. Defaults to `gl.UNSIGNED_BYTE` unless `src` is ArrayBufferView. If `src`\n *     is ArrayBufferView defaults to type that matches ArrayBufferView type.\n * @property {number} [wrap] Texture wrapping for both S and T (and R if TEXTURE_3D or WebGLSampler). Defaults to `gl.REPEAT` for 2D unless src is WebGL1 and src not npot and `gl.CLAMP_TO_EDGE` for cube\n * @property {number} [wrapS] Texture wrapping for S. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [wrapT] Texture wrapping for T. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [wrapR] Texture wrapping for R. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [minLod] TEXTURE_MIN_LOD setting\n * @property {number} [maxLod] TEXTURE_MAX_LOD setting\n * @property {number} [baseLevel] TEXTURE_BASE_LEVEL setting\n * @property {number} [maxLevel] TEXTURE_MAX_LEVEL setting\n * @property {number} [unpackAlignment] The `gl.UNPACK_ALIGNMENT` used when uploading an array. Defaults to 1.\n * @property {number[]|ArrayBufferView} [color] Color to initialize this texture with if loading an image asynchronously.\n *     The default use a blue 1x1 pixel texture. You can set another default by calling `twgl.setDefaults`\n *     or you can set an individual texture's initial color by setting this property. Example: `[1, .5, .5, 1]` = pink\n * @property {number} [premultiplyAlpha] Whether or not to premultiply alpha. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {number} [flipY] Whether or not to flip the texture vertically on upload. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {number} [colorspaceConversion] Whether or not to let the browser do colorspace conversion of the texture on upload. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {boolean} [auto] If `undefined` or `true`, in WebGL1, texture filtering is set automatically for non-power of 2 images and\n *    mips are generated for power of 2 images. In WebGL2 mips are generated if they can be. Note: if `level` is set above\n *    then then `auto` is assumed to be `false` unless explicity set to `true`.\n * @property {number[]} [cubeFaceOrder] The order that cube faces are pulled out of an img or set of images. The default is\n *\n *     [gl.TEXTURE_CUBE_MAP_POSITIVE_X,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_X,\n *      gl.TEXTURE_CUBE_MAP_POSITIVE_Y,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,\n *      gl.TEXTURE_CUBE_MAP_POSITIVE_Z,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_Z]\n *\n * @property {(number[]|ArrayBufferView|TexImageSource|TexImageSource[]|string|string[]|module:twgl.TextureFunc)} [src] source for texture\n *\n *    If `string` then it's assumed to be a URL to an image. The image will be downloaded async. A usable\n *    1x1 pixel texture will be returned immediatley. The texture will be updated once the image has downloaded.\n *    If `target` is `gl.TEXTURE_CUBE_MAP` will attempt to divide image into 6 square pieces. 1x6, 6x1, 3x2, 2x3.\n *    The pieces will be uploaded in `cubeFaceOrder`\n *\n *    If `string[]` or `TexImageSource[]` and target is `gl.TEXTURE_CUBE_MAP` then it must have 6 entries, one for each face of a cube map.\n *\n *    If `string[]` or `TexImageSource[]` and target is `gl.TEXTURE_2D_ARRAY` then eact entry is a slice of the a 2d array texture\n *    and will be scaled to the specified width and height OR to the size of the first image that loads.\n *\n *    If `TexImageSource` then it wil be used immediately to create the contents of the texture. Examples `HTMLImageElement`,\n *    `HTMLCanvasElement`, `HTMLVideoElement`.\n *\n *    If `number[]` or `ArrayBufferView` it's assumed to be data for a texture. If `width` or `height` is\n *    not specified it is guessed as follows. First the number of elements is computed by `src.length / numComponents`\n *    where `numComponents` is derived from `format`. If `target` is `gl.TEXTURE_CUBE_MAP` then `numElements` is divided\n *    by 6. Then\n *\n *    *   If neither `width` nor `height` are specified and `sqrt(numElements)` is an integer then width and height\n *        are set to `sqrt(numElements)`. Otherwise `width = numElements` and `height = 1`.\n *\n *    *   If only one of `width` or `height` is specified then the other equals `numElements / specifiedDimension`.\n *\n * If `number[]` will be converted to `type`.\n *\n * If `src` is a function it will be called with a `WebGLRenderingContext` and these options.\n * Whatever it returns is subject to these rules. So it can return a string url, an `HTMLElement`\n * an array etc...\n *\n * If `src` is undefined then an empty texture will be created of size `width` by `height`.\n *\n * @property {string} [crossOrigin] What to set the crossOrigin property of images when they are downloaded.\n *    default: undefined. Also see {@link module:twgl.setDefaults}.\n *\n * @memberOf module:twgl\n */\n// NOTE: While querying GL is considered slow it's not remotely as slow\n// as uploading a texture. On top of that you're unlikely to call this in\n// a perf critical loop. Even if upload a texture every frame that's unlikely\n// to be more than 1 or 2 textures a frame. In other words, the benefits of\n// making the API easy to use outweigh any supposed perf benefits\n//\n// Also note I get that having one global of these is bad practice.\n// As long as it's used correctly it means no garbage which probably\n// doesn't matter when dealing with textures but old habits die hard.\n\n\nvar lastPackState = {};\n/**\n * Saves any packing state that will be set based on the options.\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\n\nfunction savePackState(gl, options) {\n  if (options.colorspaceConversion !== undefined) {\n    lastPackState.colorspaceConversion = gl.getParameter(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL);\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, options.colorspaceConversion);\n  }\n\n  if (options.premultiplyAlpha !== undefined) {\n    lastPackState.premultiplyAlpha = gl.getParameter(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL);\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, options.premultiplyAlpha);\n  }\n\n  if (options.flipY !== undefined) {\n    lastPackState.flipY = gl.getParameter(gl.UNPACK_FLIP_Y_WEBGL);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, options.flipY);\n  }\n}\n/**\n * Restores any packing state that was set based on the options.\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\n\n\nfunction restorePackState(gl, options) {\n  if (options.colorspaceConversion !== undefined) {\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, lastPackState.colorspaceConversion);\n  }\n\n  if (options.premultiplyAlpha !== undefined) {\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, lastPackState.premultiplyAlpha);\n  }\n\n  if (options.flipY !== undefined) {\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, lastPackState.flipY);\n  }\n}\n/**\n * Saves state related to data size\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\n\n\nfunction saveSkipState(gl) {\n  lastPackState.unpackAlignment = gl.getParameter(gl.UNPACK_ALIGNMENT);\n\n  if (utils.isWebGL2(gl)) {\n    lastPackState.unpackRowLength = gl.getParameter(gl.UNPACK_ROW_LENGTH);\n    lastPackState.unpackImageHeight = gl.getParameter(gl.UNPACK_IMAGE_HEIGHT);\n    lastPackState.unpackSkipPixels = gl.getParameter(gl.UNPACK_SKIP_PIXELS);\n    lastPackState.unpackSkipRows = gl.getParameter(gl.UNPACK_SKIP_ROWS);\n    lastPackState.unpackSkipImages = gl.getParameter(gl.UNPACK_SKIP_IMAGES);\n  }\n}\n/**\n * Restores state related to data size\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\n\n\nfunction restoreSkipState(gl) {\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, lastPackState.unpackAlignment);\n\n  if (utils.isWebGL2(gl)) {\n    gl.pixelStorei(gl.UNPACK_ROW_LENGTH, lastPackState.unpackRowLength);\n    gl.pixelStorei(gl.UNPACK_IMAGE_HEIGHT, lastPackState.unpackImageHeight);\n    gl.pixelStorei(gl.UNPACK_SKIP_PIXELS, lastPackState.unpackSkipPixels);\n    gl.pixelStorei(gl.UNPACK_SKIP_ROWS, lastPackState.unpackSkipRows);\n    gl.pixelStorei(gl.UNPACK_SKIP_IMAGES, lastPackState.unpackSkipImages);\n  }\n}\n/**\n * Sets the parameters of a texture or sampler\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {number|WebGLSampler} target texture target or sampler\n * @param {function()} parameteriFn texParamteri or samplerParameteri fn\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @private\n */\n\n\nfunction setTextureSamplerParameters(gl, target, parameteriFn, options) {\n  if (options.minMag) {\n    parameteriFn.call(gl, target, gl.TEXTURE_MIN_FILTER, options.minMag);\n    parameteriFn.call(gl, target, gl.TEXTURE_MAG_FILTER, options.minMag);\n  }\n\n  if (options.min) {\n    parameteriFn.call(gl, target, gl.TEXTURE_MIN_FILTER, options.min);\n  }\n\n  if (options.mag) {\n    parameteriFn.call(gl, target, gl.TEXTURE_MAG_FILTER, options.mag);\n  }\n\n  if (options.wrap) {\n    parameteriFn.call(gl, target, gl.TEXTURE_WRAP_S, options.wrap);\n    parameteriFn.call(gl, target, gl.TEXTURE_WRAP_T, options.wrap);\n\n    if (target === gl.TEXTURE_3D || helper.isSampler(gl, target)) {\n      parameteriFn.call(gl, target, gl.TEXTURE_WRAP_R, options.wrap);\n    }\n  }\n\n  if (options.wrapR) {\n    parameteriFn.call(gl, target, gl.TEXTURE_WRAP_R, options.wrapR);\n  }\n\n  if (options.wrapS) {\n    parameteriFn.call(gl, target, gl.TEXTURE_WRAP_S, options.wrapS);\n  }\n\n  if (options.wrapT) {\n    parameteriFn.call(gl, target, gl.TEXTURE_WRAP_T, options.wrapT);\n  }\n\n  if (options.minLod) {\n    parameteriFn.call(gl, target, gl.TEXTURE_MIN_LOD, options.minLod);\n  }\n\n  if (options.maxLod) {\n    parameteriFn.call(gl, target, gl.TEXTURE_MAX_LOD, options.maxLod);\n  }\n\n  if (options.baseLevel) {\n    parameteriFn.call(gl, target, gl.TEXTURE_BASE_LEVEL, options.baseLevel);\n  }\n\n  if (options.maxLevel) {\n    parameteriFn.call(gl, target, gl.TEXTURE_MAX_LEVEL, options.maxLevel);\n  }\n}\n/**\n * Sets the texture parameters of a texture.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n */\n\n\nfunction setTextureParameters(gl, tex, options) {\n  var target = options.target || gl.TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  setTextureSamplerParameters(gl, target, gl.texParameteri, options);\n}\n/**\n * Sets the sampler parameters of a sampler.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLSampler} sampler the WebGLSampler to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @memberOf module:twgl/textures\n */\n\n\nfunction setSamplerParameters(gl, sampler, options) {\n  setTextureSamplerParameters(gl, sampler, gl.samplerParameteri, options);\n}\n/**\n * Creates a new sampler object and sets parameters.\n *\n * Example:\n *\n *      const sampler = twgl.createSampler(gl, {\n *        minMag: gl.NEAREST,         // sets both TEXTURE_MIN_FILTER and TEXTURE_MAG_FILTER\n *        wrap: gl.CLAMP_TO_NEAREST,  // sets both TEXTURE_WRAP_S and TEXTURE_WRAP_T and TEXTURE_WRAP_R\n *      });\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string,module:twgl.TextureOptions>} options A object of TextureOptions one per sampler.\n * @return {Object.<string,WebGLSampler>} the created samplers by name\n * @private\n */\n\n\nfunction createSampler(gl, options) {\n  var sampler = gl.createSampler();\n  setSamplerParameters(gl, sampler, options);\n  return sampler;\n}\n/**\n * Creates a multiple sampler objects and sets parameters on each.\n *\n * Example:\n *\n *      const samplers = twgl.createSamplers(gl, {\n *        nearest: {\n *          minMag: gl.NEAREST,\n *        },\n *        nearestClampS: {\n *          minMag: gl.NEAREST,\n *          wrapS: gl.CLAMP_TO_NEAREST,\n *        },\n *        linear: {\n *          minMag: gl.LINEAR,\n *        },\n *        nearestClamp: {\n *          minMag: gl.NEAREST,\n *          wrap: gl.CLAMP_TO_EDGE,\n *        },\n *        linearClamp: {\n *          minMag: gl.LINEAR,\n *          wrap: gl.CLAMP_TO_EDGE,\n *        },\n *        linearClampT: {\n *          minMag: gl.LINEAR,\n *          wrapT: gl.CLAMP_TO_EDGE,\n *        },\n *      });\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set on the sampler\n * @private\n */\n\n\nfunction createSamplers(gl, samplerOptions) {\n  var samplers = {};\n  Object.keys(samplerOptions).forEach(function (name) {\n    samplers[name] = createSampler(gl, samplerOptions[name]);\n  });\n  return samplers;\n}\n/**\n * Makes a 1x1 pixel\n * If no color is passed in uses the default color which can be set by calling `setDefaultTextureColor`.\n * @param {(number[]|ArrayBufferView)} [color] The color using 0-1 values\n * @return {Uint8Array} Unit8Array with color.\n * @private\n */\n\n\nfunction make1Pixel(color) {\n  color = color || defaults.textureColor;\n\n  if (isArrayBuffer(color)) {\n    return color;\n  }\n\n  return new Uint8Array([color[0] * 255, color[1] * 255, color[2] * 255, color[3] * 255]);\n}\n/**\n * Sets filtering or generates mips for texture based on width or height\n * If width or height is not passed in uses `options.width` and//or `options.height`\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @param {number} [width] width of texture\n * @param {number} [height] height of texture\n * @param {number} [internalFormat] The internalFormat parameter from texImage2D etc..\n * @param {number} [type] The type parameter for texImage2D etc..\n * @memberOf module:twgl/textures\n */\n\n\nfunction setTextureFilteringForSize(gl, tex, options, width, height, internalFormat, type) {\n  options = options || defaults.textureOptions;\n  internalFormat = internalFormat || gl.RGBA;\n  type = type || gl.UNSIGNED_BYTE;\n  var target = options.target || gl.TEXTURE_2D;\n  width = width || options.width;\n  height = height || options.height;\n  gl.bindTexture(target, tex);\n\n  if (canGenerateMipmap(gl, width, height, internalFormat, type)) {\n    gl.generateMipmap(target);\n  } else {\n    var filtering = canFilter(internalFormat, type) ? gl.LINEAR : gl.NEAREST;\n    gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, filtering);\n    gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, filtering);\n    gl.texParameteri(target, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(target, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  }\n}\n\nfunction shouldAutomaticallySetTextureFilteringForSize(options) {\n  return options.auto === true || options.auto === undefined && options.level === undefined;\n}\n/**\n * Gets an array of cubemap face enums\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @return {number[]} cubemap face enums\n * @private\n */\n\n\nfunction getCubeFaceOrder(gl, options) {\n  options = options || {};\n  return options.cubeFaceOrder || [gl.TEXTURE_CUBE_MAP_POSITIVE_X, gl.TEXTURE_CUBE_MAP_NEGATIVE_X, gl.TEXTURE_CUBE_MAP_POSITIVE_Y, gl.TEXTURE_CUBE_MAP_NEGATIVE_Y, gl.TEXTURE_CUBE_MAP_POSITIVE_Z, gl.TEXTURE_CUBE_MAP_NEGATIVE_Z];\n}\n/**\n * @typedef {Object} FaceInfo\n * @property {number} face gl enum for texImage2D\n * @property {number} ndx face index (0 - 5) into source data\n * @ignore\n */\n\n/**\n * Gets an array of FaceInfos\n * There's a bug in some NVidia drivers that will crash the driver if\n * `gl.TEXTURE_CUBE_MAP_POSITIVE_X` is not uploaded first. So, we take\n * the user's desired order from his faces to WebGL and make sure we\n * do the faces in WebGL order\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @return {FaceInfo[]} cubemap face infos. Arguably the `face` property of each element is redundent but\n *    it's needed internally to sort the array of `ndx` properties by `face`.\n * @private\n */\n\n\nfunction getCubeFacesWithNdx(gl, options) {\n  var faces = getCubeFaceOrder(gl, options); // work around bug in NVidia drivers. We have to upload the first face first else the driver crashes :(\n\n  var facesWithNdx = faces.map(function (face, ndx) {\n    return {\n      face: face,\n      ndx: ndx\n    };\n  });\n  facesWithNdx.sort(function (a, b) {\n    return a.face - b.face;\n  });\n  return facesWithNdx;\n}\n/**\n * Set a texture from the contents of an element. Will also set\n * texture filtering or generate mips based on the dimensions of the element\n * unless `options.auto === false`. If `target === gl.TEXTURE_CUBE_MAP` will\n * attempt to slice image into 1x6, 2x3, 3x2, or 6x1 images, one for each face.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {HTMLElement} element a canvas, img, or video element.\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n * @kind function\n */\n\n\nfunction setTextureFromElement(gl, tex, element, options) {\n  options = options || defaults.textureOptions;\n  var target = options.target || gl.TEXTURE_2D;\n  var level = options.level || 0;\n  var width = element.width;\n  var height = element.height;\n  var internalFormat = options.internalFormat || options.format || gl.RGBA;\n  var formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  var format = options.format || formatType.format;\n  var type = options.type || formatType.type;\n  savePackState(gl, options);\n  gl.bindTexture(target, tex);\n\n  if (target === gl.TEXTURE_CUBE_MAP) {\n    // guess the parts\n    var imgWidth = element.width;\n    var imgHeight = element.height;\n    var size;\n    var slices;\n\n    if (imgWidth / 6 === imgHeight) {\n      // It's 6x1\n      size = imgHeight;\n      slices = [0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0];\n    } else if (imgHeight / 6 === imgWidth) {\n      // It's 1x6\n      size = imgWidth;\n      slices = [0, 0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5];\n    } else if (imgWidth / 3 === imgHeight / 2) {\n      // It's 3x2\n      size = imgWidth / 3;\n      slices = [0, 0, 1, 0, 2, 0, 0, 1, 1, 1, 2, 1];\n    } else if (imgWidth / 2 === imgHeight / 3) {\n      // It's 2x3\n      size = imgWidth / 2;\n      slices = [0, 0, 1, 0, 0, 1, 1, 1, 0, 2, 1, 2];\n    } else {\n      throw \"can't figure out cube map from element: \" + (element.src ? element.src : element.nodeName);\n    }\n\n    if (ctx) {\n      ctx.canvas.width = size;\n      ctx.canvas.height = size;\n      width = size;\n      height = size;\n      getCubeFacesWithNdx(gl, options).forEach(function (f) {\n        var xOffset = slices[f.ndx * 2 + 0] * size;\n        var yOffset = slices[f.ndx * 2 + 1] * size;\n        ctx.drawImage(element, xOffset, yOffset, size, size, 0, 0, size, size);\n        gl.texImage2D(f.face, level, internalFormat, format, type, ctx.canvas);\n      }); // Free up the canvas memory\n\n      ctx.canvas.width = 1;\n      ctx.canvas.height = 1;\n    } else if (typeof createImageBitmap !== 'undefined') {\n      // NOTE: It seems like we should prefer ImageBitmap because unlike canvas it's\n      // note lossy? (alpha is not premultiplied? although I'm not sure what\n      width = size;\n      height = size;\n      getCubeFacesWithNdx(gl, options).forEach(function (f) {\n        var xOffset = slices[f.ndx * 2 + 0] * size;\n        var yOffset = slices[f.ndx * 2 + 1] * size; // We can't easily use a default texture color here as it would have to match\n        // the type across all faces where as with a 2D one there's only one face\n        // so we're replacing everything all at once. It also has to be the correct size.\n        // On the other hand we need all faces to be the same size so as one face loads\n        // the rest match else the texture will be unrenderable.\n\n        gl.texImage2D(f.face, level, internalFormat, size, size, 0, format, type, null);\n        createImageBitmap(element, xOffset, yOffset, size, size, {\n          premultiplyAlpha: 'none',\n          colorSpaceConversion: 'none'\n        }).then(function (imageBitmap) {\n          savePackState(gl, options);\n          gl.bindTexture(target, tex);\n          gl.texImage2D(f.face, level, internalFormat, format, type, imageBitmap);\n          restorePackState(gl, options);\n\n          if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n            setTextureFilteringForSize(gl, tex, options, width, height, internalFormat, type);\n          }\n        });\n      });\n    }\n  } else if (target === gl.TEXTURE_3D || target === gl.TEXTURE_2D_ARRAY) {\n    var smallest = Math.min(element.width, element.height);\n    var largest = Math.max(element.width, element.height);\n    var depth = largest / smallest;\n\n    if (depth % 1 !== 0) {\n      throw \"can not compute 3D dimensions of element\";\n    }\n\n    var xMult = element.width === largest ? 1 : 0;\n    var yMult = element.height === largest ? 1 : 0;\n    saveSkipState(gl);\n    gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);\n    gl.pixelStorei(gl.UNPACK_ROW_LENGTH, element.width);\n    gl.pixelStorei(gl.UNPACK_IMAGE_HEIGHT, 0);\n    gl.pixelStorei(gl.UNPACK_SKIP_IMAGES, 0);\n    gl.texImage3D(target, level, internalFormat, smallest, smallest, smallest, 0, format, type, null);\n\n    for (var d = 0; d < depth; ++d) {\n      var srcX = d * smallest * xMult;\n      var srcY = d * smallest * yMult;\n      gl.pixelStorei(gl.UNPACK_SKIP_PIXELS, srcX);\n      gl.pixelStorei(gl.UNPACK_SKIP_ROWS, srcY);\n      gl.texSubImage3D(target, level, 0, 0, d, smallest, smallest, 1, format, type, element);\n    }\n\n    restoreSkipState(gl);\n  } else {\n    gl.texImage2D(target, level, internalFormat, format, type, element);\n  }\n\n  restorePackState(gl, options);\n\n  if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n    setTextureFilteringForSize(gl, tex, options, width, height, internalFormat, type);\n  }\n\n  setTextureParameters(gl, tex, options);\n}\n\nfunction noop() {}\n/**\n * Checks whether the url's origin is the same so that we can set the `crossOrigin`\n * @param {string} url url to image\n * @returns {boolean} true if the window's origin is the same as image's url\n * @private\n */\n\n\nfunction urlIsSameOrigin(url) {\n  if (typeof document !== 'undefined') {\n    // for IE really\n    var a = document.createElement('a');\n    a.href = url;\n    return a.hostname === location.hostname && a.port === location.port && a.protocol === location.protocol;\n  } else {\n    var localOrigin = new URL(location.href).origin;\n    var urlOrigin = new URL(url, location.href).origin;\n    return urlOrigin === localOrigin;\n  }\n}\n\nfunction setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url, crossOrigin) {\n  return crossOrigin === undefined && !urlIsSameOrigin(url) ? 'anonymous' : crossOrigin;\n}\n/**\n * Loads an image\n * @param {string} url url to image\n * @param {string} crossOrigin\n * @param {function(err, img)} [callback] a callback that's passed an error and the image. The error will be non-null\n *     if there was an error\n * @return {HTMLImageElement} the image being loaded.\n * @private\n */\n\n\nfunction loadImage(url, crossOrigin, callback) {\n  callback = callback || noop;\n  var img;\n  crossOrigin = crossOrigin !== undefined ? crossOrigin : defaults.crossOrigin;\n  crossOrigin = setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url, crossOrigin);\n\n  if (typeof Image !== 'undefined') {\n    img = new Image();\n\n    if (crossOrigin !== undefined) {\n      img.crossOrigin = crossOrigin;\n    }\n\n    var clearEventHandlers = function clearEventHandlers() {\n      img.removeEventListener('error', onError); // eslint-disable-line\n\n      img.removeEventListener('load', onLoad); // eslint-disable-line\n\n      img = null;\n    };\n\n    var onError = function onError() {\n      var msg = \"couldn't load image: \" + url;\n      helper.error(msg);\n      callback(msg, img);\n      clearEventHandlers();\n    };\n\n    var onLoad = function onLoad() {\n      callback(null, img);\n      clearEventHandlers();\n    };\n\n    img.addEventListener('error', onError);\n    img.addEventListener('load', onLoad);\n    img.src = url;\n    return img;\n  } else if (typeof ImageBitmap !== 'undefined') {\n    var err;\n    var bm;\n\n    var cb = function cb() {\n      callback(err, bm);\n    };\n\n    var options = {};\n\n    if (crossOrigin) {\n      options.mode = 'cors'; // TODO: not sure how to translate image.crossOrigin\n    }\n\n    fetch(url, options).then(function (response) {\n      if (!response.ok) {\n        throw response;\n      }\n\n      return response.blob();\n    }).then(function (blob) {\n      return createImageBitmap(blob, {\n        premultiplyAlpha: 'none',\n        colorSpaceConversion: 'none'\n      });\n    }).then(function (bitmap) {\n      // not sure if this works. We don't want\n      // to catch the user's error. So, call\n      // the callback in a timeout so we're\n      // not in this scope inside the promise.\n      bm = bitmap;\n      setTimeout(cb);\n    }).catch(function (e) {\n      err = e;\n      setTimeout(cb);\n    });\n    img = null;\n  }\n\n  return img;\n}\n/**\n * check if object is a TexImageSource\n *\n * @param {Object} obj Object to test\n * @return {boolean} true if object is a TexImageSource\n * @private\n */\n\n\nfunction isTexImageSource(obj) {\n  return typeof ImageBitmap !== 'undefined' && obj instanceof ImageBitmap || typeof ImageData !== 'undefined' && obj instanceof ImageData || typeof HTMLElement !== 'undefined' && obj instanceof HTMLElement;\n}\n/**\n * if obj is an TexImageSource then just\n * uses it otherwise if obj is a string\n * then load it first.\n *\n * @param {string|TexImageSource} obj\n * @param {string} crossOrigin\n * @param {function(err, img)} [callback] a callback that's passed an error and the image. The error will be non-null\n *     if there was an error\n * @private\n */\n\n\nfunction loadAndUseImage(obj, crossOrigin, callback) {\n  if (isTexImageSource(obj)) {\n    setTimeout(function () {\n      callback(null, obj);\n    });\n    return obj;\n  }\n\n  return loadImage(obj, crossOrigin, callback);\n}\n/**\n * Sets a texture to a 1x1 pixel color. If `options.color === false` is nothing happens. If it's not set\n * the default texture color is used which can be set by calling `setDefaultTextureColor`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n */\n\n\nfunction setTextureTo1PixelColor(gl, tex, options) {\n  options = options || defaults.textureOptions;\n  var target = options.target || gl.TEXTURE_2D;\n  gl.bindTexture(target, tex);\n\n  if (options.color === false) {\n    return;\n  } // Assume it's a URL\n  // Put 1x1 pixels in texture. That makes it renderable immediately regardless of filtering.\n\n\n  var color = make1Pixel(options.color);\n\n  if (target === gl.TEXTURE_CUBE_MAP) {\n    for (var ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + ii, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, color);\n    }\n  } else if (target === gl.TEXTURE_3D || target === gl.TEXTURE_2D_ARRAY) {\n    gl.texImage3D(target, 0, gl.RGBA, 1, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, color);\n  } else {\n    gl.texImage2D(target, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, color);\n  }\n}\n/**\n * The src image(s) used to create a texture.\n *\n * When you call {@link module:twgl.createTexture} or {@link module:twgl.createTextures}\n * you can pass in urls for images to load into the textures. If it's a single url\n * then this will be a single HTMLImageElement. If it's an array of urls used for a cubemap\n * this will be a corresponding array of images for the cubemap.\n *\n * @typedef {HTMLImageElement|HTMLImageElement[]} TextureSrc\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback TextureReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} texture the texture.\n * @param {module:twgl.TextureSrc} souce image(s) used to as the src for the texture\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when all images have finished downloading and been uploaded into their respective textures\n * @callback TexturesReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {Object.<string, WebGLTexture>} textures the created textures by name. Same as returned by {@link module:twgl.createTextures}.\n * @param {Object.<string, module:twgl.TextureSrc>} sources the image(s) used for the texture by name.\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback CubemapReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} tex the texture.\n * @param {HTMLImageElement[]} imgs the images for each face.\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback ThreeDReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} tex the texture.\n * @param {HTMLImageElement[]} imgs the images for each slice.\n * @memberOf module:twgl\n */\n\n/**\n * Loads a texture from an image from a Url as specified in `options.src`\n * If `options.color !== false` will set the texture to a 1x1 pixel color so that the texture is\n * immediately useable. It will be updated with the contents of the image once the image has finished\n * downloading. Filtering options will be set as approriate for image unless `options.auto === false`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.TextureReadyCallback} [callback] A function to be called when the image has finished loading. err will\n *    be non null if there was an error.\n * @return {HTMLImageElement} the image being downloaded.\n * @memberOf module:twgl/textures\n */\n\n\nfunction loadTextureFromUrl(gl, tex, options, callback) {\n  callback = callback || noop;\n  options = options || defaults.textureOptions;\n  setTextureTo1PixelColor(gl, tex, options); // Because it's async we need to copy the options.\n\n  options = Object.assign({}, options);\n  var img = loadAndUseImage(options.src, options.crossOrigin, function (err, img) {\n    if (err) {\n      callback(err, tex, img);\n    } else {\n      setTextureFromElement(gl, tex, img, options);\n      callback(null, tex, img);\n    }\n  });\n  return img;\n}\n/**\n * Loads a cubemap from 6 urls or TexImageSources as specified in `options.src`. Will set the cubemap to a 1x1 pixel color\n * so that it is usable immediately unless `option.color === false`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.CubemapReadyCallback} [callback] A function to be called when all the images have finished loading. err will\n *    be non null if there was an error.\n * @memberOf module:twgl/textures\n */\n\n\nfunction loadCubemapFromUrls(gl, tex, options, callback) {\n  callback = callback || noop;\n  var urls = options.src;\n\n  if (urls.length !== 6) {\n    throw \"there must be 6 urls for a cubemap\";\n  }\n\n  var level = options.level || 0;\n  var internalFormat = options.internalFormat || options.format || gl.RGBA;\n  var formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  var format = options.format || formatType.format;\n  var type = options.type || gl.UNSIGNED_BYTE;\n  var target = options.target || gl.TEXTURE_2D;\n\n  if (target !== gl.TEXTURE_CUBE_MAP) {\n    throw \"target must be TEXTURE_CUBE_MAP\";\n  }\n\n  setTextureTo1PixelColor(gl, tex, options); // Because it's async we need to copy the options.\n\n  options = Object.assign({}, options);\n  var numToLoad = 6;\n  var errors = [];\n  var faces = getCubeFaceOrder(gl, options);\n  var imgs; // eslint-disable-line\n\n  function uploadImg(faceTarget) {\n    return function (err, img) {\n      --numToLoad;\n\n      if (err) {\n        errors.push(err);\n      } else {\n        if (img.width !== img.height) {\n          errors.push(\"cubemap face img is not a square: \" + img.src);\n        } else {\n          savePackState(gl, options);\n          gl.bindTexture(target, tex); // So assuming this is the first image we now have one face that's img sized\n          // and 5 faces that are 1x1 pixel so size the other faces\n\n          if (numToLoad === 5) {\n            // use the default order\n            getCubeFaceOrder(gl).forEach(function (otherTarget) {\n              // Should we re-use the same face or a color?\n              gl.texImage2D(otherTarget, level, internalFormat, format, type, img);\n            });\n          } else {\n            gl.texImage2D(faceTarget, level, internalFormat, format, type, img);\n          }\n\n          restorePackState(gl, options);\n\n          if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n            gl.generateMipmap(target);\n          }\n        }\n      }\n\n      if (numToLoad === 0) {\n        callback(errors.length ? errors : undefined, tex, imgs);\n      }\n    };\n  }\n\n  imgs = urls.map(function (url, ndx) {\n    return loadAndUseImage(url, options.crossOrigin, uploadImg(faces[ndx]));\n  });\n}\n/**\n * Loads a 2d array or 3d texture from urls OR TexImageSources as specified in `options.src`.\n * Will set the texture to a 1x1 pixel color\n * so that it is usable immediately unless `option.color === false`.\n *\n * If the width and height is not specified the width and height of the first\n * image loaded will be used. Note that since images are loaded async\n * which image downloads first is unknown.\n *\n * If an image is not the same size as the width and height it will be scaled\n * to that width and height.\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.ThreeDReadyCallback} [callback] A function to be called when all the images have finished loading. err will\n *    be non null if there was an error.\n * @memberOf module:twgl/textures\n */\n\n\nfunction loadSlicesFromUrls(gl, tex, options, callback) {\n  callback = callback || noop;\n  var urls = options.src;\n  var internalFormat = options.internalFormat || options.format || gl.RGBA;\n  var formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  var format = options.format || formatType.format;\n  var type = options.type || gl.UNSIGNED_BYTE;\n  var target = options.target || gl.TEXTURE_2D_ARRAY;\n\n  if (target !== gl.TEXTURE_3D && target !== gl.TEXTURE_2D_ARRAY) {\n    throw \"target must be TEXTURE_3D or TEXTURE_2D_ARRAY\";\n  }\n\n  setTextureTo1PixelColor(gl, tex, options); // Because it's async we need to copy the options.\n\n  options = Object.assign({}, options);\n  var numToLoad = urls.length;\n  var errors = [];\n  var imgs; // eslint-disable-line\n\n  var level = options.level || 0;\n  var width = options.width;\n  var height = options.height;\n  var depth = urls.length;\n  var firstImage = true;\n\n  function uploadImg(slice) {\n    return function (err, img) {\n      --numToLoad;\n\n      if (err) {\n        errors.push(err);\n      } else {\n        savePackState(gl, options);\n        gl.bindTexture(target, tex);\n\n        if (firstImage) {\n          firstImage = false;\n          width = options.width || img.width;\n          height = options.height || img.height;\n          gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, null); // put it in every slice otherwise some slices will be 0,0,0,0\n\n          for (var s = 0; s < depth; ++s) {\n            gl.texSubImage3D(target, level, 0, 0, s, width, height, 1, format, type, img);\n          }\n        } else {\n          var src = img;\n\n          if (img.width !== width || img.height !== height) {\n            // Size the image to fix\n            src = ctx.canvas;\n            ctx.canvas.width = width;\n            ctx.canvas.height = height;\n            ctx.drawImage(img, 0, 0, width, height);\n          }\n\n          gl.texSubImage3D(target, level, 0, 0, slice, width, height, 1, format, type, src); // free the canvas memory\n\n          if (src === ctx.canvas) {\n            ctx.canvas.width = 0;\n            ctx.canvas.height = 0;\n          }\n        }\n\n        restorePackState(gl, options);\n\n        if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n          gl.generateMipmap(target);\n        }\n      }\n\n      if (numToLoad === 0) {\n        callback(errors.length ? errors : undefined, tex, imgs);\n      }\n    };\n  }\n\n  imgs = urls.map(function (url, ndx) {\n    return loadAndUseImage(url, options.crossOrigin, uploadImg(ndx));\n  });\n}\n/**\n * Sets a texture from an array or typed array. If the width or height is not provided will attempt to\n * guess the size. See {@link module:twgl.TextureOptions}.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {(number[]|ArrayBufferView)} src An array or typed arry with texture data.\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n */\n\n\nfunction setTextureFromArray(gl, tex, src, options) {\n  options = options || defaults.textureOptions;\n  var target = options.target || gl.TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  var width = options.width;\n  var height = options.height;\n  var depth = options.depth;\n  var level = options.level || 0;\n  var internalFormat = options.internalFormat || options.format || gl.RGBA;\n  var formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  var format = options.format || formatType.format;\n  var type = options.type || getTextureTypeForArrayType(gl, src, formatType.type);\n\n  if (!isArrayBuffer(src)) {\n    var Type = typedArrays.getTypedArrayTypeForGLType(type);\n    src = new Type(src);\n  } else if (src instanceof Uint8ClampedArray) {\n    src = new Uint8Array(src.buffer);\n  }\n\n  var bytesPerElement = getBytesPerElementForInternalFormat(internalFormat, type);\n  var numElements = src.byteLength / bytesPerElement; // TODO: check UNPACK_ALIGNMENT?\n\n  if (numElements % 1) {\n    throw \"length wrong size for format: \" + utils.glEnumToString(gl, format);\n  }\n\n  var dimensions;\n\n  if (target === gl.TEXTURE_3D) {\n    if (!width && !height && !depth) {\n      var size = Math.cbrt(numElements);\n\n      if (size % 1 !== 0) {\n        throw \"can't guess cube size of array of numElements: \" + numElements;\n      }\n\n      width = size;\n      height = size;\n      depth = size;\n    } else if (width && (!height || !depth)) {\n      dimensions = guessDimensions(gl, target, height, depth, numElements / width);\n      height = dimensions.width;\n      depth = dimensions.height;\n    } else if (height && (!width || !depth)) {\n      dimensions = guessDimensions(gl, target, width, depth, numElements / height);\n      width = dimensions.width;\n      depth = dimensions.height;\n    } else {\n      dimensions = guessDimensions(gl, target, width, height, numElements / depth);\n      width = dimensions.width;\n      height = dimensions.height;\n    }\n  } else {\n    dimensions = guessDimensions(gl, target, width, height, numElements);\n    width = dimensions.width;\n    height = dimensions.height;\n  }\n\n  saveSkipState(gl);\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, options.unpackAlignment || 1);\n  savePackState(gl, options);\n\n  if (target === gl.TEXTURE_CUBE_MAP) {\n    var elementsPerElement = bytesPerElement / src.BYTES_PER_ELEMENT;\n    var faceSize = numElements / 6 * elementsPerElement;\n    getCubeFacesWithNdx(gl, options).forEach(function (f) {\n      var offset = faceSize * f.ndx;\n      var data = src.subarray(offset, offset + faceSize);\n      gl.texImage2D(f.face, level, internalFormat, width, height, 0, format, type, data);\n    });\n  } else if (target === gl.TEXTURE_3D) {\n    gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, src);\n  } else {\n    gl.texImage2D(target, level, internalFormat, width, height, 0, format, type, src);\n  }\n\n  restorePackState(gl, options);\n  restoreSkipState(gl);\n  return {\n    width: width,\n    height: height,\n    depth: depth,\n    type: type\n  };\n}\n/**\n * Sets a texture with no contents of a certain size. In other words calls `gl.texImage2D` with `null`.\n * You must set `options.width` and `options.height`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @memberOf module:twgl/textures\n */\n\n\nfunction setEmptyTexture(gl, tex, options) {\n  var target = options.target || gl.TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  var level = options.level || 0;\n  var internalFormat = options.internalFormat || options.format || gl.RGBA;\n  var formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  var format = options.format || formatType.format;\n  var type = options.type || formatType.type;\n  savePackState(gl, options);\n\n  if (target === gl.TEXTURE_CUBE_MAP) {\n    for (var ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + ii, level, internalFormat, options.width, options.height, 0, format, type, null);\n    }\n  } else if (target === gl.TEXTURE_3D) {\n    gl.texImage3D(target, level, internalFormat, options.width, options.height, options.depth, 0, format, type, null);\n  } else {\n    gl.texImage2D(target, level, internalFormat, options.width, options.height, 0, format, type, null);\n  }\n\n  restorePackState(gl, options);\n}\n/**\n * Creates a texture based on the options passed in.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.TextureReadyCallback} [callback] A callback called when an image has been downloaded and uploaded to the texture.\n * @return {WebGLTexture} the created texture.\n * @memberOf module:twgl/textures\n */\n\n\nfunction createTexture(gl, options, callback) {\n  callback = callback || noop;\n  options = options || defaults.textureOptions;\n  var tex = gl.createTexture();\n  var target = options.target || gl.TEXTURE_2D;\n  var width = options.width || 1;\n  var height = options.height || 1;\n  var internalFormat = options.internalFormat || gl.RGBA;\n  var formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  var type = options.type || formatType.type;\n  gl.bindTexture(target, tex);\n\n  if (target === gl.TEXTURE_CUBE_MAP) {\n    // this should have been the default for CUBEMAPS :(\n    gl.texParameteri(target, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(target, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  }\n\n  var src = options.src;\n\n  if (src) {\n    if (typeof src === \"function\") {\n      src = src(gl, options);\n    }\n\n    if (typeof src === \"string\") {\n      loadTextureFromUrl(gl, tex, options, callback);\n    } else if (isArrayBuffer(src) || Array.isArray(src) && (typeof src[0] === 'number' || Array.isArray(src[0]) || isArrayBuffer(src[0]))) {\n      var dimensions = setTextureFromArray(gl, tex, src, options);\n      width = dimensions.width;\n      height = dimensions.height;\n      type = dimensions.type;\n    } else if (Array.isArray(src) && (typeof src[0] === 'string' || isTexImageSource(src[0]))) {\n      if (target === gl.TEXTURE_CUBE_MAP) {\n        loadCubemapFromUrls(gl, tex, options, callback);\n      } else {\n        loadSlicesFromUrls(gl, tex, options, callback);\n      }\n    } else if (isTexImageSource(src)) {\n      setTextureFromElement(gl, tex, src, options);\n      width = src.width;\n      height = src.height;\n    } else {\n      throw \"unsupported src type\";\n    }\n  } else {\n    setEmptyTexture(gl, tex, options);\n  }\n\n  if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n    setTextureFilteringForSize(gl, tex, options, width, height, internalFormat, type);\n  }\n\n  setTextureParameters(gl, tex, options);\n  return tex;\n}\n/**\n * Resizes a texture based on the options passed in.\n *\n * Note: This is not a generic resize anything function.\n * It's mostly used by {@link module:twgl.resizeFramebufferInfo}\n * It will use `options.src` if it exists to try to determine a `type`\n * otherwise it will assume `gl.UNSIGNED_BYTE`. No data is provided\n * for the texture. Texture parameters will be set accordingly\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the texture to resize\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {number} [width] the new width. If not passed in will use `options.width`\n * @param {number} [height] the new height. If not passed in will use `options.height`\n * @memberOf module:twgl/textures\n */\n\n\nfunction resizeTexture(gl, tex, options, width, height) {\n  width = width || options.width;\n  height = height || options.height;\n  var target = options.target || gl.TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  var level = options.level || 0;\n  var internalFormat = options.internalFormat || options.format || gl.RGBA;\n  var formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  var format = options.format || formatType.format;\n  var type;\n  var src = options.src;\n\n  if (!src) {\n    type = options.type || formatType.type;\n  } else if (isArrayBuffer(src) || Array.isArray(src) && typeof src[0] === 'number') {\n    type = options.type || getTextureTypeForArrayType(gl, src, formatType.type);\n  } else {\n    type = options.type || formatType.type;\n  }\n\n  if (target === gl.TEXTURE_CUBE_MAP) {\n    for (var ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + ii, level, internalFormat, width, height, 0, format, type, null);\n    }\n  } else {\n    gl.texImage2D(target, level, internalFormat, width, height, 0, format, type, null);\n  }\n}\n/**\n * Check if a src is an async request.\n * if src is a string we're going to download an image\n * if src is an array of strings we're going to download cubemap images\n * @param {*} src The src from a TextureOptions\n * @returns {bool} true if src is async.\n * @private\n */\n\n\nfunction isAsyncSrc(src) {\n  return typeof src === 'string' || Array.isArray(src) && typeof src[0] === 'string';\n}\n/**\n * Creates a bunch of textures based on the passed in options.\n *\n * Example:\n *\n *     const textures = twgl.createTextures(gl, {\n *       // a power of 2 image\n *       hftIcon: { src: \"images/hft-icon-16.png\", mag: gl.NEAREST },\n *       // a non-power of 2 image\n *       clover: { src: \"images/clover.jpg\" },\n *       // From a canvas\n *       fromCanvas: { src: ctx.canvas },\n *       // A cubemap from 6 images\n *       yokohama: {\n *         target: gl.TEXTURE_CUBE_MAP,\n *         src: [\n *           'images/yokohama/posx.jpg',\n *           'images/yokohama/negx.jpg',\n *           'images/yokohama/posy.jpg',\n *           'images/yokohama/negy.jpg',\n *           'images/yokohama/posz.jpg',\n *           'images/yokohama/negz.jpg',\n *         ],\n *       },\n *       // A cubemap from 1 image (can be 1x6, 2x3, 3x2, 6x1)\n *       goldengate: {\n *         target: gl.TEXTURE_CUBE_MAP,\n *         src: 'images/goldengate.jpg',\n *       },\n *       // A 2x2 pixel texture from a JavaScript array\n *       checker: {\n *         mag: gl.NEAREST,\n *         min: gl.LINEAR,\n *         src: [\n *           255,255,255,255,\n *           192,192,192,255,\n *           192,192,192,255,\n *           255,255,255,255,\n *         ],\n *       },\n *       // a 1x2 pixel texture from a typed array.\n *       stripe: {\n *         mag: gl.NEAREST,\n *         min: gl.LINEAR,\n *         format: gl.LUMINANCE,\n *         src: new Uint8Array([\n *           255,\n *           128,\n *           255,\n *           128,\n *           255,\n *           128,\n *           255,\n *           128,\n *         ]),\n *         width: 1,\n *       },\n *     });\n *\n * Now\n *\n * *   `textures.hftIcon` will be a 2d texture\n * *   `textures.clover` will be a 2d texture\n * *   `textures.fromCanvas` will be a 2d texture\n * *   `textures.yohohama` will be a cubemap texture\n * *   `textures.goldengate` will be a cubemap texture\n * *   `textures.checker` will be a 2d texture\n * *   `textures.stripe` will be a 2d texture\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string,module:twgl.TextureOptions>} options A object of TextureOptions one per texture.\n * @param {module:twgl.TexturesReadyCallback} [callback] A callback called when all textures have been downloaded.\n * @return {Object.<string,WebGLTexture>} the created textures by name\n * @memberOf module:twgl/textures\n */\n\n\nfunction createTextures(gl, textureOptions, callback) {\n  callback = callback || noop;\n  var numDownloading = 0;\n  var errors = [];\n  var textures = {};\n  var images = {};\n\n  function callCallbackIfReady() {\n    if (numDownloading === 0) {\n      setTimeout(function () {\n        callback(errors.length ? errors : undefined, textures, images);\n      }, 0);\n    }\n  }\n\n  Object.keys(textureOptions).forEach(function (name) {\n    var options = textureOptions[name];\n    var onLoadFn;\n\n    if (isAsyncSrc(options.src)) {\n      onLoadFn = function onLoadFn(err, tex, img) {\n        images[name] = img;\n        --numDownloading;\n\n        if (err) {\n          errors.push(err);\n        }\n\n        callCallbackIfReady();\n      };\n\n      ++numDownloading;\n    }\n\n    textures[name] = createTexture(gl, options, onLoadFn);\n  }); // queue the callback if there are no images to download.\n  // We do this because if your code is structured to wait for\n  // images to download but then you comment out all the async\n  // images your code would break.\n\n  callCallbackIfReady();\n  return textures;\n} // Using quotes prevents Uglify from changing the names.\n// No speed diff AFAICT.\n\n/***/ }),\n\n/***/ \"./src/twgl-full.js\":\n/*!**************************!*\\\n  !*** ./src/twgl-full.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nvar _exportNames = {\n  m4: true,\n  v3: true,\n  primitives: true\n};\nexports.primitives = exports.v3 = exports.m4 = void 0;\n\nvar m4 = _interopRequireWildcard(__webpack_require__(/*! ./m4.js */ \"./src/m4.js\"));\n\nexports.m4 = m4;\n\nvar v3 = _interopRequireWildcard(__webpack_require__(/*! ./v3.js */ \"./src/v3.js\"));\n\nexports.v3 = v3;\n\nvar primitives = _interopRequireWildcard(__webpack_require__(/*! ./primitives.js */ \"./src/primitives.js\"));\n\nexports.primitives = primitives;\n\nvar _twgl = __webpack_require__(/*! ./twgl.js */ \"./src/twgl.js\");\n\nObject.keys(_twgl).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _twgl[key];\n});\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/***/ }),\n\n/***/ \"./src/twgl.js\":\n/*!*********************!*\\\n  !*** ./src/twgl.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nvar _exportNames = {\n  addExtensionsToContext: true,\n  getContext: true,\n  getWebGLContext: true,\n  resizeCanvasToDisplaySize: true,\n  setDefaults: true\n};\nexports.addExtensionsToContext = addExtensionsToContext;\nexports.getContext = getContext;\nexports.getWebGLContext = getWebGLContext;\nexports.resizeCanvasToDisplaySize = resizeCanvasToDisplaySize;\nexports.setDefaults = setDefaults;\n\nvar attributes = _interopRequireWildcard(__webpack_require__(/*! ./attributes.js */ \"./src/attributes.js\"));\n\nObject.keys(attributes).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = attributes[key];\n});\n\nvar textures = _interopRequireWildcard(__webpack_require__(/*! ./textures.js */ \"./src/textures.js\"));\n\nObject.keys(textures).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = textures[key];\n});\n\nvar helper = _interopRequireWildcard(__webpack_require__(/*! ./helper.js */ \"./src/helper.js\"));\n\nvar utils = _interopRequireWildcard(__webpack_require__(/*! ./utils.js */ \"./src/utils.js\"));\n\nObject.keys(utils).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = utils[key];\n});\n\nvar _draw = __webpack_require__(/*! ./draw.js */ \"./src/draw.js\");\n\nObject.keys(_draw).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _draw[key];\n});\n\nvar _framebuffers = __webpack_require__(/*! ./framebuffers.js */ \"./src/framebuffers.js\");\n\nObject.keys(_framebuffers).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _framebuffers[key];\n});\n\nvar _programs = __webpack_require__(/*! ./programs.js */ \"./src/programs.js\");\n\nObject.keys(_programs).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _programs[key];\n});\n\nvar _typedarrays = __webpack_require__(/*! ./typedarrays.js */ \"./src/typedarrays.js\");\n\nObject.keys(_typedarrays).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _typedarrays[key];\n});\n\nvar _vertexArrays = __webpack_require__(/*! ./vertex-arrays.js */ \"./src/vertex-arrays.js\");\n\nObject.keys(_vertexArrays).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _vertexArrays[key];\n});\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * The main TWGL module.\n *\n * For most use cases you shouldn't need anything outside this module.\n * Exceptions between the stuff added to twgl-full (v3, m4, primitives)\n *\n * @module twgl\n * @borrows module:twgl/attributes.setAttribInfoBufferFromArray as setAttribInfoBufferFromArray\n * @borrows module:twgl/attributes.createBufferInfoFromArrays as createBufferInfoFromArrays\n * @borrows module:twgl/attributes.createVertexArrayInfo as createVertexArrayInfo\n * @borrows module:twgl/draw.drawBufferInfo as drawBufferInfo\n * @borrows module:twgl/draw.drawObjectList as drawObjectList\n * @borrows module:twgl/framebuffers.createFramebufferInfo as createFramebufferInfo\n * @borrows module:twgl/framebuffers.resizeFramebufferInfo as resizeFramebufferInfo\n * @borrows module:twgl/framebuffers.bindFramebufferInfo as bindFramebufferInfo\n * @borrows module:twgl/programs.createProgramInfo as createProgramInfo\n * @borrows module:twgl/programs.createUniformBlockInfo as createUniformBlockInfo\n * @borrows module:twgl/programs.bindUniformBlock as bindUniformBlock\n * @borrows module:twgl/programs.setUniformBlock as setUniformBlock\n * @borrows module:twgl/programs.setBlockUniforms as setBlockUniforms\n * @borrows module:twgl/programs.setUniforms as setUniforms\n * @borrows module:twgl/programs.setBuffersAndAttributes as setBuffersAndAttributes\n * @borrows module:twgl/textures.setTextureFromArray as setTextureFromArray\n * @borrows module:twgl/textures.createTexture as createTexture\n * @borrows module:twgl/textures.resizeTexture as resizeTexture\n * @borrows module:twgl/textures.createTextures as createTextures\n */\n// make sure we don't see a global gl\nvar gl = undefined; // eslint-disable-line\n\nvar defaults = {\n  addExtensionsToContext: true\n};\n/**\n * Various default settings for twgl.\n *\n * Note: You can call this any number of times. Example:\n *\n *     twgl.setDefaults({ textureColor: [1, 0, 0, 1] });\n *     twgl.setDefaults({ attribPrefix: 'a_' });\n *\n * is equivalent to\n *\n *     twgl.setDefaults({\n *       textureColor: [1, 0, 0, 1],\n *       attribPrefix: 'a_',\n *     });\n *\n * @typedef {Object} Defaults\n * @property {string} [attribPrefix] The prefix to stick on attributes\n *\n *   When writing shaders I prefer to name attributes with `a_`, uniforms with `u_` and varyings with `v_`\n *   as it makes it clear where they came from. But, when building geometry I prefer using unprefixed names.\n *\n *   In otherwords I'll create arrays of geometry like this\n *\n *       const arrays = {\n *         position: ...\n *         normal: ...\n *         texcoord: ...\n *       };\n *\n *   But need those mapped to attributes and my attributes start with `a_`.\n *\n *   Default: `\"\"`\n *\n * @property {number[]} [textureColor] Array of 4 values in the range 0 to 1\n *\n *   The default texture color is used when loading textures from\n *   urls. Because the URL will be loaded async we'd like to be\n *   able to use the texture immediately. By putting a 1x1 pixel\n *   color in the texture we can start using the texture before\n *   the URL has loaded.\n *\n *   Default: `[0.5, 0.75, 1, 1]`\n *\n * @property {string} [crossOrigin]\n *\n *   If not undefined sets the crossOrigin attribute on images\n *   that twgl creates when downloading images for textures.\n *\n *   Also see {@link module:twgl.TextureOptions}.\n *\n * @property {bool} [addExtensionsToContext]\n *\n *   If true, then, when twgl will try to add any supported WebGL extensions\n *   directly to the context under their normal GL names. For example\n *   if ANGLE_instances_arrays exists then twgl would enable it,\n *   add the functions `vertexAttribDivisor`, `drawArraysInstanced`,\n *   `drawElementsInstanced`, and the constant `VERTEX_ATTRIB_ARRAY_DIVISOR`\n *   to the `WebGLRenderingContext`.\n *\n * @memberOf module:twgl\n */\n\n/**\n * Sets various defaults for twgl.\n *\n * In the interest of terseness which is kind of the point\n * of twgl I've integrated a few of the older functions here\n *\n * @param {module:twgl.Defaults} newDefaults The default settings.\n * @memberOf module:twgl\n */\n\nfunction setDefaults(newDefaults) {\n  helper.copyExistingProperties(newDefaults, defaults);\n  attributes.setAttributeDefaults_(newDefaults); // eslint-disable-line\n\n  textures.setTextureDefaults_(newDefaults); // eslint-disable-line\n}\n\nvar prefixRE = /^(.*?)_/;\n\nfunction addExtensionToContext(gl, extensionName) {\n  utils.glEnumToString(gl, 0);\n  var ext = gl.getExtension(extensionName);\n\n  if (ext) {\n    var enums = {};\n    var fnSuffix = prefixRE.exec(extensionName)[1];\n    var enumSuffix = '_' + fnSuffix;\n\n    for (var key in ext) {\n      var value = ext[key];\n      var isFunc = typeof value === 'function';\n      var suffix = isFunc ? fnSuffix : enumSuffix;\n      var name = key; // examples of where this is not true are WEBGL_compressed_texture_s3tc\n      // and WEBGL_compressed_texture_pvrtc\n\n      if (key.endsWith(suffix)) {\n        name = key.substring(0, key.length - suffix.length);\n      }\n\n      if (gl[name] !== undefined) {\n        if (!isFunc && gl[name] !== value) {\n          helper.warn(name, gl[name], value, key);\n        }\n      } else {\n        if (isFunc) {\n          gl[name] = function (origFn) {\n            return function () {\n              return origFn.apply(ext, arguments);\n            };\n          }(value);\n        } else {\n          gl[name] = value;\n          enums[name] = value;\n        }\n      }\n    } // pass the modified enums to glEnumToString\n\n\n    enums.constructor = {\n      name: ext.constructor.name\n    };\n    utils.glEnumToString(enums, 0);\n  }\n\n  return ext;\n}\n/*\n * If you're wondering why the code doesn't just iterate\n * over all extensions using `gl.getExtensions` is that it's possible\n * some future extension is incompatible with this code. Rather than\n * have thing suddenly break it seems better to manually add to this\n * list.\n *\n */\n\n\nvar supportedExtensions = ['ANGLE_instanced_arrays', 'EXT_blend_minmax', 'EXT_color_buffer_float', 'EXT_color_buffer_half_float', 'EXT_disjoint_timer_query', 'EXT_disjoint_timer_query_webgl2', 'EXT_frag_depth', 'EXT_sRGB', 'EXT_shader_texture_lod', 'EXT_texture_filter_anisotropic', 'OES_element_index_uint', 'OES_standard_derivatives', 'OES_texture_float', 'OES_texture_float_linear', 'OES_texture_half_float', 'OES_texture_half_float_linear', 'OES_vertex_array_object', 'WEBGL_color_buffer_float', 'WEBGL_compressed_texture_atc', 'WEBGL_compressed_texture_etc1', 'WEBGL_compressed_texture_pvrtc', 'WEBGL_compressed_texture_s3tc', 'WEBGL_compressed_texture_s3tc_srgb', 'WEBGL_depth_texture', 'WEBGL_draw_buffers'];\n/**\n * Attempts to enable all of the following extensions\n * and add their functions and constants to the\n * `WebGLRenderingContext` using their normal non-extension like names.\n *\n *      ANGLE_instanced_arrays\n *      EXT_blend_minmax\n *      EXT_color_buffer_float\n *      EXT_color_buffer_half_float\n *      EXT_disjoint_timer_query\n *      EXT_disjoint_timer_query_webgl2\n *      EXT_frag_depth\n *      EXT_sRGB\n *      EXT_shader_texture_lod\n *      EXT_texture_filter_anisotropic\n *      OES_element_index_uint\n *      OES_standard_derivatives\n *      OES_texture_float\n *      OES_texture_float_linear\n *      OES_texture_half_float\n *      OES_texture_half_float_linear\n *      OES_vertex_array_object\n *      WEBGL_color_buffer_float\n *      WEBGL_compressed_texture_atc\n *      WEBGL_compressed_texture_etc1\n *      WEBGL_compressed_texture_pvrtc\n *      WEBGL_compressed_texture_s3tc\n *      WEBGL_compressed_texture_s3tc_srgb\n *      WEBGL_depth_texture\n *      WEBGL_draw_buffers\n *\n * For example if `ANGLE_instanced_arrays` exists then the functions\n * `drawArraysInstanced`, `drawElementsInstanced`, `vertexAttribDivisor`\n * and the constant `VERTEX_ATTRIB_ARRAY_DIVISOR` are added to the\n * `WebGLRenderingContext`.\n *\n * Note that if you want to know if the extension exists you should\n * probably call `gl.getExtension` for each extension. Alternatively\n * you can check for the existance of the functions or constants that\n * are expected to be added. For example\n *\n *    if (gl.drawBuffers) {\n *      // Either WEBGL_draw_buffers was enabled OR you're running in WebGL2\n *      ....\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @memberOf module:twgl\n */\n\nfunction addExtensionsToContext(gl) {\n  for (var ii = 0; ii < supportedExtensions.length; ++ii) {\n    addExtensionToContext(gl, supportedExtensions[ii]);\n  }\n}\n/**\n * Creates a webgl context.\n * @param {HTMLCanvasElement} canvas The canvas tag to get\n *     context from. If one is not passed in one will be\n *     created.\n * @return {WebGLRenderingContext} The created context.\n * @private\n */\n\n\nfunction create3DContext(canvas, opt_attribs) {\n  var names = [\"webgl\", \"experimental-webgl\"];\n  var context = null;\n\n  for (var ii = 0; ii < names.length; ++ii) {\n    context = canvas.getContext(names[ii], opt_attribs);\n\n    if (context) {\n      if (defaults.addExtensionsToContext) {\n        addExtensionsToContext(context);\n      }\n\n      break;\n    }\n  }\n\n  return context;\n}\n/**\n * Gets a WebGL1 context.\n *\n * Note: Will attempt to enable Vertex Array Objects\n * and add WebGL2 entry points. (unless you first set defaults with\n * `twgl.setDefaults({enableVertexArrayObjects: false})`;\n *\n * @param {HTMLCanvasElement} canvas a canvas element.\n * @param {WebGLContextAttributes} [opt_attribs] optional webgl context creation attributes\n * @return {WebGLRenderingContext} The created context.\n * @memberOf module:twgl\n */\n\n\nfunction getWebGLContext(canvas, opt_attribs) {\n  var gl = create3DContext(canvas, opt_attribs);\n  return gl;\n}\n/**\n * Creates a webgl context.\n *\n * Will return a WebGL2 context if possible.\n *\n * You can check if it's WebGL2 with\n *\n *     twgl.isWebGL2(gl);\n *\n * @param {HTMLCanvasElement} canvas The canvas tag to get\n *     context from. If one is not passed in one will be\n *     created.\n * @return {WebGLRenderingContext} The created context.\n */\n\n\nfunction createContext(canvas, opt_attribs) {\n  var names = [\"webgl2\", \"webgl\", \"experimental-webgl\"];\n  var context = null;\n\n  for (var ii = 0; ii < names.length; ++ii) {\n    context = canvas.getContext(names[ii], opt_attribs);\n\n    if (context) {\n      if (defaults.addExtensionsToContext) {\n        addExtensionsToContext(context);\n      }\n\n      break;\n    }\n  }\n\n  return context;\n}\n/**\n * Gets a WebGL context.  Will create a WebGL2 context if possible.\n *\n * You can check if it's WebGL2 with\n *\n *    function isWebGL2(gl) {\n *      return gl.getParameter(gl.VERSION).indexOf(\"WebGL 2.0 \") == 0;\n *    }\n *\n * Note: For a WebGL1 context will attempt to enable Vertex Array Objects\n * and add WebGL2 entry points. (unless you first set defaults with\n * `twgl.setDefaults({enableVertexArrayObjects: false})`;\n *\n * @param {HTMLCanvasElement} canvas a canvas element.\n * @param {WebGLContextAttributes} [opt_attribs] optional webgl context creation attributes\n * @return {WebGLRenderingContext} The created context.\n * @memberOf module:twgl\n */\n\n\nfunction getContext(canvas, opt_attribs) {\n  var gl = createContext(canvas, opt_attribs);\n  return gl;\n}\n/**\n * Resize a canvas to match the size it's displayed.\n * @param {HTMLCanvasElement} canvas The canvas to resize.\n * @param {number} [multiplier] So you can pass in `window.devicePixelRatio` or other scale value if you want to.\n * @return {boolean} true if the canvas was resized.\n * @memberOf module:twgl\n */\n\n\nfunction resizeCanvasToDisplaySize(canvas, multiplier) {\n  multiplier = multiplier || 1;\n  multiplier = Math.max(0, multiplier);\n  var width = canvas.clientWidth * multiplier | 0;\n  var height = canvas.clientHeight * multiplier | 0;\n\n  if (canvas.width !== width || canvas.height !== height) {\n    canvas.width = width;\n    canvas.height = height;\n    return true;\n  }\n\n  return false;\n}\n\n/***/ }),\n\n/***/ \"./src/typedarrays.js\":\n/*!****************************!*\\\n  !*** ./src/typedarrays.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.getGLTypeForTypedArray = getGLTypeForTypedArray;\nexports.getGLTypeForTypedArrayType = getGLTypeForTypedArrayType;\nexports.getTypedArrayTypeForGLType = getTypedArrayTypeForGLType;\nexports.isArrayBuffer = void 0;\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Low level shader typed array related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibily they are available at both `twgl.typedArray` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/typedArray\n */\n// make sure we don't see a global gl\nvar gl = undefined; // eslint-disable-line\n\n/* DataType */\n\nvar BYTE = 0x1400;\nvar UNSIGNED_BYTE = 0x1401;\nvar SHORT = 0x1402;\nvar UNSIGNED_SHORT = 0x1403;\nvar INT = 0x1404;\nvar UNSIGNED_INT = 0x1405;\nvar FLOAT = 0x1406;\nvar UNSIGNED_SHORT_4_4_4_4 = 0x8033;\nvar UNSIGNED_SHORT_5_5_5_1 = 0x8034;\nvar UNSIGNED_SHORT_5_6_5 = 0x8363;\nvar HALF_FLOAT = 0x140B;\nvar UNSIGNED_INT_2_10_10_10_REV = 0x8368;\nvar UNSIGNED_INT_10F_11F_11F_REV = 0x8C3B;\nvar UNSIGNED_INT_5_9_9_9_REV = 0x8C3E;\nvar FLOAT_32_UNSIGNED_INT_24_8_REV = 0x8DAD;\nvar UNSIGNED_INT_24_8 = 0x84FA;\nvar glTypeToTypedArray = {};\n{\n  var tt = glTypeToTypedArray;\n  tt[BYTE] = Int8Array;\n  tt[UNSIGNED_BYTE] = Uint8Array;\n  tt[SHORT] = Int16Array;\n  tt[UNSIGNED_SHORT] = Uint16Array;\n  tt[INT] = Int32Array;\n  tt[UNSIGNED_INT] = Uint32Array;\n  tt[FLOAT] = Float32Array;\n  tt[UNSIGNED_SHORT_4_4_4_4] = Uint16Array;\n  tt[UNSIGNED_SHORT_5_5_5_1] = Uint16Array;\n  tt[UNSIGNED_SHORT_5_6_5] = Uint16Array;\n  tt[HALF_FLOAT] = Uint16Array;\n  tt[UNSIGNED_INT_2_10_10_10_REV] = Uint32Array;\n  tt[UNSIGNED_INT_10F_11F_11F_REV] = Uint32Array;\n  tt[UNSIGNED_INT_5_9_9_9_REV] = Uint32Array;\n  tt[FLOAT_32_UNSIGNED_INT_24_8_REV] = Uint32Array;\n  tt[UNSIGNED_INT_24_8] = Uint32Array;\n}\n/**\n * Get the GL type for a typedArray\n * @param {ArrayBufferView} typedArray a typedArray\n * @return {number} the GL type for array. For example pass in an `Int8Array` and `gl.BYTE` will\n *   be returned. Pass in a `Uint32Array` and `gl.UNSIGNED_INT` will be returned\n * @memberOf module:twgl/typedArray\n */\n\nfunction getGLTypeForTypedArray(typedArray) {\n  if (typedArray instanceof Int8Array) {\n    return BYTE;\n  } // eslint-disable-line\n\n\n  if (typedArray instanceof Uint8Array) {\n    return UNSIGNED_BYTE;\n  } // eslint-disable-line\n\n\n  if (typedArray instanceof Uint8ClampedArray) {\n    return UNSIGNED_BYTE;\n  } // eslint-disable-line\n\n\n  if (typedArray instanceof Int16Array) {\n    return SHORT;\n  } // eslint-disable-line\n\n\n  if (typedArray instanceof Uint16Array) {\n    return UNSIGNED_SHORT;\n  } // eslint-disable-line\n\n\n  if (typedArray instanceof Int32Array) {\n    return INT;\n  } // eslint-disable-line\n\n\n  if (typedArray instanceof Uint32Array) {\n    return UNSIGNED_INT;\n  } // eslint-disable-line\n\n\n  if (typedArray instanceof Float32Array) {\n    return FLOAT;\n  } // eslint-disable-line\n\n\n  throw new Error('unsupported typed array type');\n}\n/**\n * Get the GL type for a typedArray type\n * @param {ArrayBufferView} typedArrayType a typedArray constructor\n * @return {number} the GL type for type. For example pass in `Int8Array` and `gl.BYTE` will\n *   be returned. Pass in `Uint32Array` and `gl.UNSIGNED_INT` will be returned\n * @memberOf module:twgl/typedArray\n */\n\n\nfunction getGLTypeForTypedArrayType(typedArrayType) {\n  if (typedArrayType === Int8Array) {\n    return BYTE;\n  } // eslint-disable-line\n\n\n  if (typedArrayType === Uint8Array) {\n    return UNSIGNED_BYTE;\n  } // eslint-disable-line\n\n\n  if (typedArrayType === Uint8ClampedArray) {\n    return UNSIGNED_BYTE;\n  } // eslint-disable-line\n\n\n  if (typedArrayType === Int16Array) {\n    return SHORT;\n  } // eslint-disable-line\n\n\n  if (typedArrayType === Uint16Array) {\n    return UNSIGNED_SHORT;\n  } // eslint-disable-line\n\n\n  if (typedArrayType === Int32Array) {\n    return INT;\n  } // eslint-disable-line\n\n\n  if (typedArrayType === Uint32Array) {\n    return UNSIGNED_INT;\n  } // eslint-disable-line\n\n\n  if (typedArrayType === Float32Array) {\n    return FLOAT;\n  } // eslint-disable-line\n\n\n  throw new Error('unsupported typed array type');\n}\n/**\n * Get the typed array constructor for a given GL type\n * @param {number} type the GL type. (eg: `gl.UNSIGNED_INT`)\n * @return {function} the constructor for a the corresponding typed array. (eg. `Uint32Array`).\n * @memberOf module:twgl/typedArray\n */\n\n\nfunction getTypedArrayTypeForGLType(type) {\n  var CTOR = glTypeToTypedArray[type];\n\n  if (!CTOR) {\n    throw new Error('unknown gl type');\n  }\n\n  return CTOR;\n}\n\nvar isArrayBuffer = typeof SharedArrayBuffer !== 'undefined' ? function isArrayBufferOrSharedArrayBuffer(a) {\n  return a && a.buffer && (a.buffer instanceof ArrayBuffer || a.buffer instanceof SharedArrayBuffer);\n} : function isArrayBuffer(a) {\n  return a && a.buffer && a.buffer instanceof ArrayBuffer;\n};\nexports.isArrayBuffer = isArrayBuffer;\n\n/***/ }),\n\n/***/ \"./src/utils.js\":\n/*!**********************!*\\\n  !*** ./src/utils.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.isWebGL1 = isWebGL1;\nexports.isWebGL2 = isWebGL2;\nexports.glEnumToString = void 0;\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Gets the gl version as a number\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {number} version of gl\n * @private\n */\n//function getVersionAsNumber(gl) {\n//  return parseFloat(gl.getParameter(gl.VERSION).substr(6));\n//}\n\n/**\n * Check if context is WebGL 2.0\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {bool} true if it's WebGL 2.0\n * @memberOf module:twgl\n */\nfunction isWebGL2(gl) {\n  // This is the correct check but it's slow\n  //  return gl.getParameter(gl.VERSION).indexOf(\"WebGL 2.0\") === 0;\n  // This might also be the correct check but I'm assuming it's slow-ish\n  // return gl instanceof WebGL2RenderingContext;\n  return !!gl.texStorage2D;\n}\n/**\n * Check if context is WebGL 1.0\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {bool} true if it's WebGL 1.0\n * @memberOf module:twgl\n */\n\n\nfunction isWebGL1(gl) {\n  // This is the correct check but it's slow\n  // const version = getVersionAsNumber(gl);\n  // return version <= 1.0 && version > 0.0;  // because as of 2016/5 Edge returns 0.96\n  // This might also be the correct check but I'm assuming it's slow-ish\n  // return gl instanceof WebGLRenderingContext;\n  return !gl.texStorage2D;\n}\n/**\n * Gets a string for WebGL enum\n *\n * Note: Several enums are the same. Without more\n * context (which function) it's impossible to always\n * give the correct enum. As it is, for matching values\n * it gives all enums. Checking the WebGL2RenderingContext\n * that means\n *\n *      0     = ZERO | POINT | NONE | NO_ERROR\n *      1     = ONE | LINES | SYNC_FLUSH_COMMANDS_BIT\n *      32777 = BLEND_EQUATION_RGB | BLEND_EQUATION_RGB\n *      36662 = COPY_READ_BUFFER | COPY_READ_BUFFER_BINDING\n *      36663 = COPY_WRITE_BUFFER | COPY_WRITE_BUFFER_BINDING\n *      36006 = FRAMEBUFFER_BINDING | DRAW_FRAMEBUFFER_BINDING\n *\n * It's also not useful for bits really unless you pass in individual bits.\n * In other words\n *\n *     const bits = gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT;\n *     twgl.glEnumToString(gl, bits);  // not going to work\n *\n * Note that some enums only exist on extensions. If you\n * want them to show up you need to pass the extension at least\n * once. For example\n *\n *     const ext = gl.getExtension('WEBGL_compressed_texture_s3tc');\n *     if (ext) {\n *        twgl.glEnumToString(ext, 0);  // just prime the function\n *\n *        ..later..\n *\n *        const internalFormat = ext.COMPRESSED_RGB_S3TC_DXT1_EXT;\n *        console.log(twgl.glEnumToString(gl, internalFormat));\n *\n * Notice I didn't have to pass the extension the second time. This means\n * you can have place that generically gets an enum for texture formats for example.\n * and as long as you primed the function with the extensions\n *\n * If you're using `twgl.addExtensionsToContext` to enable your extensions\n * then twgl will automatically get the extension's enums.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext or any extension object\n * @param {number} value the value of the enum you want to look up.\n * @return {string} enum string or hex value\n * @memberOf module:twgl\n * @function glEnumToString\n */\n\n\nvar glEnumToString = function () {\n  var haveEnumsForType = {};\n  var enums = {};\n\n  function addEnums(gl) {\n    var type = gl.constructor.name;\n\n    if (!haveEnumsForType[type]) {\n      for (var key in gl) {\n        if (typeof gl[key] === 'number') {\n          var existing = enums[gl[key]];\n          enums[gl[key]] = existing ? \"\".concat(existing, \" | \").concat(key) : key;\n        }\n      }\n\n      haveEnumsForType[type] = true;\n    }\n  }\n\n  return function glEnumToString(gl, value) {\n    addEnums(gl);\n    return enums[value] || \"0x\" + value.toString(16);\n  };\n}();\n\nexports.glEnumToString = glEnumToString;\n\n/***/ }),\n\n/***/ \"./src/v3.js\":\n/*!*******************!*\\\n  !*** ./src/v3.js ***!\n  \\*******************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.add = add;\nexports.copy = copy;\nexports.create = create;\nexports.cross = cross;\nexports.distance = distance;\nexports.distanceSq = distanceSq;\nexports.divide = divide;\nexports.divScalar = divScalar;\nexports.dot = dot;\nexports.lerp = lerp;\nexports.lerpV = lerpV;\nexports.length = length;\nexports.lengthSq = lengthSq;\nexports.max = max;\nexports.min = min;\nexports.mulScalar = mulScalar;\nexports.multiply = multiply;\nexports.negate = negate;\nexports.normalize = normalize;\nexports.setDefaultType = setDefaultType;\nexports.subtract = subtract;\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n *\n * Vec3 math math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new Vec3. In other words you can do this\n *\n *     var v = v3.cross(v1, v2);  // Creates a new Vec3 with the cross product of v1 x v2.\n *\n * or\n *\n *     var v3 = v3.create();\n *     v3.cross(v1, v2, v);  // Puts the cross product of v1 x v2 in v\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always save to pass any vector as the destination. So for example\n *\n *     v3.cross(v1, v2, v1);  // Puts the cross product of v1 x v2 in v1\n *\n * @module twgl/v3\n */\nvar VecType = Float32Array;\n/**\n * A JavaScript array with 3 values or a Float32Array with 3 values.\n * When created by the library will create the default type which is `Float32Array`\n * but can be set by calling {@link module:twgl/v3.setDefaultType}.\n * @typedef {(number[]|Float32Array)} Vec3\n * @memberOf module:twgl/v3\n */\n\n/**\n * Sets the type this library creates for a Vec3\n * @param {constructor} ctor the constructor for the type. Either `Float32Array` or `Array`\n * @return {constructor} previous constructor for Vec3\n * @memberOf module:twgl/v3\n */\n\nfunction setDefaultType(ctor) {\n  var oldType = VecType;\n  VecType = ctor;\n  return oldType;\n}\n/**\n * Creates a vec3; may be called with x, y, z to set initial values.\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\n\n\nfunction create(x, y, z) {\n  var dst = new VecType(3);\n\n  if (x) {\n    dst[0] = x;\n  }\n\n  if (y) {\n    dst[1] = y;\n  }\n\n  if (z) {\n    dst[2] = z;\n  }\n\n  return dst;\n}\n/**\n * Adds two vectors; assumes a and b have the same dimension.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\n\n\nfunction add(a, b, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = a[0] + b[0];\n  dst[1] = a[1] + b[1];\n  dst[2] = a[2] + b[2];\n  return dst;\n}\n/**\n * Subtracts two vectors.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\n\n\nfunction subtract(a, b, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = a[0] - b[0];\n  dst[1] = a[1] - b[1];\n  dst[2] = a[2] - b[2];\n  return dst;\n}\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient t, returns\n * a + t * (b - a).\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {number} t Interpolation coefficient.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\n\n\nfunction lerp(a, b, t, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = a[0] + t * (b[0] - a[0]);\n  dst[1] = a[1] + t * (b[1] - a[1]);\n  dst[2] = a[2] + t * (b[2] - a[2]);\n  return dst;\n}\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient vector t, returns\n * a + t * (b - a).\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} t Interpolation coefficients vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\n\n\nfunction lerpV(a, b, t, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = a[0] + t[0] * (b[0] - a[0]);\n  dst[1] = a[1] + t[1] * (b[1] - a[1]);\n  dst[2] = a[2] + t[2] * (b[2] - a[2]);\n  return dst;\n}\n/**\n * Return max values of two vectors.\n * Given vectors a and b returns\n * [max(a[0], b[0]), max(a[1], b[1]), max(a[2], b[2])].\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\n\n\nfunction max(a, b, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = Math.max(a[0], b[0]);\n  dst[1] = Math.max(a[1], b[1]);\n  dst[2] = Math.max(a[2], b[2]);\n  return dst;\n}\n/**\n * Return min values of two vectors.\n * Given vectors a and b returns\n * [min(a[0], b[0]), min(a[1], b[1]), min(a[2], b[2])].\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\n\n\nfunction min(a, b, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = Math.min(a[0], b[0]);\n  dst[1] = Math.min(a[1], b[1]);\n  dst[2] = Math.min(a[2], b[2]);\n  return dst;\n}\n/**\n * Mutiplies a vector by a scalar.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {number} k The scalar.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} dst.\n * @memberOf module:twgl/v3\n */\n\n\nfunction mulScalar(v, k, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = v[0] * k;\n  dst[1] = v[1] * k;\n  dst[2] = v[2] * k;\n  return dst;\n}\n/**\n * Divides a vector by a scalar.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {number} k The scalar.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} dst.\n * @memberOf module:twgl/v3\n */\n\n\nfunction divScalar(v, k, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = v[0] / k;\n  dst[1] = v[1] / k;\n  dst[2] = v[2] / k;\n  return dst;\n}\n/**\n * Computes the cross product of two vectors; assumes both vectors have\n * three entries.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} The vector a cross b.\n * @memberOf module:twgl/v3\n */\n\n\nfunction cross(a, b, dst) {\n  dst = dst || new VecType(3);\n  var t1 = a[2] * b[0] - a[0] * b[2];\n  var t2 = a[0] * b[1] - a[1] * b[0];\n  dst[0] = a[1] * b[2] - a[2] * b[1];\n  dst[1] = t1;\n  dst[2] = t2;\n  return dst;\n}\n/**\n * Computes the dot product of two vectors; assumes both vectors have\n * three entries.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @return {number} dot product\n * @memberOf module:twgl/v3\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the length of vector\n * @param {module:twgl/v3.Vec3} v vector.\n * @return {number} length of vector.\n * @memberOf module:twgl/v3\n */\n\n\nfunction length(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\n}\n/**\n * Computes the square of the length of vector\n * @param {module:twgl/v3.Vec3} v vector.\n * @return {number} square of the length of vector.\n * @memberOf module:twgl/v3\n */\n\n\nfunction lengthSq(v) {\n  return v[0] * v[0] + v[1] * v[1] + v[2] * v[2];\n}\n/**\n * Computes the distance between 2 points\n * @param {module:twgl/v3.Vec3} a vector.\n * @param {module:twgl/v3.Vec3} b vector.\n * @return {number} distance between a and b\n * @memberOf module:twgl/v3\n */\n\n\nfunction distance(a, b) {\n  var dx = a[0] - b[0];\n  var dy = a[1] - b[1];\n  var dz = a[2] - b[2];\n  return Math.sqrt(dx * dx + dy * dy + dz * dz);\n}\n/**\n * Computes the square of the distance between 2 points\n * @param {module:twgl/v3.Vec3} a vector.\n * @param {module:twgl/v3.Vec3} b vector.\n * @return {number} square of the distance between a and b\n * @memberOf module:twgl/v3\n */\n\n\nfunction distanceSq(a, b) {\n  var dx = a[0] - b[0];\n  var dy = a[1] - b[1];\n  var dz = a[2] - b[2];\n  return dx * dx + dy * dy + dz * dz;\n}\n/**\n * Divides a vector by its Euclidean length and returns the quotient.\n * @param {module:twgl/v3.Vec3} a The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} The normalized vector.\n * @memberOf module:twgl/v3\n */\n\n\nfunction normalize(a, dst) {\n  dst = dst || new VecType(3);\n  var lenSq = a[0] * a[0] + a[1] * a[1] + a[2] * a[2];\n  var len = Math.sqrt(lenSq);\n\n  if (len > 0.00001) {\n    dst[0] = a[0] / len;\n    dst[1] = a[1] / len;\n    dst[2] = a[2] / len;\n  } else {\n    dst[0] = 0;\n    dst[1] = 0;\n    dst[2] = 0;\n  }\n\n  return dst;\n}\n/**\n * Negates a vector.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} -v.\n * @memberOf module:twgl/v3\n */\n\n\nfunction negate(v, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = -v[0];\n  dst[1] = -v[1];\n  dst[2] = -v[2];\n  return dst;\n}\n/**\n * Copies a vector.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} A copy of v.\n * @memberOf module:twgl/v3\n */\n\n\nfunction copy(v, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = v[0];\n  dst[1] = v[1];\n  dst[2] = v[2];\n  return dst;\n}\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} The vector of products of entries of a and\n *     b.\n * @memberOf module:twgl/v3\n */\n\n\nfunction multiply(a, b, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = a[0] * b[0];\n  dst[1] = a[1] * b[1];\n  dst[2] = a[2] * b[2];\n  return dst;\n}\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created..\n * @return {module:twgl/v3.Vec3} The vector of quotients of entries of a and\n *     b.\n * @memberOf module:twgl/v3\n */\n\n\nfunction divide(a, b, dst) {\n  dst = dst || new VecType(3);\n  dst[0] = a[0] / b[0];\n  dst[1] = a[1] / b[1];\n  dst[2] = a[2] / b[2];\n  return dst;\n}\n\n/***/ }),\n\n/***/ \"./src/vertex-arrays.js\":\n/*!******************************!*\\\n  !*** ./src/vertex-arrays.js ***!\n  \\******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.createVertexArrayInfo = createVertexArrayInfo;\nexports.createVAOAndSetAttributes = createVAOAndSetAttributes;\nexports.createVAOFromBufferInfo = createVAOFromBufferInfo;\n\nvar programs = _interopRequireWildcard(__webpack_require__(/*! ./programs.js */ \"./src/programs.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * vertex array object related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibily they are available at both `twgl.attributes` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/vertexArrays\n */\n\n/**\n * @typedef {Object} VertexArrayInfo\n * @property {number} numElements The number of elements to pass to `gl.drawArrays` or `gl.drawElements`.\n * @property {number} [elementType] The type of indices `UNSIGNED_BYTE`, `UNSIGNED_SHORT` etc..\n * @property {WebGLVertexArrayObject} [vertexArrayObject] a vertex array object\n * @memberOf module:twgl\n */\n\n/**\n * Creates a VertexArrayInfo from a BufferInfo and one or more ProgramInfos\n *\n * This can be passed to {@link module:twgl.setBuffersAndAttributes} and to\n * {@link module:twgl:drawBufferInfo}.\n *\n * > **IMPORTANT:** Vertex Array Objects are **not** a direct analog for a BufferInfo. Vertex Array Objects\n *   assign buffers to specific attributes at creation time. That means they can only be used with programs\n *   who's attributes use the same attribute locations for the same purposes.\n *\n * > Bind your attribute locations by passing an array of attribute names to {@link module:twgl.createProgramInfo}\n *   or use WebGL 2's GLSL ES 3's `layout(location = <num>)` to make sure locations match.\n *\n * also\n *\n * > **IMPORTANT:** After calling twgl.setBuffersAndAttribute with a BufferInfo that uses a Vertex Array Object\n *   that Vertex Array Object will be bound. That means **ANY MANIPULATION OF ELEMENT_ARRAY_BUFFER or ATTRIBUTES**\n *   will affect the Vertex Array Object state.\n *\n * > Call `gl.bindVertexArray(null)` to get back manipulating the global attributes and ELEMENT_ARRAY_BUFFER.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.ProgramInfo|module:twgl.ProgramInfo[]} programInfo a programInfo or array of programInfos\n * @param {module:twgl.BufferInfo} bufferInfo BufferInfo as returned from createBufferInfoFromArrays etc...\n *\n *    You need to make sure every attribute that will be used is bound. So for example assume shader 1\n *    uses attributes A, B, C and shader 2 uses attributes A, B, D. If you only pass in the programInfo\n *    for shader 1 then only attributes A, B, and C will have their attributes set because TWGL doesn't\n *    now attribute D's location.\n *\n *    So, you can pass in both shader 1 and shader 2's programInfo\n *\n * @return {module:twgl.VertexArrayInfo} The created VertexArrayInfo\n *\n * @memberOf module:twgl/vertexArrays\n */\nfunction createVertexArrayInfo(gl, programInfos, bufferInfo) {\n  var vao = gl.createVertexArray();\n  gl.bindVertexArray(vao);\n\n  if (!programInfos.length) {\n    programInfos = [programInfos];\n  }\n\n  programInfos.forEach(function (programInfo) {\n    programs.setBuffersAndAttributes(gl, programInfo, bufferInfo);\n  });\n  gl.bindVertexArray(null);\n  return {\n    numElements: bufferInfo.numElements,\n    elementType: bufferInfo.elementType,\n    vertexArrayObject: vao\n  };\n}\n/**\n * Creates a vertex array object and then sets the attributes on it\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {Object.<string, function>} setters Attribute setters as returned from createAttributeSetters\n * @param {Object.<string, module:twgl.AttribInfo>} attribs AttribInfos mapped by attribute name.\n * @param {WebGLBuffer} [indices] an optional ELEMENT_ARRAY_BUFFER of indices\n * @memberOf module:twgl/vertexArrays\n */\n\n\nfunction createVAOAndSetAttributes(gl, setters, attribs, indices) {\n  var vao = gl.createVertexArray();\n  gl.bindVertexArray(vao);\n  programs.setAttributes(setters, attribs);\n\n  if (indices) {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indices);\n  } // We unbind this because otherwise any change to ELEMENT_ARRAY_BUFFER\n  // like when creating buffers for other stuff will mess up this VAO's binding\n\n\n  gl.bindVertexArray(null);\n  return vao;\n}\n/**\n * Creates a vertex array object and then sets the attributes\n * on it\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {Object.<string, function>| module:twgl.ProgramInfo} programInfo as returned from createProgramInfo or Attribute setters as returned from createAttributeSetters\n * @param {module:twgl.BufferInfo} bufferInfo BufferInfo as returned from createBufferInfoFromArrays etc...\n * @param {WebGLBuffer} [indices] an optional ELEMENT_ARRAY_BUFFER of indices\n * @memberOf module:twgl/vertexArrays\n */\n\n\nfunction createVAOFromBufferInfo(gl, programInfo, bufferInfo) {\n  return createVAOAndSetAttributes(gl, programInfo.attribSetters || programInfo, bufferInfo.attribs, bufferInfo.indices);\n}\n\n/***/ })\n\n/******/ });\n});\n\n},{}],13:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar typestyle_1 = require(\"./internal/typestyle\");\nexports.TypeStyle = typestyle_1.TypeStyle;\n/**\n * All the CSS types in the 'types' namespace\n */\nvar types = require(\"./types\");\nexports.types = types;\n/**\n * Export certain utilities\n */\nvar utilities_1 = require(\"./internal/utilities\");\nexports.extend = utilities_1.extend;\nexports.classes = utilities_1.classes;\nexports.media = utilities_1.media;\n/** Zero configuration, default instance of TypeStyle */\nvar ts = new typestyle_1.TypeStyle({ autoGenerateTag: true });\n/** Sets the target tag where we write the css on style updates */\nexports.setStylesTarget = ts.setStylesTarget;\n/**\n * Insert `raw` CSS as a string. This is useful for e.g.\n * - third party CSS that you are customizing with template strings\n * - generating raw CSS in JavaScript\n * - reset libraries like normalize.css that you can use without loaders\n */\nexports.cssRaw = ts.cssRaw;\n/**\n * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n */\nexports.cssRule = ts.cssRule;\n/**\n * Renders styles to the singleton tag imediately\n * NOTE: You should only call it on initial render to prevent any non CSS flash.\n * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n **/\nexports.forceRenderStyles = ts.forceRenderStyles;\n/**\n * Utility function to register an @font-face\n */\nexports.fontFace = ts.fontFace;\n/**\n * Allows use to use the stylesheet in a node.js environment\n */\nexports.getStyles = ts.getStyles;\n/**\n * Takes keyframes and returns a generated animationName\n */\nexports.keyframes = ts.keyframes;\n/**\n * Helps with testing. Reinitializes FreeStyle + raw\n */\nexports.reinit = ts.reinit;\n/**\n * Takes CSSProperties and return a generated className you can use on your component\n */\nexports.style = ts.style;\n/**\n * Takes an object where property names are ideal class names and property values are CSSProperties, and\n * returns an object where property names are the same ideal class names and the property values are\n * the actual generated class names using the ideal class name as the $debugName\n */\nexports.stylesheet = ts.stylesheet;\n/**\n * Creates a new instance of TypeStyle separate from the default instance.\n *\n * - Use this for creating a different typestyle instance for a shadow dom component.\n * - Use this if you don't want an auto tag generated and you just want to collect the CSS.\n *\n * NOTE: styles aren't shared between different instances.\n */\nfunction createTypeStyle(target) {\n    var instance = new typestyle_1.TypeStyle({ autoGenerateTag: false });\n    if (target) {\n        instance.setStylesTarget(target);\n    }\n    return instance;\n}\nexports.createTypeStyle = createTypeStyle;\n\n},{\"./internal/typestyle\":15,\"./internal/utilities\":16,\"./types\":17}],14:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FreeStyle = require(\"free-style\");\n/**\n * We need to do the following to *our* objects before passing to freestyle:\n * - For any `$nest` directive move up to FreeStyle style nesting\n * - For any `$unique` directive map to FreeStyle Unique\n * - For any `$debugName` directive return the debug name\n */\nfunction ensureStringObj(object) {\n    /** The final result we will return */\n    var result = {};\n    var debugName = '';\n    for (var key in object) {\n        /** Grab the value upfront */\n        var val = object[key];\n        /** TypeStyle configuration options */\n        if (key === '$unique') {\n            result[FreeStyle.IS_UNIQUE] = val;\n        }\n        else if (key === '$nest') {\n            var nested = val;\n            for (var selector in nested) {\n                var subproperties = nested[selector];\n                result[selector] = ensureStringObj(subproperties).result;\n            }\n        }\n        else if (key === '$debugName') {\n            debugName = val;\n        }\n        else {\n            result[key] = val;\n        }\n    }\n    return { result: result, debugName: debugName };\n}\nexports.ensureStringObj = ensureStringObj;\n// todo: better name here\nfunction explodeKeyframes(frames) {\n    var result = { $debugName: undefined, keyframes: {} };\n    for (var offset in frames) {\n        var val = frames[offset];\n        if (offset === '$debugName') {\n            result.$debugName = val;\n        }\n        else {\n            result.keyframes[offset] = val;\n        }\n    }\n    return result;\n}\nexports.explodeKeyframes = explodeKeyframes;\n\n},{\"free-style\":8}],15:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FreeStyle = require(\"free-style\");\nvar formatting_1 = require(\"./formatting\");\nvar utilities_1 = require(\"./utilities\");\n/**\n * Creates an instance of free style with our options\n */\nvar createFreeStyle = function () { return FreeStyle.create(\n/** Use the default hash function */\nundefined, \n/** Preserve $debugName values */\ntrue); };\n/**\n * Maintains a single stylesheet and keeps it in sync with requested styles\n */\nvar TypeStyle = /** @class */ (function () {\n    function TypeStyle(_a) {\n        var autoGenerateTag = _a.autoGenerateTag;\n        var _this = this;\n        /**\n         * Insert `raw` CSS as a string. This is useful for e.g.\n         * - third party CSS that you are customizing with template strings\n         * - generating raw CSS in JavaScript\n         * - reset libraries like normalize.css that you can use without loaders\n         */\n        this.cssRaw = function (mustBeValidCSS) {\n            if (!mustBeValidCSS) {\n                return;\n            }\n            _this._raw += mustBeValidCSS || '';\n            _this._pendingRawChange = true;\n            _this._styleUpdated();\n        };\n        /**\n         * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n         */\n        this.cssRule = function (selector) {\n            var objects = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                objects[_i - 1] = arguments[_i];\n            }\n            var object = formatting_1.ensureStringObj(utilities_1.extend.apply(void 0, objects)).result;\n            _this._freeStyle.registerRule(selector, object);\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Renders styles to the singleton tag imediately\n         * NOTE: You should only call it on initial render to prevent any non CSS flash.\n         * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n         **/\n        this.forceRenderStyles = function () {\n            var target = _this._getTag();\n            if (!target) {\n                return;\n            }\n            target.textContent = _this.getStyles();\n        };\n        /**\n         * Utility function to register an @font-face\n         */\n        this.fontFace = function () {\n            var fontFace = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                fontFace[_i] = arguments[_i];\n            }\n            var freeStyle = _this._freeStyle;\n            for (var _a = 0, _b = fontFace; _a < _b.length; _a++) {\n                var face = _b[_a];\n                freeStyle.registerRule('@font-face', face);\n            }\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Allows use to use the stylesheet in a node.js environment\n         */\n        this.getStyles = function () {\n            return (_this._raw || '') + _this._freeStyle.getStyles();\n        };\n        /**\n         * Takes keyframes and returns a generated animationName\n         */\n        this.keyframes = function (frames) {\n            var _a = formatting_1.explodeKeyframes(frames), keyframes = _a.keyframes, $debugName = _a.$debugName;\n            // TODO: replace $debugName with display name\n            var animationName = _this._freeStyle.registerKeyframes(keyframes, $debugName);\n            _this._styleUpdated();\n            return animationName;\n        };\n        /**\n         * Helps with testing. Reinitializes FreeStyle + raw\n         */\n        this.reinit = function () {\n            /** reinit freestyle */\n            var freeStyle = createFreeStyle();\n            _this._freeStyle = freeStyle;\n            _this._lastFreeStyleChangeId = freeStyle.changeId;\n            /** reinit raw */\n            _this._raw = '';\n            _this._pendingRawChange = false;\n            /** Clear any styles that were flushed */\n            var target = _this._getTag();\n            if (target) {\n                target.textContent = '';\n            }\n        };\n        /** Sets the target tag where we write the css on style updates */\n        this.setStylesTarget = function (tag) {\n            /** Clear any data in any previous tag */\n            if (_this._tag) {\n                _this._tag.textContent = '';\n            }\n            _this._tag = tag;\n            /** This special time buffer immediately */\n            _this.forceRenderStyles();\n        };\n        /**\n         * Takes an object where property names are ideal class names and property values are CSSProperties, and\n         * returns an object where property names are the same ideal class names and the property values are\n         * the actual generated class names using the ideal class name as the $debugName\n         */\n        this.stylesheet = function (classes) {\n            var classNames = Object.getOwnPropertyNames(classes);\n            var result = {};\n            for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n                var className = classNames_1[_i];\n                var classDef = classes[className];\n                if (classDef) {\n                    classDef.$debugName = className;\n                    result[className] = _this.style(classDef);\n                }\n            }\n            return result;\n        };\n        var freeStyle = createFreeStyle();\n        this._autoGenerateTag = autoGenerateTag;\n        this._freeStyle = freeStyle;\n        this._lastFreeStyleChangeId = freeStyle.changeId;\n        this._pending = 0;\n        this._pendingRawChange = false;\n        this._raw = '';\n        this._tag = undefined;\n        // rebind prototype to TypeStyle.  It might be better to do a function() { return this.style.apply(this, arguments)}\n        this.style = this.style.bind(this);\n    }\n    /**\n     * Only calls cb all sync operations settle\n     */\n    TypeStyle.prototype._afterAllSync = function (cb) {\n        var _this = this;\n        this._pending++;\n        var pending = this._pending;\n        utilities_1.raf(function () {\n            if (pending !== _this._pending) {\n                return;\n            }\n            cb();\n        });\n    };\n    TypeStyle.prototype._getTag = function () {\n        if (this._tag) {\n            return this._tag;\n        }\n        if (this._autoGenerateTag) {\n            var tag = typeof window === 'undefined'\n                ? { textContent: '' }\n                : document.createElement('style');\n            if (typeof document !== 'undefined') {\n                document.head.appendChild(tag);\n            }\n            this._tag = tag;\n            return tag;\n        }\n        return undefined;\n    };\n    /** Checks if the style tag needs updating and if so queues up the change */\n    TypeStyle.prototype._styleUpdated = function () {\n        var _this = this;\n        var changeId = this._freeStyle.changeId;\n        var lastChangeId = this._lastFreeStyleChangeId;\n        if (!this._pendingRawChange && changeId === lastChangeId) {\n            return;\n        }\n        this._lastFreeStyleChangeId = changeId;\n        this._pendingRawChange = false;\n        this._afterAllSync(function () { return _this.forceRenderStyles(); });\n    };\n    TypeStyle.prototype.style = function () {\n        var freeStyle = this._freeStyle;\n        var _a = formatting_1.ensureStringObj(utilities_1.extend.apply(undefined, arguments)), result = _a.result, debugName = _a.debugName;\n        var className = debugName ? freeStyle.registerStyle(result, debugName) : freeStyle.registerStyle(result);\n        this._styleUpdated();\n        return className;\n    };\n    return TypeStyle;\n}());\nexports.TypeStyle = TypeStyle;\n\n},{\"./formatting\":14,\"./utilities\":16,\"free-style\":8}],16:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** Raf for node + browser */\nexports.raf = typeof requestAnimationFrame === 'undefined'\n    /**\n     * Make sure setTimeout is always invoked with\n     * `this` set to `window` or `global` automatically\n     **/\n    ? function (cb) { return setTimeout(cb); }\n    /**\n     * Make sure window.requestAnimationFrame is always invoked with `this` window\n     * We might have raf without window in case of `raf/polyfill` (recommended by React)\n     **/\n    : typeof window === 'undefined'\n        ? requestAnimationFrame\n        : requestAnimationFrame.bind(window);\n/**\n * Utility to join classes conditionally\n */\nfunction classes() {\n    var classes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        classes[_i] = arguments[_i];\n    }\n    return classes\n        .map(function (c) { return c && typeof c === 'object' ? Object.keys(c).map(function (key) { return !!c[key] && key; }) : [c]; })\n        .reduce(function (flattened, c) { return flattened.concat(c); }, [])\n        .filter(function (c) { return !!c; })\n        .join(' ');\n}\nexports.classes = classes;\n/**\n * Merges various styles into a single style object.\n * Note: if two objects have the same property the last one wins\n */\nfunction extend() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    /** The final result we will return */\n    var result = {};\n    for (var _a = 0, objects_1 = objects; _a < objects_1.length; _a++) {\n        var object = objects_1[_a];\n        if (object == null || object === false) {\n            continue;\n        }\n        for (var key in object) {\n            /** Falsy values except a explicit 0 is ignored */\n            var val = object[key];\n            if (!val && val !== 0) {\n                continue;\n            }\n            /** if nested media or pseudo selector */\n            if (key === '$nest' && val) {\n                result[key] = result['$nest'] ? extend(result['$nest'], val) : val;\n            }\n            else if ((key.indexOf('&') !== -1 || key.indexOf('@media') === 0)) {\n                result[key] = result[key] ? extend(result[key], val) : val;\n            }\n            else {\n                result[key] = val;\n            }\n        }\n    }\n    return result;\n}\nexports.extend = extend;\n/**\n * Utility to help customize styles with media queries. e.g.\n * ```\n * style(\n *  media({maxWidth:500}, {color:'red'})\n * )\n * ```\n */\nexports.media = function (mediaQuery) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    var mediaQuerySections = [];\n    if (mediaQuery.type)\n        mediaQuerySections.push(mediaQuery.type);\n    if (mediaQuery.orientation)\n        mediaQuerySections.push(\"(orientation: \" + mediaQuery.orientation + \")\");\n    if (mediaQuery.minWidth)\n        mediaQuerySections.push(\"(min-width: \" + mediaLength(mediaQuery.minWidth) + \")\");\n    if (mediaQuery.maxWidth)\n        mediaQuerySections.push(\"(max-width: \" + mediaLength(mediaQuery.maxWidth) + \")\");\n    if (mediaQuery.minHeight)\n        mediaQuerySections.push(\"(min-height: \" + mediaLength(mediaQuery.minHeight) + \")\");\n    if (mediaQuery.maxHeight)\n        mediaQuerySections.push(\"(max-height: \" + mediaLength(mediaQuery.maxHeight) + \")\");\n    var stringMediaQuery = \"@media \" + mediaQuerySections.join(' and ');\n    var object = {\n        $nest: (_a = {},\n            _a[stringMediaQuery] = extend.apply(void 0, objects),\n            _a)\n    };\n    return object;\n    var _a;\n};\nvar mediaLength = function (value) {\n    return typeof value === 'string' ? value : value + \"px\";\n};\n\n},{}],17:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n},{}],18:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Strings = require(\"./Strings\");\nvar Platform_1 = require(\"./common/Platform\");\nvar RenderDebouncer_1 = require(\"./ui/RenderDebouncer\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Lifecycle_2 = require(\"./common/Lifecycle\");\nvar ScreenDprMonitor_1 = require(\"./ui/ScreenDprMonitor\");\nvar MAX_ROWS_TO_READ = 20;\nvar AccessibilityManager = (function (_super) {\n    __extends(AccessibilityManager, _super);\n    function AccessibilityManager(_terminal, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._dimensions = _dimensions;\n        _this._liveRegionLineCount = 0;\n        _this._charsToConsume = [];\n        _this._charsToAnnounce = '';\n        _this._accessibilityTreeRoot = document.createElement('div');\n        _this._accessibilityTreeRoot.classList.add('xterm-accessibility');\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add('xterm-accessibility-tree');\n        _this._rowElements = [];\n        for (var i = 0; i < _this._terminal.rows; i++) {\n            _this._rowElements[i] = _this._createAccessibilityTreeNode();\n            _this._rowContainer.appendChild(_this._rowElements[i]);\n        }\n        _this._topBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 0); };\n        _this._bottomBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 1); };\n        _this._rowElements[0].addEventListener('focus', _this._topBoundaryFocusListener);\n        _this._rowElements[_this._rowElements.length - 1].addEventListener('focus', _this._bottomBoundaryFocusListener);\n        _this._refreshRowsDimensions();\n        _this._accessibilityTreeRoot.appendChild(_this._rowContainer);\n        _this._renderRowsDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._renderRows.bind(_this));\n        _this._refreshRows();\n        _this._liveRegion = document.createElement('div');\n        _this._liveRegion.classList.add('live-region');\n        _this._liveRegion.setAttribute('aria-live', 'assertive');\n        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n        _this._terminal.element.insertAdjacentElement('afterbegin', _this._accessibilityTreeRoot);\n        _this.register(_this._renderRowsDebouncer);\n        _this.register(_this._terminal.onResize(function (e) { return _this._onResize(e.rows); }));\n        _this.register(_this._terminal.onRender(function (e) { return _this._refreshRows(e.start, e.end); }));\n        _this.register(_this._terminal.onScroll(function () { return _this._refreshRows(); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.char', function (char) { return _this._onChar(char); }));\n        _this.register(_this._terminal.onLineFeed(function () { return _this._onChar('\\n'); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.tab', function (spaceCount) { return _this._onTab(spaceCount); }));\n        _this.register(_this._terminal.onKey(function (e) { return _this._onKey(e.key); }));\n        _this.register(_this._terminal.addDisposableListener('blur', function () { return _this._clearLiveRegion(); }));\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this.register(_this._screenDprMonitor);\n        _this._screenDprMonitor.setListener(function () { return _this._refreshRowsDimensions(); });\n        _this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this._refreshRowsDimensions(); }));\n        return _this;\n    }\n    AccessibilityManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal.element.removeChild(this._accessibilityTreeRoot);\n        this._rowElements.length = 0;\n    };\n    AccessibilityManager.prototype._onBoundaryFocus = function (e, position) {\n        var boundaryElement = e.target;\n        var beforeBoundaryElement = this._rowElements[position === 0 ? 1 : this._rowElements.length - 2];\n        var posInSet = boundaryElement.getAttribute('aria-posinset');\n        var lastRowPos = position === 0 ? '1' : \"\" + this._terminal.buffer.lines.length;\n        if (posInSet === lastRowPos) {\n            return;\n        }\n        if (e.relatedTarget !== beforeBoundaryElement) {\n            return;\n        }\n        var topBoundaryElement;\n        var bottomBoundaryElement;\n        if (position === 0) {\n            topBoundaryElement = boundaryElement;\n            bottomBoundaryElement = this._rowElements.pop();\n            this._rowContainer.removeChild(bottomBoundaryElement);\n        }\n        else {\n            topBoundaryElement = this._rowElements.shift();\n            bottomBoundaryElement = boundaryElement;\n            this._rowContainer.removeChild(topBoundaryElement);\n        }\n        topBoundaryElement.removeEventListener('focus', this._topBoundaryFocusListener);\n        bottomBoundaryElement.removeEventListener('focus', this._bottomBoundaryFocusListener);\n        if (position === 0) {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.unshift(newElement);\n            this._rowContainer.insertAdjacentElement('afterbegin', newElement);\n        }\n        else {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.push(newElement);\n            this._rowContainer.appendChild(newElement);\n        }\n        this._rowElements[0].addEventListener('focus', this._topBoundaryFocusListener);\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._terminal.scrollLines(position === 0 ? -1 : 1);\n        this._rowElements[position === 0 ? 1 : this._rowElements.length - 2].focus();\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    AccessibilityManager.prototype._onResize = function (rows) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener('focus', this._bottomBoundaryFocusListener);\n        for (var i = this._rowContainer.children.length; i < this._terminal.rows; i++) {\n            this._rowElements[i] = this._createAccessibilityTreeNode();\n            this._rowContainer.appendChild(this._rowElements[i]);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._createAccessibilityTreeNode = function () {\n        var element = document.createElement('div');\n        element.setAttribute('role', 'listitem');\n        element.tabIndex = -1;\n        this._refreshRowDimensions(element);\n        return element;\n    };\n    AccessibilityManager.prototype._onTab = function (spaceCount) {\n        for (var i = 0; i < spaceCount; i++) {\n            this._onChar(' ');\n        }\n    };\n    AccessibilityManager.prototype._onChar = function (char) {\n        var _this = this;\n        if (this._liveRegionLineCount < MAX_ROWS_TO_READ + 1) {\n            if (this._charsToConsume.length > 0) {\n                var shiftedChar = this._charsToConsume.shift();\n                if (shiftedChar !== char) {\n                    this._charsToAnnounce += char;\n                }\n            }\n            else {\n                this._charsToAnnounce += char;\n            }\n            if (char === '\\n') {\n                this._liveRegionLineCount++;\n                if (this._liveRegionLineCount === MAX_ROWS_TO_READ + 1) {\n                    this._liveRegion.textContent += Strings.tooMuchOutput;\n                }\n            }\n            if (Platform_1.isMac) {\n                if (this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode) {\n                    setTimeout(function () {\n                        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n                    }, 0);\n                }\n            }\n        }\n    };\n    AccessibilityManager.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = '';\n        this._liveRegionLineCount = 0;\n        if (Platform_1.isMac) {\n            if (this._liveRegion.parentNode) {\n                this._accessibilityTreeRoot.removeChild(this._liveRegion);\n            }\n        }\n    };\n    AccessibilityManager.prototype._onKey = function (keyChar) {\n        this._clearLiveRegion();\n        this._charsToConsume.push(keyChar);\n    };\n    AccessibilityManager.prototype._refreshRows = function (start, end) {\n        this._renderRowsDebouncer.refresh(start, end, this._terminal.rows);\n    };\n    AccessibilityManager.prototype._renderRows = function (start, end) {\n        var buffer = this._terminal.buffer;\n        var setSize = buffer.lines.length.toString();\n        for (var i = start; i <= end; i++) {\n            var lineData = buffer.translateBufferLineToString(buffer.ydisp + i, true);\n            var posInSet = (buffer.ydisp + i + 1).toString();\n            var element = this._rowElements[i];\n            if (element) {\n                element.textContent = lineData.length === 0 ? Strings.blankLine : lineData;\n                element.setAttribute('aria-posinset', posInSet);\n                element.setAttribute('aria-setsize', setSize);\n            }\n        }\n        this._announceCharacters();\n    };\n    AccessibilityManager.prototype._refreshRowsDimensions = function () {\n        if (!this._dimensions.actualCellHeight) {\n            return;\n        }\n        if (this._rowElements.length !== this._terminal.rows) {\n            this._onResize(this._terminal.rows);\n        }\n        for (var i = 0; i < this._terminal.rows; i++) {\n            this._refreshRowDimensions(this._rowElements[i]);\n        }\n    };\n    AccessibilityManager.prototype.setDimensions = function (dimensions) {\n        this._dimensions = dimensions;\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._refreshRowDimensions = function (element) {\n        element.style.height = this._dimensions.actualCellHeight + \"px\";\n    };\n    AccessibilityManager.prototype._announceCharacters = function () {\n        if (this._charsToAnnounce.length === 0) {\n            return;\n        }\n        this._liveRegion.textContent += this._charsToAnnounce;\n        this._charsToAnnounce = '';\n    };\n    return AccessibilityManager;\n}(Lifecycle_2.Disposable));\nexports.AccessibilityManager = AccessibilityManager;\n\n},{\"./Strings\":33,\"./common/Lifecycle\":42,\"./common/Platform\":43,\"./ui/Lifecycle\":77,\"./ui/RenderDebouncer\":78,\"./ui/ScreenDprMonitor\":79}],19:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CircularList_1 = require(\"./common/CircularList\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar BufferReflow_1 = require(\"./core/buffer/BufferReflow\");\nvar Marker_1 = require(\"./core/buffer/Marker\");\nexports.MAX_BUFFER_SIZE = 4294967295;\nvar Buffer = (function () {\n    function Buffer(_terminal, _hasScrollback) {\n        this._terminal = _terminal;\n        this._hasScrollback = _hasScrollback;\n        this.savedCurAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.markers = [];\n        this._nullCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.NULL_CELL_CHAR, BufferLine_1.NULL_CELL_WIDTH, BufferLine_1.NULL_CELL_CODE]);\n        this._whitespaceCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.WHITESPACE_CELL_CHAR, BufferLine_1.WHITESPACE_CELL_WIDTH, BufferLine_1.WHITESPACE_CELL_CODE]);\n        this._cols = this._terminal.cols;\n        this._rows = this._terminal.rows;\n        this.clear();\n    }\n    Buffer.prototype.getNullCell = function (attr) {\n        if (attr) {\n            this._nullCell.fg = attr.fg;\n            this._nullCell.bg = attr.bg;\n        }\n        else {\n            this._nullCell.fg = 0;\n            this._nullCell.bg = 0;\n        }\n        return this._nullCell;\n    };\n    Buffer.prototype.getWhitespaceCell = function (attr) {\n        if (attr) {\n            this._whitespaceCell.fg = attr.fg;\n            this._whitespaceCell.bg = attr.bg;\n        }\n        else {\n            this._whitespaceCell.fg = 0;\n            this._whitespaceCell.bg = 0;\n        }\n        return this._whitespaceCell;\n    };\n    Buffer.prototype.getBlankLine = function (attr, isWrapped) {\n        return new BufferLine_1.BufferLine(this._terminal.cols, this.getNullCell(attr), isWrapped);\n    };\n    Object.defineProperty(Buffer.prototype, \"hasScrollback\", {\n        get: function () {\n            return this._hasScrollback && this.lines.maxLength > this._rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Buffer.prototype, \"isCursorInViewport\", {\n        get: function () {\n            var absoluteY = this.ybase + this.y;\n            var relativeY = absoluteY - this.ydisp;\n            return (relativeY >= 0 && relativeY < this._rows);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._getCorrectBufferLength = function (rows) {\n        if (!this._hasScrollback) {\n            return rows;\n        }\n        var correctBufferLength = rows + this._terminal.options.scrollback;\n        return correctBufferLength > exports.MAX_BUFFER_SIZE ? exports.MAX_BUFFER_SIZE : correctBufferLength;\n    };\n    Buffer.prototype.fillViewportRows = function (fillAttr) {\n        if (this.lines.length === 0) {\n            if (fillAttr === undefined) {\n                fillAttr = BufferLine_1.DEFAULT_ATTR_DATA;\n            }\n            var i = this._rows;\n            while (i--) {\n                this.lines.push(this.getBlankLine(fillAttr));\n            }\n        }\n    };\n    Buffer.prototype.clear = function () {\n        this.ydisp = 0;\n        this.ybase = 0;\n        this.y = 0;\n        this.x = 0;\n        this.lines = new CircularList_1.CircularList(this._getCorrectBufferLength(this._rows));\n        this.scrollTop = 0;\n        this.scrollBottom = this._rows - 1;\n        this.setupTabStops();\n    };\n    Buffer.prototype.resize = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var newMaxLength = this._getCorrectBufferLength(newRows);\n        if (newMaxLength > this.lines.maxLength) {\n            this.lines.maxLength = newMaxLength;\n        }\n        if (this.lines.length > 0) {\n            if (this._cols < newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n            var addToY = 0;\n            if (this._rows < newRows) {\n                for (var y = this._rows; y < newRows; y++) {\n                    if (this.lines.length < newRows + this.ybase) {\n                        if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                            this.ybase--;\n                            addToY++;\n                            if (this.ydisp > 0) {\n                                this.ydisp--;\n                            }\n                        }\n                        else {\n                            this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                        }\n                    }\n                }\n            }\n            else {\n                for (var y = this._rows; y > newRows; y--) {\n                    if (this.lines.length > newRows + this.ybase) {\n                        if (this.lines.length > this.ybase + this.y + 1) {\n                            this.lines.pop();\n                        }\n                        else {\n                            this.ybase++;\n                            this.ydisp++;\n                        }\n                    }\n                }\n            }\n            if (newMaxLength < this.lines.maxLength) {\n                var amountToTrim = this.lines.length - newMaxLength;\n                if (amountToTrim > 0) {\n                    this.lines.trimStart(amountToTrim);\n                    this.ybase = Math.max(this.ybase - amountToTrim, 0);\n                    this.ydisp = Math.max(this.ydisp - amountToTrim, 0);\n                }\n                this.lines.maxLength = newMaxLength;\n            }\n            this.x = Math.min(this.x, newCols - 1);\n            this.y = Math.min(this.y, newRows - 1);\n            if (addToY) {\n                this.y += addToY;\n            }\n            this.savedY = Math.min(this.savedY, newRows - 1);\n            this.savedX = Math.min(this.savedX, newCols - 1);\n            this.scrollTop = 0;\n        }\n        this.scrollBottom = newRows - 1;\n        if (this._isReflowEnabled) {\n            this._reflow(newCols, newRows);\n            if (this._cols > newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n        }\n        this._cols = newCols;\n        this._rows = newRows;\n    };\n    Object.defineProperty(Buffer.prototype, \"_isReflowEnabled\", {\n        get: function () {\n            return this._hasScrollback && !this._terminal.options.windowsMode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._reflow = function (newCols, newRows) {\n        if (this._cols === newCols) {\n            return;\n        }\n        if (newCols > this._cols) {\n            this._reflowLarger(newCols, newRows);\n        }\n        else {\n            this._reflowSmaller(newCols, newRows);\n        }\n    };\n    Buffer.prototype._reflowLarger = function (newCols, newRows) {\n        var toRemove = BufferReflow_1.reflowLargerGetLinesToRemove(this.lines, this._cols, newCols, this.ybase + this.y, this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n        if (toRemove.length > 0) {\n            var newLayoutResult = BufferReflow_1.reflowLargerCreateNewLayout(this.lines, toRemove);\n            BufferReflow_1.reflowLargerApplyNewLayout(this.lines, newLayoutResult.layout);\n            this._reflowLargerAdjustViewport(newCols, newRows, newLayoutResult.countRemoved);\n        }\n    };\n    Buffer.prototype._reflowLargerAdjustViewport = function (newCols, newRows, countRemoved) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var viewportAdjustments = countRemoved;\n        while (viewportAdjustments-- > 0) {\n            if (this.ybase === 0) {\n                if (this.y > 0) {\n                    this.y--;\n                }\n                if (this.lines.length < newRows) {\n                    this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                }\n            }\n            else {\n                if (this.ydisp === this.ybase) {\n                    this.ydisp--;\n                }\n                this.ybase--;\n            }\n        }\n    };\n    Buffer.prototype._reflowSmaller = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var toInsert = [];\n        var countToInsert = 0;\n        for (var y = this.lines.length - 1; y >= 0; y--) {\n            var nextLine = this.lines.get(y);\n            if (!nextLine || !nextLine.isWrapped && nextLine.getTrimmedLength() <= newCols) {\n                continue;\n            }\n            var wrappedLines = [nextLine];\n            while (nextLine.isWrapped && y > 0) {\n                nextLine = this.lines.get(--y);\n                wrappedLines.unshift(nextLine);\n            }\n            var absoluteY = this.ybase + this.y;\n            if (absoluteY >= y && absoluteY < y + wrappedLines.length) {\n                continue;\n            }\n            var lastLineLength = wrappedLines[wrappedLines.length - 1].getTrimmedLength();\n            var destLineLengths = BufferReflow_1.reflowSmallerGetNewLineLengths(wrappedLines, this._cols, newCols);\n            var linesToAdd = destLineLengths.length - wrappedLines.length;\n            var trimmedLines = void 0;\n            if (this.ybase === 0 && this.y !== this.lines.length - 1) {\n                trimmedLines = Math.max(0, this.y - this.lines.maxLength + linesToAdd);\n            }\n            else {\n                trimmedLines = Math.max(0, this.lines.length - this.lines.maxLength + linesToAdd);\n            }\n            var newLines = [];\n            for (var i = 0; i < linesToAdd; i++) {\n                var newLine = this.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA, true);\n                newLines.push(newLine);\n            }\n            if (newLines.length > 0) {\n                toInsert.push({\n                    start: y + wrappedLines.length + countToInsert,\n                    newLines: newLines\n                });\n                countToInsert += newLines.length;\n            }\n            wrappedLines.push.apply(wrappedLines, newLines);\n            var destLineIndex = destLineLengths.length - 1;\n            var destCol = destLineLengths[destLineIndex];\n            if (destCol === 0) {\n                destLineIndex--;\n                destCol = destLineLengths[destLineIndex];\n            }\n            var srcLineIndex = wrappedLines.length - linesToAdd - 1;\n            var srcCol = lastLineLength;\n            while (srcLineIndex >= 0) {\n                var cellsToCopy = Math.min(srcCol, destCol);\n                wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol - cellsToCopy, destCol - cellsToCopy, cellsToCopy, true);\n                destCol -= cellsToCopy;\n                if (destCol === 0) {\n                    destLineIndex--;\n                    destCol = destLineLengths[destLineIndex];\n                }\n                srcCol -= cellsToCopy;\n                if (srcCol === 0) {\n                    srcLineIndex--;\n                    var wrappedLinesIndex = Math.max(srcLineIndex, 0);\n                    srcCol = BufferReflow_1.getWrappedLineTrimmedLength(wrappedLines, wrappedLinesIndex, this._cols);\n                }\n            }\n            for (var i = 0; i < wrappedLines.length; i++) {\n                if (destLineLengths[i] < newCols) {\n                    wrappedLines[i].setCell(destLineLengths[i], nullCell);\n                }\n            }\n            var viewportAdjustments = linesToAdd - trimmedLines;\n            while (viewportAdjustments-- > 0) {\n                if (this.ybase === 0) {\n                    if (this.y < newRows - 1) {\n                        this.y++;\n                        this.lines.pop();\n                    }\n                    else {\n                        this.ybase++;\n                        this.ydisp++;\n                    }\n                }\n                else {\n                    if (this.ybase < Math.min(this.lines.maxLength, this.lines.length + countToInsert) - newRows) {\n                        if (this.ybase === this.ydisp) {\n                            this.ydisp++;\n                        }\n                        this.ybase++;\n                    }\n                }\n            }\n        }\n        if (toInsert.length > 0) {\n            var insertEvents = [];\n            var originalLines = [];\n            for (var i = 0; i < this.lines.length; i++) {\n                originalLines.push(this.lines.get(i));\n            }\n            var originalLinesLength = this.lines.length;\n            var originalLineIndex = originalLinesLength - 1;\n            var nextToInsertIndex = 0;\n            var nextToInsert = toInsert[nextToInsertIndex];\n            this.lines.length = Math.min(this.lines.maxLength, this.lines.length + countToInsert);\n            var countInsertedSoFar = 0;\n            for (var i = Math.min(this.lines.maxLength - 1, originalLinesLength + countToInsert - 1); i >= 0; i--) {\n                if (nextToInsert && nextToInsert.start > originalLineIndex + countInsertedSoFar) {\n                    for (var nextI = nextToInsert.newLines.length - 1; nextI >= 0; nextI--) {\n                        this.lines.set(i--, nextToInsert.newLines[nextI]);\n                    }\n                    i++;\n                    insertEvents.push({\n                        index: originalLineIndex + 1,\n                        amount: nextToInsert.newLines.length\n                    });\n                    countInsertedSoFar += nextToInsert.newLines.length;\n                    nextToInsert = toInsert[++nextToInsertIndex];\n                }\n                else {\n                    this.lines.set(i, originalLines[originalLineIndex--]);\n                }\n            }\n            var insertCountEmitted = 0;\n            for (var i = insertEvents.length - 1; i >= 0; i--) {\n                insertEvents[i].index += insertCountEmitted;\n                this.lines.onInsertEmitter.fire(insertEvents[i]);\n                insertCountEmitted += insertEvents[i].amount;\n            }\n            var amountToTrim = Math.max(0, originalLinesLength + countToInsert - this.lines.maxLength);\n            if (amountToTrim > 0) {\n                this.lines.onTrimEmitter.fire(amountToTrim);\n            }\n        }\n    };\n    Buffer.prototype.stringIndexToBufferIndex = function (lineIndex, stringIndex, trimRight) {\n        if (trimRight === void 0) { trimRight = false; }\n        while (stringIndex) {\n            var line = this.lines.get(lineIndex);\n            if (!line) {\n                return [-1, -1];\n            }\n            var length_1 = (trimRight) ? line.getTrimmedLength() : line.length;\n            for (var i = 0; i < length_1; ++i) {\n                if (line.get(i)[BufferLine_1.CHAR_DATA_WIDTH_INDEX]) {\n                    stringIndex -= line.get(i)[BufferLine_1.CHAR_DATA_CHAR_INDEX].length || 1;\n                }\n                if (stringIndex < 0) {\n                    return [lineIndex, i];\n                }\n            }\n            lineIndex++;\n        }\n        return [lineIndex, 0];\n    };\n    Buffer.prototype.translateBufferLineToString = function (lineIndex, trimRight, startCol, endCol) {\n        if (startCol === void 0) { startCol = 0; }\n        var line = this.lines.get(lineIndex);\n        if (!line) {\n            return '';\n        }\n        return line.translateToString(trimRight, startCol, endCol);\n    };\n    Buffer.prototype.getWrappedRangeForLine = function (y) {\n        var first = y;\n        var last = y;\n        while (first > 0 && this.lines.get(first).isWrapped) {\n            first--;\n        }\n        while (last + 1 < this.lines.length && this.lines.get(last + 1).isWrapped) {\n            last++;\n        }\n        return { first: first, last: last };\n    };\n    Buffer.prototype.setupTabStops = function (i) {\n        if (i !== null && i !== undefined) {\n            if (!this.tabs[i]) {\n                i = this.prevStop(i);\n            }\n        }\n        else {\n            this.tabs = {};\n            i = 0;\n        }\n        for (; i < this._cols; i += this._terminal.options.tabStopWidth) {\n            this.tabs[i] = true;\n        }\n    };\n    Buffer.prototype.prevStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[--x] && x > 0)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.nextStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[++x] && x < this._cols)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.addMarker = function (y) {\n        var _this = this;\n        var marker = new Marker_1.Marker(y);\n        this.markers.push(marker);\n        marker.register(this.lines.onTrim(function (amount) {\n            marker.line -= amount;\n            if (marker.line < 0) {\n                marker.dispose();\n            }\n        }));\n        marker.register(this.lines.onInsert(function (event) {\n            if (marker.line >= event.index) {\n                marker.line += event.amount;\n            }\n        }));\n        marker.register(this.lines.onDelete(function (event) {\n            if (marker.line >= event.index && marker.line < event.index + event.amount) {\n                marker.dispose();\n            }\n            if (marker.line > event.index) {\n                marker.line -= event.amount;\n            }\n        }));\n        marker.register(marker.onDispose(function () { return _this._removeMarker(marker); }));\n        return marker;\n    };\n    Buffer.prototype._removeMarker = function (marker) {\n        this.markers.splice(this.markers.indexOf(marker), 1);\n    };\n    Buffer.prototype.iterator = function (trimRight, startIndex, endIndex, startOverscan, endOverscan) {\n        return new BufferStringIterator(this, trimRight, startIndex, endIndex, startOverscan, endOverscan);\n    };\n    return Buffer;\n}());\nexports.Buffer = Buffer;\nvar BufferStringIterator = (function () {\n    function BufferStringIterator(_buffer, _trimRight, _startIndex, _endIndex, _startOverscan, _endOverscan) {\n        if (_startIndex === void 0) { _startIndex = 0; }\n        if (_endIndex === void 0) { _endIndex = _buffer.lines.length; }\n        if (_startOverscan === void 0) { _startOverscan = 0; }\n        if (_endOverscan === void 0) { _endOverscan = 0; }\n        this._buffer = _buffer;\n        this._trimRight = _trimRight;\n        this._startIndex = _startIndex;\n        this._endIndex = _endIndex;\n        this._startOverscan = _startOverscan;\n        this._endOverscan = _endOverscan;\n        if (this._startIndex < 0) {\n            this._startIndex = 0;\n        }\n        if (this._endIndex > this._buffer.lines.length) {\n            this._endIndex = this._buffer.lines.length;\n        }\n        this._current = this._startIndex;\n    }\n    BufferStringIterator.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n    };\n    BufferStringIterator.prototype.next = function () {\n        var range = this._buffer.getWrappedRangeForLine(this._current);\n        if (range.first < this._startIndex - this._startOverscan) {\n            range.first = this._startIndex - this._startOverscan;\n        }\n        if (range.last > this._endIndex + this._endOverscan) {\n            range.last = this._endIndex + this._endOverscan;\n        }\n        range.first = Math.max(range.first, 0);\n        range.last = Math.min(range.last, this._buffer.lines.length);\n        var result = '';\n        for (var i = range.first; i <= range.last; ++i) {\n            result += this._buffer.translateBufferLineToString(i, this._trimRight);\n        }\n        this._current = range.last + 1;\n        return { range: range, content: result };\n    };\n    return BufferStringIterator;\n}());\nexports.BufferStringIterator = BufferStringIterator;\n\n},{\"./common/CircularList\":38,\"./core/buffer/BufferLine\":47,\"./core/buffer/BufferReflow\":48,\"./core/buffer/Marker\":49}],20:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"./Buffer\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar BufferSet = (function () {\n    function BufferSet(_terminal) {\n        this._terminal = _terminal;\n        this._onBufferActivate = new EventEmitter2_1.EventEmitter2();\n        this._normal = new Buffer_1.Buffer(this._terminal, true);\n        this._normal.fillViewportRows();\n        this._alt = new Buffer_1.Buffer(this._terminal, false);\n        this._activeBuffer = this._normal;\n        this.setupTabStops();\n    }\n    Object.defineProperty(BufferSet.prototype, \"onBufferActivate\", {\n        get: function () { return this._onBufferActivate.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"alt\", {\n        get: function () {\n            return this._alt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"active\", {\n        get: function () {\n            return this._activeBuffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"normal\", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferSet.prototype.activateNormalBuffer = function () {\n        if (this._activeBuffer === this._normal) {\n            return;\n        }\n        this._normal.x = this._alt.x;\n        this._normal.y = this._alt.y;\n        this._alt.clear();\n        this._activeBuffer = this._normal;\n        this._onBufferActivate.fire({\n            activeBuffer: this._normal,\n            inactiveBuffer: this._alt\n        });\n    };\n    BufferSet.prototype.activateAltBuffer = function (fillAttr) {\n        if (this._activeBuffer === this._alt) {\n            return;\n        }\n        this._alt.fillViewportRows(fillAttr);\n        this._alt.x = this._normal.x;\n        this._alt.y = this._normal.y;\n        this._activeBuffer = this._alt;\n        this._onBufferActivate.fire({\n            activeBuffer: this._alt,\n            inactiveBuffer: this._normal\n        });\n    };\n    BufferSet.prototype.resize = function (newCols, newRows) {\n        this._normal.resize(newCols, newRows);\n        this._alt.resize(newCols, newRows);\n    };\n    BufferSet.prototype.setupTabStops = function (i) {\n        this._normal.setupTabStops(i);\n        this._alt.setupTabStops(i);\n    };\n    return BufferSet;\n}());\nexports.BufferSet = BufferSet;\n\n},{\"./Buffer\":19,\"./common/EventEmitter2\":41}],21:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar CharMeasure = (function () {\n    function CharMeasure(document, parentElement) {\n        this._onCharSizeChanged = new EventEmitter2_1.EventEmitter2();\n        this._document = document;\n        this._parentElement = parentElement;\n        this._measureElement = this._document.createElement('span');\n        this._measureElement.classList.add('xterm-char-measure-element');\n        this._measureElement.textContent = 'W';\n        this._measureElement.setAttribute('aria-hidden', 'true');\n        this._parentElement.appendChild(this._measureElement);\n    }\n    Object.defineProperty(CharMeasure.prototype, \"onCharSizeChanged\", {\n        get: function () { return this._onCharSizeChanged.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CharMeasure.prototype.measure = function (options) {\n        this._measureElement.style.fontFamily = options.fontFamily;\n        this._measureElement.style.fontSize = options.fontSize + \"px\";\n        var geometry = this._measureElement.getBoundingClientRect();\n        if (geometry.width === 0 || geometry.height === 0) {\n            return;\n        }\n        var adjustedHeight = Math.ceil(geometry.height);\n        if (this._width !== geometry.width || this._height !== adjustedHeight) {\n            this._width = geometry.width;\n            this._height = adjustedHeight;\n            this._onCharSizeChanged.fire();\n        }\n    };\n    return CharMeasure;\n}());\nexports.CharMeasure = CharMeasure;\n\n},{\"./common/EventEmitter2\":41}],22:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nexports.wcwidth = (function (opts) {\n    var COMBINING_BMP = [\n        [0x0300, 0x036F], [0x0483, 0x0486], [0x0488, 0x0489],\n        [0x0591, 0x05BD], [0x05BF, 0x05BF], [0x05C1, 0x05C2],\n        [0x05C4, 0x05C5], [0x05C7, 0x05C7], [0x0600, 0x0603],\n        [0x0610, 0x0615], [0x064B, 0x065E], [0x0670, 0x0670],\n        [0x06D6, 0x06E4], [0x06E7, 0x06E8], [0x06EA, 0x06ED],\n        [0x070F, 0x070F], [0x0711, 0x0711], [0x0730, 0x074A],\n        [0x07A6, 0x07B0], [0x07EB, 0x07F3], [0x0901, 0x0902],\n        [0x093C, 0x093C], [0x0941, 0x0948], [0x094D, 0x094D],\n        [0x0951, 0x0954], [0x0962, 0x0963], [0x0981, 0x0981],\n        [0x09BC, 0x09BC], [0x09C1, 0x09C4], [0x09CD, 0x09CD],\n        [0x09E2, 0x09E3], [0x0A01, 0x0A02], [0x0A3C, 0x0A3C],\n        [0x0A41, 0x0A42], [0x0A47, 0x0A48], [0x0A4B, 0x0A4D],\n        [0x0A70, 0x0A71], [0x0A81, 0x0A82], [0x0ABC, 0x0ABC],\n        [0x0AC1, 0x0AC5], [0x0AC7, 0x0AC8], [0x0ACD, 0x0ACD],\n        [0x0AE2, 0x0AE3], [0x0B01, 0x0B01], [0x0B3C, 0x0B3C],\n        [0x0B3F, 0x0B3F], [0x0B41, 0x0B43], [0x0B4D, 0x0B4D],\n        [0x0B56, 0x0B56], [0x0B82, 0x0B82], [0x0BC0, 0x0BC0],\n        [0x0BCD, 0x0BCD], [0x0C3E, 0x0C40], [0x0C46, 0x0C48],\n        [0x0C4A, 0x0C4D], [0x0C55, 0x0C56], [0x0CBC, 0x0CBC],\n        [0x0CBF, 0x0CBF], [0x0CC6, 0x0CC6], [0x0CCC, 0x0CCD],\n        [0x0CE2, 0x0CE3], [0x0D41, 0x0D43], [0x0D4D, 0x0D4D],\n        [0x0DCA, 0x0DCA], [0x0DD2, 0x0DD4], [0x0DD6, 0x0DD6],\n        [0x0E31, 0x0E31], [0x0E34, 0x0E3A], [0x0E47, 0x0E4E],\n        [0x0EB1, 0x0EB1], [0x0EB4, 0x0EB9], [0x0EBB, 0x0EBC],\n        [0x0EC8, 0x0ECD], [0x0F18, 0x0F19], [0x0F35, 0x0F35],\n        [0x0F37, 0x0F37], [0x0F39, 0x0F39], [0x0F71, 0x0F7E],\n        [0x0F80, 0x0F84], [0x0F86, 0x0F87], [0x0F90, 0x0F97],\n        [0x0F99, 0x0FBC], [0x0FC6, 0x0FC6], [0x102D, 0x1030],\n        [0x1032, 0x1032], [0x1036, 0x1037], [0x1039, 0x1039],\n        [0x1058, 0x1059], [0x1160, 0x11FF], [0x135F, 0x135F],\n        [0x1712, 0x1714], [0x1732, 0x1734], [0x1752, 0x1753],\n        [0x1772, 0x1773], [0x17B4, 0x17B5], [0x17B7, 0x17BD],\n        [0x17C6, 0x17C6], [0x17C9, 0x17D3], [0x17DD, 0x17DD],\n        [0x180B, 0x180D], [0x18A9, 0x18A9], [0x1920, 0x1922],\n        [0x1927, 0x1928], [0x1932, 0x1932], [0x1939, 0x193B],\n        [0x1A17, 0x1A18], [0x1B00, 0x1B03], [0x1B34, 0x1B34],\n        [0x1B36, 0x1B3A], [0x1B3C, 0x1B3C], [0x1B42, 0x1B42],\n        [0x1B6B, 0x1B73], [0x1DC0, 0x1DCA], [0x1DFE, 0x1DFF],\n        [0x200B, 0x200F], [0x202A, 0x202E], [0x2060, 0x2063],\n        [0x206A, 0x206F], [0x20D0, 0x20EF], [0x302A, 0x302F],\n        [0x3099, 0x309A], [0xA806, 0xA806], [0xA80B, 0xA80B],\n        [0xA825, 0xA826], [0xFB1E, 0xFB1E], [0xFE00, 0xFE0F],\n        [0xFE20, 0xFE23], [0xFEFF, 0xFEFF], [0xFFF9, 0xFFFB]\n    ];\n    var COMBINING_HIGH = [\n        [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n        [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n        [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n        [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n        [0xE0100, 0xE01EF]\n    ];\n    function bisearch(ucs, data) {\n        var min = 0;\n        var max = data.length - 1;\n        var mid;\n        if (ucs < data[0][0] || ucs > data[max][1]) {\n            return false;\n        }\n        while (max >= min) {\n            mid = (min + max) >> 1;\n            if (ucs > data[mid][1]) {\n                min = mid + 1;\n            }\n            else if (ucs < data[mid][0]) {\n                max = mid - 1;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    }\n    function wcwidthHigh(ucs) {\n        if (bisearch(ucs, COMBINING_HIGH)) {\n            return 0;\n        }\n        if ((ucs >= 0x20000 && ucs <= 0x2fffd) || (ucs >= 0x30000 && ucs <= 0x3fffd)) {\n            return 2;\n        }\n        return 1;\n    }\n    var control = opts.control | 0;\n    var table = new Uint8Array(65536);\n    TypedArrayUtils_1.fill(table, 1);\n    table[0] = opts.nul;\n    TypedArrayUtils_1.fill(table, opts.control, 1, 32);\n    TypedArrayUtils_1.fill(table, opts.control, 0x7f, 0xa0);\n    TypedArrayUtils_1.fill(table, 2, 0x1100, 0x1160);\n    table[0x2329] = 2;\n    table[0x232a] = 2;\n    TypedArrayUtils_1.fill(table, 2, 0x2e80, 0xa4d0);\n    table[0x303f] = 1;\n    TypedArrayUtils_1.fill(table, 2, 0xac00, 0xd7a4);\n    TypedArrayUtils_1.fill(table, 2, 0xf900, 0xfb00);\n    TypedArrayUtils_1.fill(table, 2, 0xfe10, 0xfe1a);\n    TypedArrayUtils_1.fill(table, 2, 0xfe30, 0xfe70);\n    TypedArrayUtils_1.fill(table, 2, 0xff00, 0xff61);\n    TypedArrayUtils_1.fill(table, 2, 0xffe0, 0xffe7);\n    for (var r = 0; r < COMBINING_BMP.length; ++r) {\n        TypedArrayUtils_1.fill(table, 0, COMBINING_BMP[r][0], COMBINING_BMP[r][1] + 1);\n    }\n    return function (num) {\n        if (num < 32) {\n            return control | 0;\n        }\n        if (num < 127) {\n            return 1;\n        }\n        if (num < 65536) {\n            return table[num];\n        }\n        return wcwidthHigh(num);\n    };\n})({ nul: 0, control: 0 });\nfunction getStringCellWidth(s) {\n    var result = 0;\n    var length = s.length;\n    for (var i = 0; i < length; ++i) {\n        var code = s.charCodeAt(i);\n        if (0xD800 <= code && code <= 0xDBFF) {\n            if (++i >= length) {\n                return result + exports.wcwidth(code);\n            }\n            var second = s.charCodeAt(i);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                result += exports.wcwidth(second);\n            }\n        }\n        result += exports.wcwidth(code);\n    }\n    return result;\n}\nexports.getStringCellWidth = getStringCellWidth;\n\n},{\"./common/TypedArrayUtils\":44}],23:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction prepareTextForTerminal(text) {\n    return text.replace(/\\r?\\n/g, '\\r');\n}\nexports.prepareTextForTerminal = prepareTextForTerminal;\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n    if (bracketedPasteMode) {\n        return '\\x1b[200~' + text + '\\x1b[201~';\n    }\n    return text;\n}\nexports.bracketTextForPaste = bracketTextForPaste;\nfunction copyHandler(ev, term, selectionManager) {\n    if (term.browser.isMSIE) {\n        window.clipboardData.setData('Text', selectionManager.selectionText);\n    }\n    else {\n        ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n    }\n    ev.preventDefault();\n}\nexports.copyHandler = copyHandler;\nfunction pasteHandler(ev, term) {\n    ev.stopPropagation();\n    var text;\n    var dispatchPaste = function (text) {\n        text = prepareTextForTerminal(text);\n        text = bracketTextForPaste(text, term.bracketedPasteMode);\n        term.handler(text);\n        term.textarea.value = '';\n        term.emit('paste', text);\n        term.cancel(ev);\n    };\n    if (term.browser.isMSIE) {\n        if (window.clipboardData) {\n            text = window.clipboardData.getData('Text');\n            dispatchPaste(text);\n        }\n    }\n    else {\n        if (ev.clipboardData) {\n            text = ev.clipboardData.getData('text/plain');\n            dispatchPaste(text);\n        }\n    }\n}\nexports.pasteHandler = pasteHandler;\nfunction moveTextAreaUnderMouseCursor(ev, term) {\n    var pos = term.screenElement.getBoundingClientRect();\n    var left = ev.clientX - pos.left - 10;\n    var top = ev.clientY - pos.top - 10;\n    term.textarea.style.position = 'absolute';\n    term.textarea.style.width = '20px';\n    term.textarea.style.height = '20px';\n    term.textarea.style.left = left + \"px\";\n    term.textarea.style.top = top + \"px\";\n    term.textarea.style.zIndex = '1000';\n    term.textarea.focus();\n    setTimeout(function () {\n        term.textarea.style.position = null;\n        term.textarea.style.width = null;\n        term.textarea.style.height = null;\n        term.textarea.style.left = null;\n        term.textarea.style.top = null;\n        term.textarea.style.zIndex = null;\n    }, 200);\n}\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\nfunction rightClickHandler(ev, term, selectionManager, shouldSelectWord) {\n    moveTextAreaUnderMouseCursor(ev, term);\n    if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n        selectionManager.selectWordAtCursor(ev);\n    }\n    term.textarea.value = selectionManager.selectionText;\n    term.textarea.select();\n}\nexports.rightClickHandler = rightClickHandler;\n\n},{}],24:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompositionHelper = (function () {\n    function CompositionHelper(_textarea, _compositionView, _terminal) {\n        this._textarea = _textarea;\n        this._compositionView = _compositionView;\n        this._terminal = _terminal;\n        this._isComposing = false;\n        this._isSendingComposition = false;\n        this._compositionPosition = { start: null, end: null };\n    }\n    CompositionHelper.prototype.compositionstart = function () {\n        this._isComposing = true;\n        this._compositionPosition.start = this._textarea.value.length;\n        this._compositionView.textContent = '';\n        this._compositionView.classList.add('active');\n    };\n    CompositionHelper.prototype.compositionupdate = function (ev) {\n        var _this = this;\n        this._compositionView.textContent = ev.data;\n        this.updateCompositionElements();\n        setTimeout(function () {\n            _this._compositionPosition.end = _this._textarea.value.length;\n        }, 0);\n    };\n    CompositionHelper.prototype.compositionend = function () {\n        this._finalizeComposition(true);\n    };\n    CompositionHelper.prototype.keydown = function (ev) {\n        if (this._isComposing || this._isSendingComposition) {\n            if (ev.keyCode === 229) {\n                return false;\n            }\n            else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                return false;\n            }\n            this._finalizeComposition(false);\n        }\n        if (ev.keyCode === 229) {\n            this._handleAnyTextareaChanges();\n            return false;\n        }\n        return true;\n    };\n    CompositionHelper.prototype._finalizeComposition = function (waitForPropagation) {\n        var _this = this;\n        this._compositionView.classList.remove('active');\n        this._isComposing = false;\n        this._clearTextareaPosition();\n        if (!waitForPropagation) {\n            this._isSendingComposition = false;\n            var input = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n            this._terminal.handler(input);\n        }\n        else {\n            var currentCompositionPosition_1 = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n            };\n            this._isSendingComposition = true;\n            setTimeout(function () {\n                if (_this._isSendingComposition) {\n                    _this._isSendingComposition = false;\n                    var input = void 0;\n                    if (_this._isComposing) {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start, currentCompositionPosition_1.end);\n                    }\n                    else {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start);\n                    }\n                    _this._terminal.handler(input);\n                }\n            }, 0);\n        }\n    };\n    CompositionHelper.prototype._handleAnyTextareaChanges = function () {\n        var _this = this;\n        var oldValue = this._textarea.value;\n        setTimeout(function () {\n            if (!_this._isComposing) {\n                var newValue = _this._textarea.value;\n                var diff = newValue.replace(oldValue, '');\n                if (diff.length > 0) {\n                    _this._terminal.handler(diff);\n                }\n            }\n        }, 0);\n    };\n    CompositionHelper.prototype.updateCompositionElements = function (dontRecurse) {\n        var _this = this;\n        if (!this._isComposing) {\n            return;\n        }\n        if (this._terminal.buffer.isCursorInViewport) {\n            var cellHeight = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight);\n            var cursorTop = this._terminal.buffer.y * cellHeight;\n            var cursorLeft = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = cursorLeft + 'px';\n            this._compositionView.style.top = cursorTop + 'px';\n            this._compositionView.style.height = cellHeight + 'px';\n            this._compositionView.style.lineHeight = cellHeight + 'px';\n            this._compositionView.style.fontFamily = this._terminal.options.fontFamily;\n            this._compositionView.style.fontSize = this._terminal.options.fontSize + 'px';\n            var compositionViewBounds = this._compositionView.getBoundingClientRect();\n            this._textarea.style.left = cursorLeft + 'px';\n            this._textarea.style.top = cursorTop + 'px';\n            this._textarea.style.width = compositionViewBounds.width + 'px';\n            this._textarea.style.height = compositionViewBounds.height + 'px';\n            this._textarea.style.lineHeight = compositionViewBounds.height + 'px';\n        }\n        if (!dontRecurse) {\n            setTimeout(function () { return _this.updateCompositionElements(true); }, 0);\n        }\n    };\n    CompositionHelper.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = '';\n        this._textarea.style.top = '';\n    };\n    return CompositionHelper;\n}());\nexports.CompositionHelper = CompositionHelper;\n\n},{}],25:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar TextDecoder_1 = require(\"./core/input/TextDecoder\");\nfunction r(low, high) {\n    var c = high - low;\n    var arr = new Array(c);\n    while (c--) {\n        arr[c] = --high;\n    }\n    return arr;\n}\nvar TransitionTable = (function () {\n    function TransitionTable(length) {\n        this.table = (typeof Uint8Array === 'undefined')\n            ? new Array(length)\n            : new Uint8Array(length);\n    }\n    TransitionTable.prototype.add = function (code, state, action, next) {\n        this.table[state << 8 | code] = ((action | 0) << 4) | ((next === undefined) ? state : next);\n    };\n    TransitionTable.prototype.addMany = function (codes, state, action, next) {\n        for (var i = 0; i < codes.length; i++) {\n            this.add(codes[i], state, action, next);\n        }\n    };\n    return TransitionTable;\n}());\nexports.TransitionTable = TransitionTable;\nvar PRINTABLES = r(0x20, 0x7f);\nvar EXECUTABLES = r(0x00, 0x18);\nEXECUTABLES.push(0x19);\nEXECUTABLES.push.apply(EXECUTABLES, r(0x1c, 0x20));\nvar NON_ASCII_PRINTABLE = 0xA0;\nexports.VT500_TRANSITION_TABLE = (function () {\n    var table = new TransitionTable(4095);\n    var states = r(0, 13 + 1);\n    var state;\n    for (state in states) {\n        for (var code = 0; code <= NON_ASCII_PRINTABLE; ++code) {\n            table.add(code, state, 1, 0);\n        }\n    }\n    table.addMany(PRINTABLES, 0, 2, 0);\n    for (state in states) {\n        table.addMany([0x18, 0x1a, 0x99, 0x9a], state, 3, 0);\n        table.addMany(r(0x80, 0x90), state, 3, 0);\n        table.addMany(r(0x90, 0x98), state, 3, 0);\n        table.add(0x9c, state, 0, 0);\n        table.add(0x1b, state, 11, 1);\n        table.add(0x9d, state, 4, 8);\n        table.addMany([0x98, 0x9e, 0x9f], state, 0, 7);\n        table.add(0x9b, state, 11, 3);\n        table.add(0x90, state, 11, 9);\n    }\n    table.addMany(EXECUTABLES, 0, 3, 0);\n    table.addMany(EXECUTABLES, 1, 3, 1);\n    table.add(0x7f, 1, 0, 1);\n    table.addMany(EXECUTABLES, 8, 0, 8);\n    table.addMany(EXECUTABLES, 3, 3, 3);\n    table.add(0x7f, 3, 0, 3);\n    table.addMany(EXECUTABLES, 4, 3, 4);\n    table.add(0x7f, 4, 0, 4);\n    table.addMany(EXECUTABLES, 6, 3, 6);\n    table.addMany(EXECUTABLES, 5, 3, 5);\n    table.add(0x7f, 5, 0, 5);\n    table.addMany(EXECUTABLES, 2, 3, 2);\n    table.add(0x7f, 2, 0, 2);\n    table.add(0x5d, 1, 4, 8);\n    table.addMany(PRINTABLES, 8, 5, 8);\n    table.add(0x7f, 8, 5, 8);\n    table.addMany([0x9c, 0x1b, 0x18, 0x1a, 0x07], 8, 6, 0);\n    table.addMany(r(0x1c, 0x20), 8, 0, 8);\n    table.addMany([0x58, 0x5e, 0x5f], 1, 0, 7);\n    table.addMany(PRINTABLES, 7, 0, 7);\n    table.addMany(EXECUTABLES, 7, 0, 7);\n    table.add(0x9c, 7, 0, 0);\n    table.add(0x7f, 7, 0, 7);\n    table.add(0x5b, 1, 11, 3);\n    table.addMany(r(0x40, 0x7f), 3, 7, 0);\n    table.addMany(r(0x30, 0x3a), 3, 8, 4);\n    table.add(0x3b, 3, 8, 4);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 3, 9, 4);\n    table.addMany(r(0x30, 0x3a), 4, 8, 4);\n    table.add(0x3b, 4, 8, 4);\n    table.addMany(r(0x40, 0x7f), 4, 7, 0);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 4, 0, 6);\n    table.addMany(r(0x20, 0x40), 6, 0, 6);\n    table.add(0x7f, 6, 0, 6);\n    table.addMany(r(0x40, 0x7f), 6, 0, 0);\n    table.add(0x3a, 3, 0, 6);\n    table.addMany(r(0x20, 0x30), 3, 9, 5);\n    table.addMany(r(0x20, 0x30), 5, 9, 5);\n    table.addMany(r(0x30, 0x40), 5, 0, 6);\n    table.addMany(r(0x40, 0x7f), 5, 7, 0);\n    table.addMany(r(0x20, 0x30), 4, 9, 5);\n    table.addMany(r(0x20, 0x30), 1, 9, 2);\n    table.addMany(r(0x20, 0x30), 2, 9, 2);\n    table.addMany(r(0x30, 0x7f), 2, 10, 0);\n    table.addMany(r(0x30, 0x50), 1, 10, 0);\n    table.addMany(r(0x51, 0x58), 1, 10, 0);\n    table.addMany([0x59, 0x5a, 0x5c], 1, 10, 0);\n    table.addMany(r(0x60, 0x7f), 1, 10, 0);\n    table.add(0x50, 1, 11, 9);\n    table.addMany(EXECUTABLES, 9, 0, 9);\n    table.add(0x7f, 9, 0, 9);\n    table.addMany(r(0x1c, 0x20), 9, 0, 9);\n    table.addMany(r(0x20, 0x30), 9, 9, 12);\n    table.add(0x3a, 9, 0, 11);\n    table.addMany(r(0x30, 0x3a), 9, 8, 10);\n    table.add(0x3b, 9, 8, 10);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 9, 9, 10);\n    table.addMany(EXECUTABLES, 11, 0, 11);\n    table.addMany(r(0x20, 0x80), 11, 0, 11);\n    table.addMany(r(0x1c, 0x20), 11, 0, 11);\n    table.addMany(EXECUTABLES, 10, 0, 10);\n    table.add(0x7f, 10, 0, 10);\n    table.addMany(r(0x1c, 0x20), 10, 0, 10);\n    table.addMany(r(0x30, 0x3a), 10, 8, 10);\n    table.add(0x3b, 10, 8, 10);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 10, 0, 11);\n    table.addMany(r(0x20, 0x30), 10, 9, 12);\n    table.addMany(EXECUTABLES, 12, 0, 12);\n    table.add(0x7f, 12, 0, 12);\n    table.addMany(r(0x1c, 0x20), 12, 0, 12);\n    table.addMany(r(0x20, 0x30), 12, 9, 12);\n    table.addMany(r(0x30, 0x40), 12, 0, 11);\n    table.addMany(r(0x40, 0x7f), 12, 12, 13);\n    table.addMany(r(0x40, 0x7f), 10, 12, 13);\n    table.addMany(r(0x40, 0x7f), 9, 12, 13);\n    table.addMany(EXECUTABLES, 13, 13, 13);\n    table.addMany(PRINTABLES, 13, 13, 13);\n    table.add(0x7f, 13, 0, 13);\n    table.addMany([0x1b, 0x9c], 13, 14, 0);\n    table.add(NON_ASCII_PRINTABLE, 8, 5, 8);\n    return table;\n})();\nvar DcsDummy = (function () {\n    function DcsDummy() {\n    }\n    DcsDummy.prototype.hook = function (collect, params, flag) { };\n    DcsDummy.prototype.put = function (data, start, end) { };\n    DcsDummy.prototype.unhook = function () { };\n    return DcsDummy;\n}());\nvar EscapeSequenceParser = (function (_super) {\n    __extends(EscapeSequenceParser, _super);\n    function EscapeSequenceParser(TRANSITIONS) {\n        if (TRANSITIONS === void 0) { TRANSITIONS = exports.VT500_TRANSITION_TABLE; }\n        var _this = _super.call(this) || this;\n        _this.TRANSITIONS = TRANSITIONS;\n        _this.initialState = 0;\n        _this.currentState = _this.initialState;\n        _this._osc = '';\n        _this._params = [0];\n        _this._collect = '';\n        _this._printHandlerFb = function (data, start, end) { };\n        _this._executeHandlerFb = function (code) { };\n        _this._csiHandlerFb = function (collect, params, flag) { };\n        _this._escHandlerFb = function (collect, flag) { };\n        _this._oscHandlerFb = function (identifier, data) { };\n        _this._dcsHandlerFb = new DcsDummy();\n        _this._errorHandlerFb = function (state) { return state; };\n        _this._printHandler = _this._printHandlerFb;\n        _this._executeHandlers = Object.create(null);\n        _this._csiHandlers = Object.create(null);\n        _this._escHandlers = Object.create(null);\n        _this._oscHandlers = Object.create(null);\n        _this._dcsHandlers = Object.create(null);\n        _this._activeDcsHandler = null;\n        _this._errorHandler = _this._errorHandlerFb;\n        _this.setEscHandler('\\\\', function () { });\n        return _this;\n    }\n    EscapeSequenceParser.prototype.dispose = function () {\n        this._printHandlerFb = null;\n        this._executeHandlerFb = null;\n        this._csiHandlerFb = null;\n        this._escHandlerFb = null;\n        this._oscHandlerFb = null;\n        this._dcsHandlerFb = null;\n        this._errorHandlerFb = null;\n        this._printHandler = null;\n        this._executeHandlers = null;\n        this._escHandlers = null;\n        this._csiHandlers = null;\n        this._oscHandlers = null;\n        this._dcsHandlers = null;\n        this._activeDcsHandler = null;\n        this._errorHandler = null;\n    };\n    EscapeSequenceParser.prototype.setPrintHandler = function (callback) {\n        this._printHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n    };\n    EscapeSequenceParser.prototype.setExecuteHandler = function (flag, callback) {\n        this._executeHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearExecuteHandler = function (flag) {\n        if (this._executeHandlers[flag.charCodeAt(0)])\n            delete this._executeHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setExecuteHandlerFallback = function (callback) {\n        this._executeHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addCsiHandler = function (flag, callback) {\n        var index = flag.charCodeAt(0);\n        if (this._csiHandlers[index] === undefined) {\n            this._csiHandlers[index] = [];\n        }\n        var handlerList = this._csiHandlers[index];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setCsiHandler = function (flag, callback) {\n        this._csiHandlers[flag.charCodeAt(0)] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearCsiHandler = function (flag) {\n        if (this._csiHandlers[flag.charCodeAt(0)])\n            delete this._csiHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setCsiHandlerFallback = function (callback) {\n        this._csiHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setEscHandler = function (collectAndFlag, callback) {\n        this._escHandlers[collectAndFlag] = callback;\n    };\n    EscapeSequenceParser.prototype.clearEscHandler = function (collectAndFlag) {\n        if (this._escHandlers[collectAndFlag])\n            delete this._escHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setEscHandlerFallback = function (callback) {\n        this._escHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addOscHandler = function (ident, callback) {\n        if (this._oscHandlers[ident] === undefined) {\n            this._oscHandlers[ident] = [];\n        }\n        var handlerList = this._oscHandlers[ident];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setOscHandler = function (ident, callback) {\n        this._oscHandlers[ident] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearOscHandler = function (ident) {\n        if (this._oscHandlers[ident])\n            delete this._oscHandlers[ident];\n    };\n    EscapeSequenceParser.prototype.setOscHandlerFallback = function (callback) {\n        this._oscHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setDcsHandler = function (collectAndFlag, handler) {\n        this._dcsHandlers[collectAndFlag] = handler;\n    };\n    EscapeSequenceParser.prototype.clearDcsHandler = function (collectAndFlag) {\n        if (this._dcsHandlers[collectAndFlag])\n            delete this._dcsHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setDcsHandlerFallback = function (handler) {\n        this._dcsHandlerFb = handler;\n    };\n    EscapeSequenceParser.prototype.setErrorHandler = function (callback) {\n        this._errorHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n    };\n    EscapeSequenceParser.prototype.reset = function () {\n        this.currentState = this.initialState;\n        this._osc = '';\n        this._params = [0];\n        this._collect = '';\n        this._activeDcsHandler = null;\n    };\n    EscapeSequenceParser.prototype.parse = function (data, length) {\n        var code = 0;\n        var transition = 0;\n        var error = false;\n        var currentState = this.currentState;\n        var print = -1;\n        var dcs = -1;\n        var osc = this._osc;\n        var collect = this._collect;\n        var params = this._params;\n        var table = this.TRANSITIONS.table;\n        var dcsHandler = this._activeDcsHandler;\n        var callback = null;\n        for (var i = 0; i < length; ++i) {\n            code = data[i];\n            if (currentState === 0 && code > 0x1f && code < 0x80) {\n                print = (~print) ? print : i;\n                do\n                    i++;\n                while (i < length && data[i] > 0x1f && data[i] < 0x80);\n                i--;\n                continue;\n            }\n            if (currentState === 4 && (code > 0x2f && code < 0x39)) {\n                params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                continue;\n            }\n            transition = table[currentState << 8 | (code < 0xa0 ? code : NON_ASCII_PRINTABLE)];\n            switch (transition >> 4) {\n                case 2:\n                    print = (~print) ? print : i;\n                    break;\n                case 3:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    callback = this._executeHandlers[code];\n                    if (callback)\n                        callback();\n                    else\n                        this._executeHandlerFb(code);\n                    break;\n                case 0:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    else if (~dcs) {\n                        dcsHandler.put(data, dcs, i);\n                        dcs = -1;\n                    }\n                    break;\n                case 1:\n                    if (code > 0x9f) {\n                        switch (currentState) {\n                            case 0:\n                                print = (~print) ? print : i;\n                                break;\n                            case 6:\n                                transition |= 6;\n                                break;\n                            case 11:\n                                transition |= 11;\n                                break;\n                            case 13:\n                                dcs = (~dcs) ? dcs : i;\n                                transition |= 13;\n                                break;\n                            default:\n                                error = true;\n                        }\n                    }\n                    else {\n                        error = true;\n                    }\n                    if (error) {\n                        var inject = this._errorHandler({\n                            position: i,\n                            code: code,\n                            currentState: currentState,\n                            print: print,\n                            dcs: dcs,\n                            osc: osc,\n                            collect: collect,\n                            params: params,\n                            abort: false\n                        });\n                        if (inject.abort)\n                            return;\n                        error = false;\n                    }\n                    break;\n                case 7:\n                    var handlers = this._csiHandlers[code];\n                    var j = handlers ? handlers.length - 1 : -1;\n                    for (; j >= 0; j--) {\n                        if (handlers[j](params, collect) !== false) {\n                            break;\n                        }\n                    }\n                    if (j < 0) {\n                        this._csiHandlerFb(collect, params, code);\n                    }\n                    break;\n                case 8:\n                    if (code === 0x3b)\n                        params.push(0);\n                    else\n                        params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                    break;\n                case 9:\n                    collect += String.fromCharCode(code);\n                    break;\n                case 10:\n                    callback = this._escHandlers[collect + String.fromCharCode(code)];\n                    if (callback)\n                        callback(collect, code);\n                    else\n                        this._escHandlerFb(collect, code);\n                    break;\n                case 11:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 12:\n                    dcsHandler = this._dcsHandlers[collect + String.fromCharCode(code)];\n                    if (!dcsHandler)\n                        dcsHandler = this._dcsHandlerFb;\n                    dcsHandler.hook(collect, params, code);\n                    break;\n                case 13:\n                    dcs = (~dcs) ? dcs : i;\n                    break;\n                case 14:\n                    if (dcsHandler) {\n                        if (~dcs)\n                            dcsHandler.put(data, dcs, i);\n                        dcsHandler.unhook();\n                        dcsHandler = null;\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 4:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    break;\n                case 5:\n                    for (var j_1 = i + 1;; j_1++) {\n                        if (j_1 >= length\n                            || (code = data[j_1]) < 0x20\n                            || (code > 0x7f && code <= 0x9f)) {\n                            osc += TextDecoder_1.utf32ToString(data, i, j_1);\n                            i = j_1 - 1;\n                            break;\n                        }\n                    }\n                    break;\n                case 6:\n                    if (osc && code !== 0x18 && code !== 0x1a) {\n                        var idx = osc.indexOf(';');\n                        if (idx === -1) {\n                            this._oscHandlerFb(-1, osc);\n                        }\n                        else {\n                            var identifier = parseInt(osc.substring(0, idx));\n                            var content = osc.substring(idx + 1);\n                            var handlers_1 = this._oscHandlers[identifier];\n                            var j_2 = handlers_1 ? handlers_1.length - 1 : -1;\n                            for (; j_2 >= 0; j_2--) {\n                                if (handlers_1[j_2](content) !== false) {\n                                    break;\n                                }\n                            }\n                            if (j_2 < 0) {\n                                this._oscHandlerFb(identifier, content);\n                            }\n                        }\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n            }\n            currentState = transition & 15;\n        }\n        if (currentState === 0 && ~print) {\n            this._printHandler(data, print, length);\n        }\n        else if (currentState === 13 && ~dcs && dcsHandler) {\n            dcsHandler.put(data, dcs, length);\n        }\n        this._osc = osc;\n        this._collect = collect;\n        this._params = params;\n        this._activeDcsHandler = dcsHandler;\n        this.currentState = currentState;\n    };\n    return EscapeSequenceParser;\n}(Lifecycle_1.Disposable));\nexports.EscapeSequenceParser = EscapeSequenceParser;\n\n},{\"./common/Lifecycle\":42,\"./core/input/TextDecoder\":52}],26:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar Charsets_1 = require(\"./core/data/Charsets\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EscapeSequenceParser_1 = require(\"./EscapeSequenceParser\");\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nvar TextDecoder_1 = require(\"./core/input/TextDecoder\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar GLEVEL = { '(': 0, ')': 1, '*': 2, '+': 3, '-': 1, '.': 2 };\nvar DECRQSS = (function () {\n    function DECRQSS(_terminal) {\n        this._terminal = _terminal;\n        this._data = new Uint32Array(0);\n    }\n    DECRQSS.prototype.hook = function (collect, params, flag) {\n        this._data = new Uint32Array(0);\n    };\n    DECRQSS.prototype.put = function (data, start, end) {\n        this._data = TypedArrayUtils_1.concat(this._data, data.subarray(start, end));\n    };\n    DECRQSS.prototype.unhook = function () {\n        var data = TextDecoder_1.utf32ToString(this._data);\n        this._data = new Uint32Array(0);\n        switch (data) {\n            case '\"q':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0\\\"q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case '\"p':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r61\\\"p\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'r':\n                var pt = '' + (this._terminal.buffer.scrollTop + 1) +\n                    ';' + (this._terminal.buffer.scrollBottom + 1) + 'r';\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + pt + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'm':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0m\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case ' q':\n                var STYLES = { 'block': 2, 'underline': 4, 'bar': 6 };\n                var style = STYLES[this._terminal.getOption('cursorStyle')];\n                style -= this._terminal.getOption('cursorBlink');\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + style + \" q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            default:\n                this._terminal.error('Unknown DCS $q %s', data);\n                this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0$r\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n        }\n    };\n    return DECRQSS;\n}());\nvar InputHandler = (function (_super) {\n    __extends(InputHandler, _super);\n    function InputHandler(_terminal, _parser) {\n        if (_parser === void 0) { _parser = new EscapeSequenceParser_1.EscapeSequenceParser(); }\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._parser = _parser;\n        _this._parseBuffer = new Uint32Array(4096);\n        _this._stringDecoder = new TextDecoder_1.StringToUtf32();\n        _this._utf8Decoder = new TextDecoder_1.Utf8ToUtf32();\n        _this._workCell = new BufferLine_1.CellData();\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this.register(_this._parser);\n        _this._parser.setCsiHandlerFallback(function (collect, params, flag) {\n            _this._terminal.error('Unknown CSI code: ', { collect: collect, params: params, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setEscHandlerFallback(function (collect, flag) {\n            _this._terminal.error('Unknown ESC code: ', { collect: collect, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setExecuteHandlerFallback(function (code) {\n            _this._terminal.error('Unknown EXECUTE code: ', { code: code });\n        });\n        _this._parser.setOscHandlerFallback(function (identifier, data) {\n            _this._terminal.error('Unknown OSC code: ', { identifier: identifier, data: data });\n        });\n        _this._parser.setPrintHandler(function (data, start, end) { return _this.print(data, start, end); });\n        _this._parser.setCsiHandler('@', function (params, collect) { return _this.insertChars(params); });\n        _this._parser.setCsiHandler('A', function (params, collect) { return _this.cursorUp(params); });\n        _this._parser.setCsiHandler('B', function (params, collect) { return _this.cursorDown(params); });\n        _this._parser.setCsiHandler('C', function (params, collect) { return _this.cursorForward(params); });\n        _this._parser.setCsiHandler('D', function (params, collect) { return _this.cursorBackward(params); });\n        _this._parser.setCsiHandler('E', function (params, collect) { return _this.cursorNextLine(params); });\n        _this._parser.setCsiHandler('F', function (params, collect) { return _this.cursorPrecedingLine(params); });\n        _this._parser.setCsiHandler('G', function (params, collect) { return _this.cursorCharAbsolute(params); });\n        _this._parser.setCsiHandler('H', function (params, collect) { return _this.cursorPosition(params); });\n        _this._parser.setCsiHandler('I', function (params, collect) { return _this.cursorForwardTab(params); });\n        _this._parser.setCsiHandler('J', function (params, collect) { return _this.eraseInDisplay(params); });\n        _this._parser.setCsiHandler('K', function (params, collect) { return _this.eraseInLine(params); });\n        _this._parser.setCsiHandler('L', function (params, collect) { return _this.insertLines(params); });\n        _this._parser.setCsiHandler('M', function (params, collect) { return _this.deleteLines(params); });\n        _this._parser.setCsiHandler('P', function (params, collect) { return _this.deleteChars(params); });\n        _this._parser.setCsiHandler('S', function (params, collect) { return _this.scrollUp(params); });\n        _this._parser.setCsiHandler('T', function (params, collect) { return _this.scrollDown(params, collect); });\n        _this._parser.setCsiHandler('X', function (params, collect) { return _this.eraseChars(params); });\n        _this._parser.setCsiHandler('Z', function (params, collect) { return _this.cursorBackwardTab(params); });\n        _this._parser.setCsiHandler('`', function (params, collect) { return _this.charPosAbsolute(params); });\n        _this._parser.setCsiHandler('a', function (params, collect) { return _this.hPositionRelative(params); });\n        _this._parser.setCsiHandler('b', function (params, collect) { return _this.repeatPrecedingCharacter(params); });\n        _this._parser.setCsiHandler('c', function (params, collect) { return _this.sendDeviceAttributes(params, collect); });\n        _this._parser.setCsiHandler('d', function (params, collect) { return _this.linePosAbsolute(params); });\n        _this._parser.setCsiHandler('e', function (params, collect) { return _this.vPositionRelative(params); });\n        _this._parser.setCsiHandler('f', function (params, collect) { return _this.hVPosition(params); });\n        _this._parser.setCsiHandler('g', function (params, collect) { return _this.tabClear(params); });\n        _this._parser.setCsiHandler('h', function (params, collect) { return _this.setMode(params, collect); });\n        _this._parser.setCsiHandler('l', function (params, collect) { return _this.resetMode(params, collect); });\n        _this._parser.setCsiHandler('m', function (params, collect) { return _this.charAttributes(params); });\n        _this._parser.setCsiHandler('n', function (params, collect) { return _this.deviceStatus(params, collect); });\n        _this._parser.setCsiHandler('p', function (params, collect) { return _this.softReset(params, collect); });\n        _this._parser.setCsiHandler('q', function (params, collect) { return _this.setCursorStyle(params, collect); });\n        _this._parser.setCsiHandler('r', function (params, collect) { return _this.setScrollRegion(params, collect); });\n        _this._parser.setCsiHandler('s', function (params, collect) { return _this.saveCursor(params); });\n        _this._parser.setCsiHandler('u', function (params, collect) { return _this.restoreCursor(params); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BEL, function () { return _this.bell(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.LF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.VT, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.FF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.CR, function () { return _this.carriageReturn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BS, function () { return _this.backspace(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.HT, function () { return _this.tab(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SO, function () { return _this.shiftOut(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SI, function () { return _this.shiftIn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.IND, function () { return _this.index(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.NEL, function () { return _this.nextLine(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.HTS, function () { return _this.tabSet(); });\n        _this._parser.setOscHandler(0, function (data) { return _this.setTitle(data); });\n        _this._parser.setOscHandler(2, function (data) { return _this.setTitle(data); });\n        _this._parser.setEscHandler('7', function () { return _this.saveCursor([]); });\n        _this._parser.setEscHandler('8', function () { return _this.restoreCursor([]); });\n        _this._parser.setEscHandler('D', function () { return _this.index(); });\n        _this._parser.setEscHandler('E', function () { return _this.nextLine(); });\n        _this._parser.setEscHandler('H', function () { return _this.tabSet(); });\n        _this._parser.setEscHandler('M', function () { return _this.reverseIndex(); });\n        _this._parser.setEscHandler('=', function () { return _this.keypadApplicationMode(); });\n        _this._parser.setEscHandler('>', function () { return _this.keypadNumericMode(); });\n        _this._parser.setEscHandler('c', function () { return _this.reset(); });\n        _this._parser.setEscHandler('n', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('o', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('|', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('}', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('~', function () { return _this.setgLevel(1); });\n        _this._parser.setEscHandler('%@', function () { return _this.selectDefaultCharset(); });\n        _this._parser.setEscHandler('%G', function () { return _this.selectDefaultCharset(); });\n        var _loop_1 = function (flag) {\n            this_1._parser.setEscHandler('(' + flag, function () { return _this.selectCharset('(' + flag); });\n            this_1._parser.setEscHandler(')' + flag, function () { return _this.selectCharset(')' + flag); });\n            this_1._parser.setEscHandler('*' + flag, function () { return _this.selectCharset('*' + flag); });\n            this_1._parser.setEscHandler('+' + flag, function () { return _this.selectCharset('+' + flag); });\n            this_1._parser.setEscHandler('-' + flag, function () { return _this.selectCharset('-' + flag); });\n            this_1._parser.setEscHandler('.' + flag, function () { return _this.selectCharset('.' + flag); });\n            this_1._parser.setEscHandler('/' + flag, function () { return _this.selectCharset('/' + flag); });\n        };\n        var this_1 = this;\n        for (var flag in Charsets_1.CHARSETS) {\n            _loop_1(flag);\n        }\n        _this._parser.setErrorHandler(function (state) {\n            _this._terminal.error('Parsing error: ', state);\n            return state;\n        });\n        _this._parser.setDcsHandler('$q', new DECRQSS(_this._terminal));\n        return _this;\n    }\n    Object.defineProperty(InputHandler.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    InputHandler.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal = null;\n    };\n    InputHandler.prototype.parse = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._stringDecoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._onCursorMove.fire();\n        }\n    };\n    InputHandler.prototype.parseUtf8 = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._utf8Decoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._terminal.emit('cursormove');\n        }\n    };\n    InputHandler.prototype.print = function (data, start, end) {\n        var code;\n        var chWidth;\n        var buffer = this._terminal.buffer;\n        var charset = this._terminal.charset;\n        var screenReaderMode = this._terminal.options.screenReaderMode;\n        var cols = this._terminal.cols;\n        var wraparoundMode = this._terminal.wraparoundMode;\n        var insertMode = this._terminal.insertMode;\n        var curAttr = this._terminal.curAttrData;\n        var bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n        this._terminal.updateRange(buffer.y);\n        for (var pos = start; pos < end; ++pos) {\n            code = data[pos];\n            chWidth = CharWidth_1.wcwidth(code);\n            if (code < 127 && charset) {\n                var ch = charset[String.fromCharCode(code)];\n                if (ch) {\n                    code = ch.charCodeAt(0);\n                }\n            }\n            if (screenReaderMode) {\n                this._terminal.emit('a11y.char', TextDecoder_1.stringFromCodePoint(code));\n            }\n            if (!chWidth && buffer.x) {\n                if (!bufferRow.getWidth(buffer.x - 1)) {\n                    bufferRow.addCodepointToCell(buffer.x - 2, code);\n                }\n                else {\n                    bufferRow.addCodepointToCell(buffer.x - 1, code);\n                }\n                continue;\n            }\n            if (buffer.x + chWidth - 1 >= cols) {\n                if (wraparoundMode) {\n                    buffer.x = 0;\n                    buffer.y++;\n                    if (buffer.y > buffer.scrollBottom) {\n                        buffer.y--;\n                        this._terminal.scroll(true);\n                    }\n                    else {\n                        buffer.lines.get(buffer.y).isWrapped = true;\n                    }\n                    bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n                }\n                else {\n                    if (chWidth === 2) {\n                        continue;\n                    }\n                }\n            }\n            if (insertMode) {\n                bufferRow.insertCells(buffer.x, chWidth, buffer.getNullCell(curAttr));\n                if (bufferRow.getWidth(cols - 1) === 2) {\n                    bufferRow.setCellFromCodePoint(cols - 1, BufferLine_1.NULL_CELL_CODE, BufferLine_1.NULL_CELL_WIDTH, curAttr.fg, curAttr.bg);\n                }\n            }\n            bufferRow.setCellFromCodePoint(buffer.x++, code, chWidth, curAttr.fg, curAttr.bg);\n            if (chWidth > 0) {\n                while (--chWidth) {\n                    bufferRow.setCellFromCodePoint(buffer.x++, 0, 0, curAttr.fg, curAttr.bg);\n                }\n            }\n        }\n        this._terminal.updateRange(buffer.y);\n    };\n    InputHandler.prototype.addCsiHandler = function (flag, callback) {\n        return this._parser.addCsiHandler(flag, callback);\n    };\n    InputHandler.prototype.addOscHandler = function (ident, callback) {\n        return this._parser.addOscHandler(ident, callback);\n    };\n    InputHandler.prototype.bell = function () {\n        this._terminal.bell();\n    };\n    InputHandler.prototype.lineFeed = function () {\n        var buffer = this._terminal.buffer;\n        if (this._terminal.options.convertEol) {\n            buffer.x = 0;\n        }\n        buffer.y++;\n        if (buffer.y > buffer.scrollBottom) {\n            buffer.y--;\n            this._terminal.scroll();\n        }\n        if (buffer.x >= this._terminal.cols) {\n            buffer.x--;\n        }\n        this._onLineFeed.fire();\n    };\n    InputHandler.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.backspace = function () {\n        if (this._terminal.buffer.x > 0) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.tab = function () {\n        var originalX = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        if (this._terminal.options.screenReaderMode) {\n            this._terminal.emit('a11y.tab', this._terminal.buffer.x - originalX);\n        }\n    };\n    InputHandler.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n    };\n    InputHandler.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n    };\n    InputHandler.prototype.insertChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.cursorUp = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n    };\n    InputHandler.prototype.cursorDown = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.cursorForward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.cursorBackward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n        this._terminal.buffer.x -= param;\n        if (this._terminal.buffer.x < 0) {\n            this._terminal.buffer.x = 0;\n        }\n    };\n    InputHandler.prototype.cursorNextLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorPrecedingLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorCharAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n    };\n    InputHandler.prototype.cursorPosition = function (params) {\n        var col;\n        var row = params[0] - 1;\n        if (params.length >= 2) {\n            col = params[1] - 1;\n        }\n        else {\n            col = 0;\n        }\n        if (row < 0) {\n            row = 0;\n        }\n        else if (row >= this._terminal.rows) {\n            row = this._terminal.rows - 1;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col >= this._terminal.cols) {\n            col = this._terminal.cols - 1;\n        }\n        this._terminal.buffer.x = col;\n        this._terminal.buffer.y = row;\n    };\n    InputHandler.prototype.cursorForwardTab = function (params) {\n        var param = params[0] || 1;\n        while (param--) {\n            this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        }\n    };\n    InputHandler.prototype._eraseInBufferLine = function (y, start, end, clearWrap) {\n        if (clearWrap === void 0) { clearWrap = false; }\n        var line = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + y);\n        line.replaceCells(start, end, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        if (clearWrap) {\n            line.isWrapped = false;\n        }\n    };\n    InputHandler.prototype._resetBufferLine = function (y) {\n        this._eraseInBufferLine(y, 0, this._terminal.cols, true);\n    };\n    InputHandler.prototype.eraseInDisplay = function (params) {\n        var j;\n        switch (params[0]) {\n            case 0:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j++, this._terminal.buffer.x, this._terminal.cols, this._terminal.buffer.x === 0);\n                for (; j < this._terminal.rows; j++) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(j);\n                break;\n            case 1:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j, 0, this._terminal.buffer.x + 1, true);\n                if (this._terminal.buffer.x + 1 >= this._terminal.cols) {\n                    this._terminal.buffer.lines.get(j + 1).isWrapped = false;\n                }\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 2:\n                j = this._terminal.rows;\n                this._terminal.updateRange(j - 1);\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 3:\n                var scrollBackSize = this._terminal.buffer.lines.length - this._terminal.rows;\n                if (scrollBackSize > 0) {\n                    this._terminal.buffer.lines.trimStart(scrollBackSize);\n                    this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - scrollBackSize, 0);\n                    this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - scrollBackSize, 0);\n                    this._onScroll.fire(0);\n                }\n                break;\n        }\n    };\n    InputHandler.prototype.eraseInLine = function (params) {\n        switch (params[0]) {\n            case 0:\n                this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n                break;\n            case 1:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n                break;\n            case 2:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n                break;\n        }\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.insertLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var scrollBottomRowsOffset = this._terminal.rows - 1 - buffer.scrollBottom;\n        var scrollBottomAbsolute = this._terminal.rows - 1 + buffer.ybase - scrollBottomRowsOffset + 1;\n        while (param--) {\n            buffer.lines.splice(scrollBottomAbsolute - 1, 1);\n            buffer.lines.splice(row, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var j;\n        j = this._terminal.rows - 1 - buffer.scrollBottom;\n        j = this._terminal.rows - 1 + buffer.ybase - j;\n        while (param--) {\n            buffer.lines.splice(row, 1);\n            buffer.lines.splice(j, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.scrollUp = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.lines.splice(buffer.ybase + buffer.scrollTop, 1);\n            buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this._terminal.updateRange(buffer.scrollTop);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.scrollDown = function (params, collect) {\n        if (params.length < 2 && !collect) {\n            var param = params[0] || 1;\n            var buffer = this._terminal.buffer;\n            while (param--) {\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 1);\n                buffer.lines.splice(buffer.ybase + buffer.scrollTop, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n            }\n            this._terminal.updateRange(buffer.scrollTop);\n            this._terminal.updateRange(buffer.scrollBottom);\n        }\n    };\n    InputHandler.prototype.eraseChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (params[0] || 1), this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n    };\n    InputHandler.prototype.cursorBackwardTab = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.x = buffer.prevStop();\n        }\n    };\n    InputHandler.prototype.charPosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.hPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.repeatPrecedingCharacter = function (params) {\n        var buffer = this._terminal.buffer;\n        var line = buffer.lines.get(buffer.ybase + buffer.y);\n        line.loadCell(buffer.x - 1, this._workCell);\n        line.replaceCells(buffer.x, buffer.x + (params[0] || 1), (this._workCell.content !== undefined) ? this._workCell : buffer.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n    };\n    InputHandler.prototype.sendDeviceAttributes = function (params, collect) {\n        if (params[0] > 0) {\n            return;\n        }\n        if (!collect) {\n            if (this._terminal.is('xterm') || this._terminal.is('rxvt-unicode') || this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?1;2c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?6c');\n            }\n        }\n        else if (collect === '>') {\n            if (this._terminal.is('xterm')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>0;276;0c');\n            }\n            else if (this._terminal.is('rxvt-unicode')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>85;95;0c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(params[0] + 'c');\n            }\n            else if (this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>83;40003;0c');\n            }\n        }\n    };\n    InputHandler.prototype.linePosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y = param - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n    };\n    InputHandler.prototype.vPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.hVPosition = function (params) {\n        if (params[0] < 1)\n            params[0] = 1;\n        if (params[1] < 1)\n            params[1] = 1;\n        this._terminal.buffer.y = params[0] - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = params[1] - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.tabClear = function (params) {\n        var param = params[0];\n        if (param <= 0) {\n            delete this._terminal.buffer.tabs[this._terminal.buffer.x];\n        }\n        else if (param === 3) {\n            this._terminal.buffer.tabs = {};\n        }\n    };\n    InputHandler.prototype.setMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.setMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = true;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = true;\n                    break;\n                case 2:\n                    this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(1, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(2, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(3, Charsets_1.DEFAULT_CHARSET);\n                    break;\n                case 3:\n                    this._terminal.savedCols = this._terminal.cols;\n                    this._terminal.resize(132, this._terminal.rows);\n                    break;\n                case 6:\n                    this._terminal.originMode = true;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = true;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Serial port requested application keypad.');\n                    this._terminal.applicationKeypad = true;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = params[0] === 9;\n                    this._terminal.vt200Mouse = params[0] === 1000;\n                    this._terminal.normalMouse = params[0] > 1000;\n                    this._terminal.mouseEvents = true;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.add('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.disable();\n                    }\n                    this._terminal.log('Binding to mouse events.');\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = true;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = true;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = true;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = true;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = false;\n                    break;\n                case 1048:\n                    this.saveCursor(params);\n                    break;\n                case 1049:\n                    this.saveCursor(params);\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttrData());\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = true;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.resetMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.resetMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = false;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = false;\n                    break;\n                case 3:\n                    if (this._terminal.cols === 132 && this._terminal.savedCols) {\n                        this._terminal.resize(this._terminal.savedCols, this._terminal.rows);\n                    }\n                    delete this._terminal.savedCols;\n                    break;\n                case 6:\n                    this._terminal.originMode = false;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = false;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Switching back to normal keypad.');\n                    this._terminal.applicationKeypad = false;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = false;\n                    this._terminal.vt200Mouse = false;\n                    this._terminal.normalMouse = false;\n                    this._terminal.mouseEvents = false;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.remove('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.enable();\n                    }\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = false;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = false;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = false;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = false;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = true;\n                    break;\n                case 1048:\n                    this.restoreCursor(params);\n                    break;\n                case 1049:\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateNormalBuffer();\n                    if (params[0] === 1049) {\n                        this.restoreCursor(params);\n                    }\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = false;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.charAttributes = function (params) {\n        if (params.length === 1 && params[0] === 0) {\n            this._terminal.curAttrData.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n            this._terminal.curAttrData.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            return;\n        }\n        var l = params.length;\n        var p;\n        var attr = this._terminal.curAttrData;\n        for (var i = 0; i < l; i++) {\n            p = params[i];\n            if (p >= 30 && p <= 37) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 30);\n            }\n            else if (p >= 40 && p <= 47) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 40);\n            }\n            else if (p >= 90 && p <= 97) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 90) | 8;\n            }\n            else if (p >= 100 && p <= 107) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 100) | 8;\n            }\n            else if (p === 0) {\n                attr.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n                attr.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            }\n            else if (p === 1) {\n                attr.fg |= 134217728;\n            }\n            else if (p === 3) {\n                attr.bg |= 67108864;\n            }\n            else if (p === 4) {\n                attr.fg |= 268435456;\n            }\n            else if (p === 5) {\n                attr.fg |= 536870912;\n            }\n            else if (p === 7) {\n                attr.fg |= 67108864;\n            }\n            else if (p === 8) {\n                attr.fg |= 1073741824;\n            }\n            else if (p === 2) {\n                attr.bg |= 134217728;\n            }\n            else if (p === 22) {\n                attr.fg &= ~134217728;\n                attr.bg &= ~134217728;\n            }\n            else if (p === 23) {\n                attr.bg &= ~67108864;\n            }\n            else if (p === 24) {\n                attr.fg &= ~268435456;\n            }\n            else if (p === 25) {\n                attr.fg &= ~536870912;\n            }\n            else if (p === 27) {\n                attr.fg &= ~67108864;\n            }\n            else if (p === 28) {\n                attr.fg &= ~1073741824;\n            }\n            else if (p === 39) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n            }\n            else if (p === 49) {\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else if (p === 38) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.fg |= 50331648;\n                    attr.fg &= ~16777215;\n                    attr.fg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.fg &= ~(50331648 | 255);\n                    attr.fg |= 33554432 | p;\n                }\n            }\n            else if (p === 48) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.bg |= 50331648;\n                    attr.bg &= ~16777215;\n                    attr.bg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.bg &= ~(50331648 | 255);\n                    attr.bg |= 33554432 | p;\n                }\n            }\n            else if (p === 100) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else {\n                this._terminal.error('Unknown SGR attribute: %d.', p);\n            }\n        }\n    };\n    InputHandler.prototype.deviceStatus = function (params, collect) {\n        if (!collect) {\n            switch (params[0]) {\n                case 5:\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[0n\");\n                    break;\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[\" + y + \";\" + x + \"R\");\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[?\" + y + \";\" + x + \"R\");\n                    break;\n                case 15:\n                    break;\n                case 25:\n                    break;\n                case 26:\n                    break;\n                case 53:\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.softReset = function (params, collect) {\n        if (collect === '!') {\n            this._terminal.cursorHidden = false;\n            this._terminal.insertMode = false;\n            this._terminal.originMode = false;\n            this._terminal.wraparoundMode = true;\n            this._terminal.applicationKeypad = false;\n            if (this._terminal.viewport) {\n                this._terminal.viewport.syncScrollArea();\n            }\n            this._terminal.applicationCursor = false;\n            this._terminal.buffer.scrollTop = 0;\n            this._terminal.buffer.scrollBottom = this._terminal.rows - 1;\n            this._terminal.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n            this._terminal.buffer.x = this._terminal.buffer.y = 0;\n            this._terminal.charset = null;\n            this._terminal.glevel = 0;\n            this._terminal.charsets = [null];\n        }\n    };\n    InputHandler.prototype.setCursorStyle = function (params, collect) {\n        if (collect === ' ') {\n            var param = params[0] < 1 ? 1 : params[0];\n            switch (param) {\n                case 1:\n                case 2:\n                    this._terminal.setOption('cursorStyle', 'block');\n                    break;\n                case 3:\n                case 4:\n                    this._terminal.setOption('cursorStyle', 'underline');\n                    break;\n                case 5:\n                case 6:\n                    this._terminal.setOption('cursorStyle', 'bar');\n                    break;\n            }\n            var isBlinking = param % 2 === 1;\n            this._terminal.setOption('cursorBlink', isBlinking);\n        }\n    };\n    InputHandler.prototype.setScrollRegion = function (params, collect) {\n        if (collect) {\n            return;\n        }\n        this._terminal.buffer.scrollTop = (params[0] || 1) - 1;\n        this._terminal.buffer.scrollBottom = (params[1] && params[1] <= this._terminal.rows ? params[1] : this._terminal.rows) - 1;\n        this._terminal.buffer.x = 0;\n        this._terminal.buffer.y = 0;\n    };\n    InputHandler.prototype.saveCursor = function (params) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x;\n        this._terminal.buffer.savedY = this._terminal.buffer.y;\n        this._terminal.buffer.savedCurAttrData.fg = this._terminal.curAttrData.fg;\n        this._terminal.buffer.savedCurAttrData.bg = this._terminal.curAttrData.bg;\n    };\n    InputHandler.prototype.restoreCursor = function (params) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0;\n        this._terminal.buffer.y = this._terminal.buffer.savedY || 0;\n        this._terminal.curAttrData.fg = this._terminal.buffer.savedCurAttrData.fg;\n        this._terminal.curAttrData.bg = this._terminal.buffer.savedCurAttrData.bg;\n    };\n    InputHandler.prototype.setTitle = function (data) {\n        this._terminal.handleTitle(data);\n    };\n    InputHandler.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0;\n        this.index();\n    };\n    InputHandler.prototype.keypadApplicationMode = function () {\n        this._terminal.log('Serial port requested application keypad.');\n        this._terminal.applicationKeypad = true;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.keypadNumericMode = function () {\n        this._terminal.log('Switching back to normal keypad.');\n        this._terminal.applicationKeypad = false;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0);\n        this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.selectCharset = function (collectAndFlag) {\n        if (collectAndFlag.length !== 2) {\n            this.selectDefaultCharset();\n            return;\n        }\n        if (collectAndFlag[0] === '/') {\n            return;\n        }\n        this._terminal.setgCharset(GLEVEL[collectAndFlag[0]], Charsets_1.CHARSETS[collectAndFlag[1]] || Charsets_1.DEFAULT_CHARSET);\n        return;\n    };\n    InputHandler.prototype.index = function () {\n        this._terminal.index();\n    };\n    InputHandler.prototype.tabSet = function () {\n        this._terminal.tabSet();\n    };\n    InputHandler.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n    };\n    InputHandler.prototype.reset = function () {\n        this._parser.reset();\n        this._terminal.reset();\n    };\n    InputHandler.prototype.setgLevel = function (level) {\n        this._terminal.setgLevel(level);\n    };\n    return InputHandler;\n}(Lifecycle_1.Disposable));\nexports.InputHandler = InputHandler;\n\n},{\"./CharWidth\":22,\"./EscapeSequenceParser\":25,\"./common/EventEmitter2\":41,\"./common/Lifecycle\":42,\"./common/TypedArrayUtils\":44,\"./common/data/EscapeSequences\":46,\"./core/buffer/BufferLine\":47,\"./core/data/Charsets\":50,\"./core/input/TextDecoder\":52}],27:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseZoneManager_1 = require(\"./MouseZoneManager\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar Linkifier = (function () {\n    function Linkifier(_terminal) {\n        this._terminal = _terminal;\n        this._linkMatchers = [];\n        this._nextLinkMatcherId = 0;\n        this._onLinkHover = new EventEmitter2_1.EventEmitter2();\n        this._onLinkLeave = new EventEmitter2_1.EventEmitter2();\n        this._onLinkTooltip = new EventEmitter2_1.EventEmitter2();\n        this._rowsToLinkify = {\n            start: null,\n            end: null\n        };\n    }\n    Object.defineProperty(Linkifier.prototype, \"onLinkHover\", {\n        get: function () { return this._onLinkHover.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkLeave\", {\n        get: function () { return this._onLinkLeave.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkTooltip\", {\n        get: function () { return this._onLinkTooltip.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Linkifier.prototype.attachToDom = function (mouseZoneManager) {\n        this._mouseZoneManager = mouseZoneManager;\n    };\n    Linkifier.prototype.linkifyRows = function (start, end) {\n        var _this = this;\n        if (!this._mouseZoneManager) {\n            return;\n        }\n        if (this._rowsToLinkify.start === null) {\n            this._rowsToLinkify.start = start;\n            this._rowsToLinkify.end = end;\n        }\n        else {\n            this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, start);\n            this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, end);\n        }\n        this._mouseZoneManager.clearAll(start, end);\n        if (this._rowsTimeoutId) {\n            clearTimeout(this._rowsTimeoutId);\n        }\n        this._rowsTimeoutId = setTimeout(function () { return _this._linkifyRows(); }, Linkifier.TIME_BEFORE_LINKIFY);\n    };\n    Linkifier.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var buffer = this._terminal.buffer;\n        var absoluteRowIndexStart = buffer.ydisp + this._rowsToLinkify.start;\n        if (absoluteRowIndexStart >= buffer.lines.length) {\n            return;\n        }\n        var absoluteRowIndexEnd = buffer.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1;\n        var overscanLineLimit = Math.ceil(Linkifier.OVERSCAN_CHAR_LIMIT / this._terminal.cols);\n        var iterator = this._terminal.buffer.iterator(false, absoluteRowIndexStart, absoluteRowIndexEnd, overscanLineLimit, overscanLineLimit);\n        while (iterator.hasNext()) {\n            var lineData = iterator.next();\n            for (var i = 0; i < this._linkMatchers.length; i++) {\n                this._doLinkifyRow(lineData.range.first, lineData.content, this._linkMatchers[i]);\n            }\n        }\n        this._rowsToLinkify.start = null;\n        this._rowsToLinkify.end = null;\n    };\n    Linkifier.prototype.registerLinkMatcher = function (regex, handler, options) {\n        if (options === void 0) { options = {}; }\n        if (!handler) {\n            throw new Error('handler must be defined');\n        }\n        var matcher = {\n            id: this._nextLinkMatcherId++,\n            regex: regex,\n            handler: handler,\n            matchIndex: options.matchIndex,\n            validationCallback: options.validationCallback,\n            hoverTooltipCallback: options.tooltipCallback,\n            hoverLeaveCallback: options.leaveCallback,\n            willLinkActivate: options.willLinkActivate,\n            priority: options.priority || 0\n        };\n        this._addLinkMatcherToList(matcher);\n        return matcher.id;\n    };\n    Linkifier.prototype._addLinkMatcherToList = function (matcher) {\n        if (this._linkMatchers.length === 0) {\n            this._linkMatchers.push(matcher);\n            return;\n        }\n        for (var i = this._linkMatchers.length - 1; i >= 0; i--) {\n            if (matcher.priority <= this._linkMatchers[i].priority) {\n                this._linkMatchers.splice(i + 1, 0, matcher);\n                return;\n            }\n        }\n        this._linkMatchers.splice(0, 0, matcher);\n    };\n    Linkifier.prototype.deregisterLinkMatcher = function (matcherId) {\n        for (var i = 0; i < this._linkMatchers.length; i++) {\n            if (this._linkMatchers[i].id === matcherId) {\n                this._linkMatchers.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Linkifier.prototype._doLinkifyRow = function (rowIndex, text, matcher) {\n        var _this = this;\n        var rex = new RegExp(matcher.regex.source, matcher.regex.flags + 'g');\n        var match;\n        var stringIndex = -1;\n        var _loop_1 = function () {\n            var uri = match[typeof matcher.matchIndex !== 'number' ? 0 : matcher.matchIndex];\n            if (!uri) {\n                if (this_1._terminal.debug) {\n                    console.log({ match: match, matcher: matcher });\n                    throw new Error('match found without corresponding matchIndex');\n                }\n                return \"break\";\n            }\n            stringIndex = text.indexOf(uri, stringIndex + 1);\n            rex.lastIndex = stringIndex + uri.length;\n            if (stringIndex < 0) {\n                return \"break\";\n            }\n            var bufferIndex = this_1._terminal.buffer.stringIndexToBufferIndex(rowIndex, stringIndex);\n            if (bufferIndex[0] < 0) {\n                return \"break\";\n            }\n            var line = this_1._terminal.buffer.lines.get(bufferIndex[0]);\n            var attr = line.getFg(bufferIndex[1]);\n            var fg;\n            if (attr) {\n                fg = (attr >> 9) & 0x1ff;\n            }\n            if (matcher.validationCallback) {\n                matcher.validationCallback(uri, function (isValid) {\n                    if (_this._rowsTimeoutId) {\n                        return;\n                    }\n                    if (isValid) {\n                        _this._addLink(bufferIndex[1], bufferIndex[0] - _this._terminal.buffer.ydisp, uri, matcher, fg);\n                    }\n                });\n            }\n            else {\n                this_1._addLink(bufferIndex[1], bufferIndex[0] - this_1._terminal.buffer.ydisp, uri, matcher, fg);\n            }\n        };\n        var this_1 = this;\n        while ((match = rex.exec(text)) !== null) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Linkifier.prototype._addLink = function (x, y, uri, matcher, fg) {\n        var _this = this;\n        var width = CharWidth_1.getStringCellWidth(uri);\n        var x1 = x % this._terminal.cols;\n        var y1 = y + Math.floor(x / this._terminal.cols);\n        var x2 = (x1 + width) % this._terminal.cols;\n        var y2 = y1 + Math.floor((x1 + width) / this._terminal.cols);\n        if (x2 === 0) {\n            x2 = this._terminal.cols;\n            y2--;\n        }\n        this._mouseZoneManager.add(new MouseZoneManager_1.MouseZone(x1 + 1, y1 + 1, x2 + 1, y2 + 1, function (e) {\n            if (matcher.handler) {\n                return matcher.handler(e, uri);\n            }\n            window.open(uri, '_blank');\n        }, function () {\n            _this._onLinkHover.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.add('xterm-cursor-pointer');\n        }, function (e) {\n            _this._onLinkTooltip.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            if (matcher.hoverTooltipCallback) {\n                matcher.hoverTooltipCallback(e, uri);\n            }\n        }, function () {\n            _this._onLinkLeave.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.remove('xterm-cursor-pointer');\n            if (matcher.hoverLeaveCallback) {\n                matcher.hoverLeaveCallback();\n            }\n        }, function (e) {\n            if (matcher.willLinkActivate) {\n                return matcher.willLinkActivate(e, uri);\n            }\n            return true;\n        }));\n    };\n    Linkifier.prototype._createLinkHoverEvent = function (x1, y1, x2, y2, fg) {\n        return { x1: x1, y1: y1, x2: x2, y2: y2, cols: this._terminal.cols, fg: fg };\n    };\n    Linkifier.TIME_BEFORE_LINKIFY = 200;\n    Linkifier.OVERSCAN_CHAR_LIMIT = 2000;\n    return Linkifier;\n}());\nexports.Linkifier = Linkifier;\n\n},{\"./CharWidth\":22,\"./MouseZoneManager\":29,\"./common/EventEmitter2\":41}],28:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper = (function () {\n    function MouseHelper(_renderCoordinator) {\n        this._renderCoordinator = _renderCoordinator;\n    }\n    MouseHelper.getCoordsRelativeToElement = function (event, element) {\n        var rect = element.getBoundingClientRect();\n        return [event.clientX - rect.left, event.clientY - rect.top];\n    };\n    MouseHelper.prototype.getCoords = function (event, element, charMeasure, colCount, rowCount, isSelection) {\n        if (!charMeasure.width || !charMeasure.height) {\n            return null;\n        }\n        var coords = MouseHelper.getCoordsRelativeToElement(event, element);\n        if (!coords) {\n            return null;\n        }\n        coords[0] = Math.ceil((coords[0] + (isSelection ? this._renderCoordinator.dimensions.actualCellWidth / 2 : 0)) / this._renderCoordinator.dimensions.actualCellWidth);\n        coords[1] = Math.ceil(coords[1] / this._renderCoordinator.dimensions.actualCellHeight);\n        coords[0] = Math.min(Math.max(coords[0], 1), colCount + (isSelection ? 1 : 0));\n        coords[1] = Math.min(Math.max(coords[1], 1), rowCount);\n        return coords;\n    };\n    MouseHelper.prototype.getRawByteCoords = function (event, element, charMeasure, colCount, rowCount) {\n        var coords = this.getCoords(event, element, charMeasure, colCount, rowCount);\n        var x = coords[0];\n        var y = coords[1];\n        x += 32;\n        y += 32;\n        return { x: x, y: y };\n    };\n    return MouseHelper;\n}());\nexports.MouseHelper = MouseHelper;\n\n},{}],29:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar HOVER_DURATION = 500;\nvar MouseZoneManager = (function (_super) {\n    __extends(MouseZoneManager, _super);\n    function MouseZoneManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._zones = [];\n        _this._areZonesActive = false;\n        _this._tooltipTimeout = null;\n        _this._currentZone = null;\n        _this._lastHoverCoords = [null, null];\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._terminal.element, 'mousedown', function (e) { return _this._onMouseDown(e); }));\n        _this._mouseMoveListener = function (e) { return _this._onMouseMove(e); };\n        _this._mouseLeaveListener = function (e) { return _this._onMouseLeave(e); };\n        _this._clickListener = function (e) { return _this._onClick(e); };\n        return _this;\n    }\n    MouseZoneManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._deactivate();\n    };\n    MouseZoneManager.prototype.add = function (zone) {\n        this._zones.push(zone);\n        if (this._zones.length === 1) {\n            this._activate();\n        }\n    };\n    MouseZoneManager.prototype.clearAll = function (start, end) {\n        if (this._zones.length === 0) {\n            return;\n        }\n        if (!end) {\n            start = 0;\n            end = this._terminal.rows - 1;\n        }\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if ((zone.y1 > start && zone.y1 <= end + 1) ||\n                (zone.y2 > start && zone.y2 <= end + 1) ||\n                (zone.y1 < start && zone.y2 > end + 1)) {\n                if (this._currentZone && this._currentZone === zone) {\n                    this._currentZone.leaveCallback();\n                    this._currentZone = null;\n                }\n                this._zones.splice(i--, 1);\n            }\n        }\n        if (this._zones.length === 0) {\n            this._deactivate();\n        }\n    };\n    MouseZoneManager.prototype._activate = function () {\n        if (!this._areZonesActive) {\n            this._areZonesActive = true;\n            this._terminal.element.addEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.addEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.addEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._deactivate = function () {\n        if (this._areZonesActive) {\n            this._areZonesActive = false;\n            this._terminal.element.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.removeEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.removeEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._onMouseMove = function (e) {\n        if (this._lastHoverCoords[0] !== e.pageX || this._lastHoverCoords[1] !== e.pageY) {\n            this._onHover(e);\n            this._lastHoverCoords = [e.pageX, e.pageY];\n        }\n    };\n    MouseZoneManager.prototype._onHover = function (e) {\n        var _this = this;\n        var zone = this._findZoneEventAt(e);\n        if (zone === this._currentZone) {\n            return;\n        }\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n        if (!zone) {\n            return;\n        }\n        this._currentZone = zone;\n        if (zone.hoverCallback) {\n            zone.hoverCallback(e);\n        }\n        this._tooltipTimeout = setTimeout(function () { return _this._onTooltip(e); }, HOVER_DURATION);\n    };\n    MouseZoneManager.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n        var zone = this._findZoneEventAt(e);\n        if (zone && zone.tooltipCallback) {\n            zone.tooltipCallback(e);\n        }\n    };\n    MouseZoneManager.prototype._onMouseDown = function (e) {\n        this._initialSelectionLength = this._terminal.getSelection().length;\n        if (!this._areZonesActive) {\n            return;\n        }\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            if (zone.willLinkActivate(e)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n            }\n        }\n    };\n    MouseZoneManager.prototype._onMouseLeave = function (e) {\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n    };\n    MouseZoneManager.prototype._onClick = function (e) {\n        var zone = this._findZoneEventAt(e);\n        var currentSelectionLength = this._terminal.getSelection().length;\n        if (zone && currentSelectionLength === this._initialSelectionLength) {\n            zone.clickCallback(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    };\n    MouseZoneManager.prototype._findZoneEventAt = function (e) {\n        var coords = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n        if (!coords) {\n            return null;\n        }\n        var x = coords[0];\n        var y = coords[1];\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if (zone.y1 === zone.y2) {\n                if (y === zone.y1 && x >= zone.x1 && x < zone.x2) {\n                    return zone;\n                }\n            }\n            else {\n                if ((y === zone.y1 && x >= zone.x1) ||\n                    (y === zone.y2 && x < zone.x2) ||\n                    (y > zone.y1 && y < zone.y2)) {\n                    return zone;\n                }\n            }\n        }\n        return null;\n    };\n    return MouseZoneManager;\n}(Lifecycle_1.Disposable));\nexports.MouseZoneManager = MouseZoneManager;\nvar MouseZone = (function () {\n    function MouseZone(x1, y1, x2, y2, clickCallback, hoverCallback, tooltipCallback, leaveCallback, willLinkActivate) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.clickCallback = clickCallback;\n        this.hoverCallback = hoverCallback;\n        this.tooltipCallback = tooltipCallback;\n        this.leaveCallback = leaveCallback;\n        this.willLinkActivate = willLinkActivate;\n    }\n    return MouseZone;\n}());\nexports.MouseZone = MouseZone;\n\n},{\"./common/Lifecycle\":42,\"./ui/Lifecycle\":77}],30:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper_1 = require(\"./MouseHelper\");\nvar Browser = require(\"./common/Platform\");\nvar SelectionModel_1 = require(\"./SelectionModel\");\nvar AltClickHandler_1 = require(\"./handlers/AltClickHandler\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar DRAG_SCROLL_MAX_THRESHOLD = 50;\nvar DRAG_SCROLL_MAX_SPEED = 15;\nvar DRAG_SCROLL_INTERVAL = 50;\nvar ALT_CLICK_MOVE_CURSOR_TIME = 500;\nvar WORD_SEPARATORS = ' ()[]{}\\'\"';\nvar NON_BREAKING_SPACE_CHAR = String.fromCharCode(160);\nvar ALL_NON_BREAKING_SPACE_REGEX = new RegExp(NON_BREAKING_SPACE_CHAR, 'g');\nvar SelectionManager = (function () {\n    function SelectionManager(_terminal, _charMeasure) {\n        this._terminal = _terminal;\n        this._charMeasure = _charMeasure;\n        this._enabled = true;\n        this._workCell = new BufferLine_1.CellData();\n        this._onLinuxMouseSelection = new EventEmitter2_1.EventEmitter2();\n        this._onRedrawRequest = new EventEmitter2_1.EventEmitter2();\n        this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        this._initListeners();\n        this.enable();\n        this._model = new SelectionModel_1.SelectionModel(_terminal);\n        this._activeSelectionMode = 0;\n    }\n    Object.defineProperty(SelectionManager.prototype, \"onLinuxMouseSelection\", {\n        get: function () { return this._onLinuxMouseSelection.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onRedrawRequest\", {\n        get: function () { return this._onRedrawRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.dispose = function () {\n        this._removeMouseDownListeners();\n    };\n    Object.defineProperty(SelectionManager.prototype, \"_buffer\", {\n        get: function () {\n            return this._terminal.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype._initListeners = function () {\n        var _this = this;\n        this._mouseMoveListener = function (event) { return _this._onMouseMove(event); };\n        this._mouseUpListener = function (event) { return _this._onMouseUp(event); };\n        this.initBuffersListeners();\n    };\n    SelectionManager.prototype.initBuffersListeners = function () {\n        var _this = this;\n        this._trimListener = this._terminal.buffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n        this._terminal.buffers.onBufferActivate(function (e) { return _this._onBufferActivate(e); });\n    };\n    SelectionManager.prototype.disable = function () {\n        this.clearSelection();\n        this._enabled = false;\n    };\n    SelectionManager.prototype.enable = function () {\n        this._enabled = true;\n    };\n    Object.defineProperty(SelectionManager.prototype, \"selectionStart\", {\n        get: function () { return this._model.finalSelectionStart; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionEnd\", {\n        get: function () { return this._model.finalSelectionEnd; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"hasSelection\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return false;\n            }\n            return start[0] !== end[0] || start[1] !== end[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionText\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return '';\n            }\n            var result = [];\n            if (this._activeSelectionMode === 3) {\n                if (start[0] === end[0]) {\n                    return '';\n                }\n                for (var i = start[1]; i <= end[1]; i++) {\n                    var lineText = this._buffer.translateBufferLineToString(i, true, start[0], end[0]);\n                    result.push(lineText);\n                }\n            }\n            else {\n                var startRowEndCol = start[1] === end[1] ? end[0] : undefined;\n                result.push(this._buffer.translateBufferLineToString(start[1], true, start[0], startRowEndCol));\n                for (var i = start[1] + 1; i <= end[1] - 1; i++) {\n                    var bufferLine = this._buffer.lines.get(i);\n                    var lineText = this._buffer.translateBufferLineToString(i, true);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n                if (start[1] !== end[1]) {\n                    var bufferLine = this._buffer.lines.get(end[1]);\n                    var lineText = this._buffer.translateBufferLineToString(end[1], true, 0, end[0]);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n            }\n            var formattedResult = result.map(function (line) {\n                return line.replace(ALL_NON_BREAKING_SPACE_REGEX, ' ');\n            }).join(Browser.isMSWindows ? '\\r\\n' : '\\n');\n            return formattedResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.clearSelection = function () {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.refresh = function (isLinuxMouseSelection) {\n        var _this = this;\n        if (!this._refreshAnimationFrame) {\n            this._refreshAnimationFrame = window.requestAnimationFrame(function () { return _this._refresh(); });\n        }\n        if (Browser.isLinux && isLinuxMouseSelection) {\n            var selectionText = this.selectionText;\n            if (selectionText.length) {\n                this._onLinuxMouseSelection.fire(this.selectionText);\n            }\n        }\n    };\n    SelectionManager.prototype._refresh = function () {\n        this._refreshAnimationFrame = null;\n        this._onRedrawRequest.fire({\n            start: this._model.finalSelectionStart,\n            end: this._model.finalSelectionEnd,\n            columnSelectMode: this._activeSelectionMode === 3\n        });\n    };\n    SelectionManager.prototype.isClickInSelection = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        var start = this._model.finalSelectionStart;\n        var end = this._model.finalSelectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return this._areCoordsInSelection(coords, start, end);\n    };\n    SelectionManager.prototype._areCoordsInSelection = function (coords, start, end) {\n        return (coords[1] > start[1] && coords[1] < end[1]) ||\n            (start[1] === end[1] && coords[1] === start[1] && coords[0] >= start[0] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === end[1] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === start[1] && coords[0] >= start[0]);\n    };\n    SelectionManager.prototype.selectWordAtCursor = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._selectWordAt(coords, false);\n            this._model.selectionEnd = null;\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype.selectAll = function () {\n        this._model.isSelectAllActive = true;\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.selectLines = function (start, end) {\n        this._model.clearSelection();\n        start = Math.max(start, 0);\n        end = Math.min(end, this._terminal.buffer.lines.length - 1);\n        this._model.selectionStart = [0, start];\n        this._model.selectionEnd = [this._terminal.cols, end];\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype._onTrim = function (amount) {\n        var needsRefresh = this._model.onTrim(amount);\n        if (needsRefresh) {\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._getMouseBufferCoords = function (event) {\n        var coords = this._terminal.mouseHelper.getCoords(event, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, true);\n        if (!coords) {\n            return null;\n        }\n        coords[0]--;\n        coords[1]--;\n        coords[1] += this._terminal.buffer.ydisp;\n        return coords;\n    };\n    SelectionManager.prototype._getMouseEventScrollAmount = function (event) {\n        var offset = MouseHelper_1.MouseHelper.getCoordsRelativeToElement(event, this._terminal.screenElement)[1];\n        var terminalHeight = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        if (offset >= 0 && offset <= terminalHeight) {\n            return 0;\n        }\n        if (offset > terminalHeight) {\n            offset -= terminalHeight;\n        }\n        offset = Math.min(Math.max(offset, -DRAG_SCROLL_MAX_THRESHOLD), DRAG_SCROLL_MAX_THRESHOLD);\n        offset /= DRAG_SCROLL_MAX_THRESHOLD;\n        return (offset / Math.abs(offset)) + Math.round(offset * (DRAG_SCROLL_MAX_SPEED - 1));\n    };\n    SelectionManager.prototype.shouldForceSelection = function (event) {\n        if (Browser.isMac) {\n            return event.altKey && this._terminal.options.macOptionClickForcesSelection;\n        }\n        return event.shiftKey;\n    };\n    SelectionManager.prototype.onMouseDown = function (event) {\n        this._mouseDownTimeStamp = event.timeStamp;\n        if (event.button === 2 && this.hasSelection) {\n            return;\n        }\n        if (event.button !== 0) {\n            return;\n        }\n        if (!this._enabled) {\n            if (!this.shouldForceSelection(event)) {\n                return;\n            }\n            event.stopPropagation();\n        }\n        event.preventDefault();\n        this._dragScrollAmount = 0;\n        if (this._enabled && event.shiftKey) {\n            this._onIncrementalClick(event);\n        }\n        else {\n            if (event.detail === 1) {\n                this._onSingleClick(event);\n            }\n            else if (event.detail === 2) {\n                this._onDoubleClick(event);\n            }\n            else if (event.detail === 3) {\n                this._onTripleClick(event);\n            }\n        }\n        this._addMouseDownListeners();\n        this.refresh(true);\n    };\n    SelectionManager.prototype._addMouseDownListeners = function () {\n        var _this = this;\n        this._terminal.element.ownerDocument.addEventListener('mousemove', this._mouseMoveListener);\n        this._terminal.element.ownerDocument.addEventListener('mouseup', this._mouseUpListener);\n        this._dragScrollIntervalTimer = setInterval(function () { return _this._dragScroll(); }, DRAG_SCROLL_INTERVAL);\n    };\n    SelectionManager.prototype._removeMouseDownListeners = function () {\n        if (this._terminal.element.ownerDocument) {\n            this._terminal.element.ownerDocument.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.ownerDocument.removeEventListener('mouseup', this._mouseUpListener);\n        }\n        clearInterval(this._dragScrollIntervalTimer);\n        this._dragScrollIntervalTimer = null;\n    };\n    SelectionManager.prototype._onIncrementalClick = function (event) {\n        if (this._model.selectionStart) {\n            this._model.selectionEnd = this._getMouseBufferCoords(event);\n        }\n    };\n    SelectionManager.prototype._onSingleClick = function (event) {\n        this._model.selectionStartLength = 0;\n        this._model.isSelectAllActive = false;\n        this._activeSelectionMode = this.shouldColumnSelect(event) ? 3 : 0;\n        this._model.selectionStart = this._getMouseBufferCoords(event);\n        if (!this._model.selectionStart) {\n            return;\n        }\n        this._model.selectionEnd = null;\n        var line = this._buffer.lines.get(this._model.selectionStart[1]);\n        if (!line) {\n            return;\n        }\n        if (line.length >= this._model.selectionStart[0]) {\n            return;\n        }\n        if (line.hasWidth(this._model.selectionStart[0]) === 0) {\n            this._model.selectionStart[0]++;\n        }\n    };\n    SelectionManager.prototype._onDoubleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 1;\n            this._selectWordAt(coords, true);\n        }\n    };\n    SelectionManager.prototype._onTripleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 2;\n            this._selectLineAt(coords[1]);\n        }\n    };\n    SelectionManager.prototype.shouldColumnSelect = function (event) {\n        return event.altKey && !(Browser.isMac && this._terminal.options.macOptionClickForcesSelection);\n    };\n    SelectionManager.prototype._onMouseMove = function (event) {\n        event.stopImmediatePropagation();\n        var previousSelectionEnd = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n        this._model.selectionEnd = this._getMouseBufferCoords(event);\n        if (!this._model.selectionEnd) {\n            this.refresh(true);\n            return;\n        }\n        if (this._activeSelectionMode === 2) {\n            if (this._model.selectionEnd[1] < this._model.selectionStart[1]) {\n                this._model.selectionEnd[0] = 0;\n            }\n            else {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n        }\n        else if (this._activeSelectionMode === 1) {\n            this._selectToWordAt(this._model.selectionEnd);\n        }\n        this._dragScrollAmount = this._getMouseEventScrollAmount(event);\n        if (this._activeSelectionMode !== 3) {\n            if (this._dragScrollAmount > 0) {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n            else if (this._dragScrollAmount < 0) {\n                this._model.selectionEnd[0] = 0;\n            }\n        }\n        if (this._model.selectionEnd[1] < this._buffer.lines.length) {\n            if (this._buffer.lines.get(this._model.selectionEnd[1]).hasWidth(this._model.selectionEnd[0]) === 0) {\n                this._model.selectionEnd[0]++;\n            }\n        }\n        if (!previousSelectionEnd ||\n            previousSelectionEnd[0] !== this._model.selectionEnd[0] ||\n            previousSelectionEnd[1] !== this._model.selectionEnd[1]) {\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype._dragScroll = function () {\n        if (this._dragScrollAmount) {\n            this._terminal.scrollLines(this._dragScrollAmount, false);\n            if (this._dragScrollAmount > 0) {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = this._terminal.cols;\n                }\n                this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1);\n            }\n            else {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = 0;\n                }\n                this._model.selectionEnd[1] = this._terminal.buffer.ydisp;\n            }\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._onMouseUp = function (event) {\n        var timeElapsed = event.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners();\n        if (this.selectionText.length <= 1 && timeElapsed < ALT_CLICK_MOVE_CURSOR_TIME) {\n            (new AltClickHandler_1.AltClickHandler(event, this._terminal)).move();\n        }\n        else if (this.hasSelection) {\n            this._onSelectionChange.fire();\n        }\n    };\n    SelectionManager.prototype._onBufferActivate = function (e) {\n        var _this = this;\n        this.clearSelection();\n        if (this._trimListener) {\n            this._trimListener.dispose();\n        }\n        this._trimListener = e.activeBuffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n    };\n    SelectionManager.prototype._convertViewportColToCharacterIndex = function (bufferLine, coords) {\n        var charIndex = coords[0];\n        for (var i = 0; coords[0] >= i; i++) {\n            var length_1 = bufferLine.loadCell(i, this._workCell).getChars().length;\n            if (this._workCell.getWidth() === 0) {\n                charIndex--;\n            }\n            else if (length_1 > 1 && coords[0] !== i) {\n                charIndex += length_1 - 1;\n            }\n        }\n        return charIndex;\n    };\n    SelectionManager.prototype.setSelection = function (col, row, length) {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this._model.selectionStart = [col, row];\n        this._model.selectionStartLength = length;\n        this.refresh();\n    };\n    SelectionManager.prototype._getWordAt = function (coords, allowWhitespaceOnlySelection, followWrappedLinesAbove, followWrappedLinesBelow) {\n        if (followWrappedLinesAbove === void 0) { followWrappedLinesAbove = true; }\n        if (followWrappedLinesBelow === void 0) { followWrappedLinesBelow = true; }\n        if (coords[0] >= this._terminal.cols) {\n            return null;\n        }\n        var bufferLine = this._buffer.lines.get(coords[1]);\n        if (!bufferLine) {\n            return null;\n        }\n        var line = this._buffer.translateBufferLineToString(coords[1], false);\n        var startIndex = this._convertViewportColToCharacterIndex(bufferLine, coords);\n        var endIndex = startIndex;\n        var charOffset = coords[0] - startIndex;\n        var leftWideCharCount = 0;\n        var rightWideCharCount = 0;\n        var leftLongCharOffset = 0;\n        var rightLongCharOffset = 0;\n        if (line.charAt(startIndex) === ' ') {\n            while (startIndex > 0 && line.charAt(startIndex - 1) === ' ') {\n                startIndex--;\n            }\n            while (endIndex < line.length && line.charAt(endIndex + 1) === ' ') {\n                endIndex++;\n            }\n        }\n        else {\n            var startCol = coords[0];\n            var endCol = coords[0];\n            if (bufferLine.getWidth(startCol) === 0) {\n                leftWideCharCount++;\n                startCol--;\n            }\n            if (bufferLine.getWidth(endCol) === 2) {\n                rightWideCharCount++;\n                endCol++;\n            }\n            var length_2 = bufferLine.getString(endCol).length;\n            if (length_2 > 1) {\n                rightLongCharOffset += length_2 - 1;\n                endIndex += length_2 - 1;\n            }\n            while (startCol > 0 && startIndex > 0 && !this._isCharWordSeparator(bufferLine.loadCell(startCol - 1, this._workCell))) {\n                bufferLine.loadCell(startCol - 1, this._workCell);\n                var length_3 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 0) {\n                    leftWideCharCount++;\n                    startCol--;\n                }\n                else if (length_3 > 1) {\n                    leftLongCharOffset += length_3 - 1;\n                    startIndex -= length_3 - 1;\n                }\n                startIndex--;\n                startCol--;\n            }\n            while (endCol < bufferLine.length && endIndex + 1 < line.length && !this._isCharWordSeparator(bufferLine.loadCell(endCol + 1, this._workCell))) {\n                bufferLine.loadCell(endCol + 1, this._workCell);\n                var length_4 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 2) {\n                    rightWideCharCount++;\n                    endCol++;\n                }\n                else if (length_4 > 1) {\n                    rightLongCharOffset += length_4 - 1;\n                    endIndex += length_4 - 1;\n                }\n                endIndex++;\n                endCol++;\n            }\n        }\n        endIndex++;\n        var start = startIndex\n            + charOffset\n            - leftWideCharCount\n            + leftLongCharOffset;\n        var length = Math.min(this._terminal.cols, endIndex\n            - startIndex\n            + leftWideCharCount\n            + rightWideCharCount\n            - leftLongCharOffset\n            - rightLongCharOffset);\n        if (!allowWhitespaceOnlySelection && line.slice(startIndex, endIndex).trim() === '') {\n            return null;\n        }\n        if (followWrappedLinesAbove) {\n            if (start === 0 && bufferLine.getCodePoint(0) !== 32) {\n                var previousBufferLine = this._buffer.lines.get(coords[1] - 1);\n                if (previousBufferLine && bufferLine.isWrapped && previousBufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                    var previousLineWordPosition = this._getWordAt([this._terminal.cols - 1, coords[1] - 1], false, true, false);\n                    if (previousLineWordPosition) {\n                        var offset = this._terminal.cols - previousLineWordPosition.start;\n                        start -= offset;\n                        length += offset;\n                    }\n                }\n            }\n        }\n        if (followWrappedLinesBelow) {\n            if (start + length === this._terminal.cols && bufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                var nextBufferLine = this._buffer.lines.get(coords[1] + 1);\n                if (nextBufferLine && nextBufferLine.isWrapped && nextBufferLine.getCodePoint(0) !== 32) {\n                    var nextLineWordPosition = this._getWordAt([0, coords[1] + 1], false, false, true);\n                    if (nextLineWordPosition) {\n                        length += nextLineWordPosition.length;\n                    }\n                }\n            }\n        }\n        return { start: start, length: length };\n    };\n    SelectionManager.prototype._selectWordAt = function (coords, allowWhitespaceOnlySelection) {\n        var wordPosition = this._getWordAt(coords, allowWhitespaceOnlySelection);\n        if (wordPosition) {\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                coords[1]--;\n            }\n            this._model.selectionStart = [wordPosition.start, coords[1]];\n            this._model.selectionStartLength = wordPosition.length;\n        }\n    };\n    SelectionManager.prototype._selectToWordAt = function (coords) {\n        var wordPosition = this._getWordAt(coords, true);\n        if (wordPosition) {\n            var endRow = coords[1];\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                endRow--;\n            }\n            if (!this._model.areSelectionValuesReversed()) {\n                while (wordPosition.start + wordPosition.length > this._terminal.cols) {\n                    wordPosition.length -= this._terminal.cols;\n                    endRow++;\n                }\n            }\n            this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? wordPosition.start : wordPosition.start + wordPosition.length, endRow];\n        }\n    };\n    SelectionManager.prototype._isCharWordSeparator = function (cell) {\n        if (cell.getWidth() === 0) {\n            return false;\n        }\n        return WORD_SEPARATORS.indexOf(cell.getChars()) >= 0;\n    };\n    SelectionManager.prototype._selectLineAt = function (line) {\n        var wrappedRange = this._buffer.getWrappedRangeForLine(line);\n        this._model.selectionStart = [0, wrappedRange.first];\n        this._model.selectionEnd = [this._terminal.cols, wrappedRange.last];\n        this._model.selectionStartLength = 0;\n    };\n    return SelectionManager;\n}());\nexports.SelectionManager = SelectionManager;\n\n},{\"./MouseHelper\":28,\"./SelectionModel\":31,\"./common/EventEmitter2\":41,\"./common/Platform\":43,\"./core/buffer/BufferLine\":47,\"./handlers/AltClickHandler\":53}],31:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SelectionModel = (function () {\n    function SelectionModel(_terminal) {\n        this._terminal = _terminal;\n        this.clearSelection();\n    }\n    SelectionModel.prototype.clearSelection = function () {\n        this.selectionStart = null;\n        this.selectionEnd = null;\n        this.isSelectAllActive = false;\n        this.selectionStartLength = 0;\n    };\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionStart\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [0, 0];\n            }\n            if (!this.selectionEnd || !this.selectionStart) {\n                return this.selectionStart;\n            }\n            return this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionEnd\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n            }\n            if (!this.selectionStart) {\n                return null;\n            }\n            if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                var startPlusLength = this.selectionStart[0] + this.selectionStartLength;\n                if (startPlusLength > this._terminal.cols) {\n                    return [startPlusLength % this._terminal.cols, this.selectionStart[1] + Math.floor(startPlusLength / this._terminal.cols)];\n                }\n                return [startPlusLength, this.selectionStart[1]];\n            }\n            if (this.selectionStartLength) {\n                if (this.selectionEnd[1] === this.selectionStart[1]) {\n                    return [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]];\n                }\n            }\n            return this.selectionEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionModel.prototype.areSelectionValuesReversed = function () {\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return start[1] > end[1] || (start[1] === end[1] && start[0] > end[0]);\n    };\n    SelectionModel.prototype.onTrim = function (amount) {\n        if (this.selectionStart) {\n            this.selectionStart[1] -= amount;\n        }\n        if (this.selectionEnd) {\n            this.selectionEnd[1] -= amount;\n        }\n        if (this.selectionEnd && this.selectionEnd[1] < 0) {\n            this.clearSelection();\n            return true;\n        }\n        if (this.selectionStart && this.selectionStart[1] < 0) {\n            this.selectionStart[1] = 0;\n        }\n        return false;\n    };\n    return SelectionModel;\n}());\nexports.SelectionModel = SelectionModel;\n\n},{}],32:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BELL_SOUND = 'data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==';\nvar SoundManager = (function () {\n    function SoundManager(_terminal) {\n        this._terminal = _terminal;\n    }\n    Object.defineProperty(SoundManager, \"audioContext\", {\n        get: function () {\n            if (!SoundManager._audioContext) {\n                var audioContextCtor = window.AudioContext || window.webkitAudioContext;\n                if (!audioContextCtor) {\n                    console.warn('Web Audio API is not supported by this browser. Consider upgrading to the latest version');\n                    return null;\n                }\n                SoundManager._audioContext = new audioContextCtor();\n            }\n            return SoundManager._audioContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SoundManager.prototype.playBellSound = function () {\n        var ctx = SoundManager.audioContext;\n        if (!ctx) {\n            return;\n        }\n        var bellAudioSource = ctx.createBufferSource();\n        ctx.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (buffer) {\n            bellAudioSource.buffer = buffer;\n            bellAudioSource.connect(ctx.destination);\n            bellAudioSource.start(0);\n        });\n    };\n    SoundManager.prototype._base64ToArrayBuffer = function (base64) {\n        var binaryString = window.atob(base64);\n        var len = binaryString.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    };\n    SoundManager.prototype._removeMimeType = function (dataURI) {\n        var splitUri = dataURI.split(',');\n        return splitUri[1];\n    };\n    return SoundManager;\n}());\nexports.SoundManager = SoundManager;\n\n},{}],33:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.blankLine = 'Blank line';\nexports.promptLabel = 'Terminal input';\nexports.tooMuchOutput = 'Too much output to announce, navigate to rows manually to read';\n\n},{}],34:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferSet_1 = require(\"./BufferSet\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CompositionHelper_1 = require(\"./CompositionHelper\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar Viewport_1 = require(\"./Viewport\");\nvar Clipboard_1 = require(\"./Clipboard\");\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar InputHandler_1 = require(\"./InputHandler\");\nvar Renderer_1 = require(\"./renderer/Renderer\");\nvar Linkifier_1 = require(\"./Linkifier\");\nvar SelectionManager_1 = require(\"./SelectionManager\");\nvar CharMeasure_1 = require(\"./CharMeasure\");\nvar Browser = require(\"./common/Platform\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Strings = require(\"./Strings\");\nvar MouseHelper_1 = require(\"./MouseHelper\");\nvar SoundManager_1 = require(\"./SoundManager\");\nvar MouseZoneManager_1 = require(\"./MouseZoneManager\");\nvar AccessibilityManager_1 = require(\"./AccessibilityManager\");\nvar CharAtlasCache_1 = require(\"./renderer/atlas/CharAtlasCache\");\nvar DomRenderer_1 = require(\"./renderer/dom/DomRenderer\");\nvar Keyboard_1 = require(\"./core/input/Keyboard\");\nvar Clone_1 = require(\"./common/Clone\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar WindowsMode_1 = require(\"./WindowsMode\");\nvar ColorManager_1 = require(\"./ui/ColorManager\");\nvar RenderCoordinator_1 = require(\"./renderer/RenderCoordinator\");\nvar document = (typeof window !== 'undefined') ? window.document : null;\nvar WRITE_BUFFER_PAUSE_THRESHOLD = 5;\nvar WRITE_TIMEOUT_MS = 12;\nvar WRITE_BUFFER_LENGTH_THRESHOLD = 50;\nvar MINIMUM_COLS = 2;\nvar MINIMUM_ROWS = 1;\nvar CONSTRUCTOR_ONLY_OPTIONS = ['cols', 'rows'];\nvar DEFAULT_OPTIONS = {\n    cols: 80,\n    rows: 24,\n    convertEol: false,\n    termName: 'xterm',\n    cursorBlink: false,\n    cursorStyle: 'block',\n    bellSound: SoundManager_1.DEFAULT_BELL_SOUND,\n    bellStyle: 'none',\n    drawBoldTextInBrightColors: true,\n    enableBold: true,\n    experimentalCharAtlas: 'static',\n    fontFamily: 'courier-new, courier, monospace',\n    fontSize: 15,\n    fontWeight: 'normal',\n    fontWeightBold: 'bold',\n    lineHeight: 1.0,\n    letterSpacing: 0,\n    scrollback: 1000,\n    screenKeys: false,\n    screenReaderMode: false,\n    debug: false,\n    macOptionIsMeta: false,\n    macOptionClickForcesSelection: false,\n    cancelEvents: false,\n    disableStdin: false,\n    useFlowControl: false,\n    allowTransparency: false,\n    tabStopWidth: 8,\n    theme: undefined,\n    rightClickSelectsWord: Browser.isMac,\n    rendererType: 'canvas',\n    windowsMode: false\n};\nvar Terminal = (function (_super) {\n    __extends(Terminal, _super);\n    function Terminal(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.browser = Browser;\n        _this._blankLine = null;\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onKey = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onResize = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        _this._onTitleChange = new EventEmitter2_1.EventEmitter2();\n        _this.options = Clone_1.clone(options);\n        _this._setup();\n        _this.onCursorMove(function () { return _this.emit('cursormove'); });\n        _this.onData(function (e) { return _this.emit('data', e); });\n        _this.onKey(function (e) { return _this.emit('key', e.key, e.domEvent); });\n        _this.onLineFeed(function () { return _this.emit('linefeed'); });\n        _this.onRender(function (e) { return _this.emit('refresh', e); });\n        _this.onResize(function (e) { return _this.emit('resize', e); });\n        _this.onSelectionChange(function () { return _this.emit('selection'); });\n        _this.onScroll(function (e) { return _this.emit('scroll', e); });\n        _this.onTitleChange(function (e) { return _this.emit('title', e); });\n        return _this;\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._onKey.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._onResize.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._onTitleChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        if (this._windowsMode) {\n            this._windowsMode.dispose();\n            this._windowsMode = undefined;\n        }\n        this._customKeyEventHandler = null;\n        CharAtlasCache_1.removeTerminalFromCache(this);\n        this.handler = function () { };\n        this.write = function () { };\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    };\n    Terminal.prototype.destroy = function () {\n        this.dispose();\n    };\n    Terminal.prototype._setup = function () {\n        var _this = this;\n        Object.keys(DEFAULT_OPTIONS).forEach(function (key) {\n            if (_this.options[key] === null || _this.options[key] === undefined) {\n                _this.options[key] = DEFAULT_OPTIONS[key];\n            }\n        });\n        this._parent = document ? document.body : null;\n        this.cols = Math.max(this.options.cols, MINIMUM_COLS);\n        this.rows = Math.max(this.options.rows, MINIMUM_ROWS);\n        if (this.options.handler) {\n            this.onData(this.options.handler);\n        }\n        this.cursorState = 0;\n        this.cursorHidden = false;\n        this._customKeyEventHandler = null;\n        this.applicationKeypad = false;\n        this.applicationCursor = false;\n        this.originMode = false;\n        this.insertMode = false;\n        this.wraparoundMode = true;\n        this.bracketedPasteMode = false;\n        this.charset = null;\n        this.gcharset = null;\n        this.glevel = 0;\n        this.charsets = [null];\n        this.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this._eraseAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.params = [];\n        this.currentParam = 0;\n        this.writeBuffer = [];\n        this.writeBufferUtf8 = [];\n        this._writeInProgress = false;\n        this._xoffSentToCatchUp = false;\n        this._userScrolling = false;\n        this._inputHandler = new InputHandler_1.InputHandler(this);\n        this._inputHandler.onCursorMove(function () { return _this._onCursorMove.fire(); });\n        this._inputHandler.onLineFeed(function () { return _this._onLineFeed.fire(); });\n        this._inputHandler.onData(function (e) { return _this._onData.fire(e); });\n        this.register(this._inputHandler);\n        this.selectionManager = this.selectionManager || null;\n        this.linkifier = this.linkifier || new Linkifier_1.Linkifier(this);\n        this._mouseZoneManager = this._mouseZoneManager || null;\n        this.soundManager = this.soundManager || new SoundManager_1.SoundManager(this);\n        this.buffers = new BufferSet_1.BufferSet(this);\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n            this.selectionManager.initBuffersListeners();\n        }\n        if (this.options.windowsMode) {\n            this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () {\n            return this.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.eraseAttrData = function () {\n        this._eraseAttrData.bg &= ~(50331648 | 0xFFFFFF);\n        this._eraseAttrData.bg |= this.curAttrData.bg & ~0xFC000000;\n        return this._eraseAttrData;\n    };\n    Terminal.prototype.focus = function () {\n        if (this.textarea) {\n            this.textarea.focus({ preventScroll: true });\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"isFocused\", {\n        get: function () {\n            return document.activeElement === this.textarea && document.hasFocus();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.getOption = function (key) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        return this.options[key];\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        if (CONSTRUCTOR_ONLY_OPTIONS.indexOf(key) !== -1) {\n            console.error(\"Option \\\"\" + key + \"\\\" can only be set in the constructor\");\n        }\n        if (this.options[key] === value) {\n            return;\n        }\n        switch (key) {\n            case 'bellStyle':\n                if (!value) {\n                    value = 'none';\n                }\n                break;\n            case 'cursorStyle':\n                if (!value) {\n                    value = 'block';\n                }\n                break;\n            case 'fontWeight':\n                if (!value) {\n                    value = 'normal';\n                }\n                break;\n            case 'fontWeightBold':\n                if (!value) {\n                    value = 'bold';\n                }\n                break;\n            case 'lineHeight':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n            case 'rendererType':\n                if (!value) {\n                    value = 'canvas';\n                }\n                break;\n            case 'tabStopWidth':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n                break;\n            case 'theme':\n                this._setTheme(value);\n                break;\n            case 'scrollback':\n                value = Math.min(value, Buffer_1.MAX_BUFFER_SIZE);\n                if (value < 0) {\n                    console.warn(key + \" cannot be less than 0, value: \" + value);\n                    return;\n                }\n                if (this.options[key] !== value) {\n                    var newBufferLength = this.rows + value;\n                    if (this.buffer.lines.length > newBufferLength) {\n                        var amountToTrim = this.buffer.lines.length - newBufferLength;\n                        var needsRefresh = (this.buffer.ydisp - amountToTrim < 0);\n                        this.buffer.lines.trimStart(amountToTrim);\n                        this.buffer.ybase = Math.max(this.buffer.ybase - amountToTrim, 0);\n                        this.buffer.ydisp = Math.max(this.buffer.ydisp - amountToTrim, 0);\n                        if (needsRefresh) {\n                            this.refresh(0, this.rows - 1);\n                        }\n                    }\n                }\n                break;\n        }\n        this.options[key] = value;\n        switch (key) {\n            case 'fontFamily':\n            case 'fontSize':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this.charMeasure.measure(this.options);\n                }\n                break;\n            case 'drawBoldTextInBrightColors':\n            case 'experimentalCharAtlas':\n            case 'enableBold':\n            case 'letterSpacing':\n            case 'lineHeight':\n            case 'fontWeight':\n            case 'fontWeightBold':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this._renderCoordinator.onResize(this.cols, this.rows);\n                    this.refresh(0, this.rows - 1);\n                }\n                break;\n            case 'rendererType':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.setRenderer(this._createRenderer());\n                }\n                break;\n            case 'scrollback':\n                this.buffers.resize(this.cols, this.rows);\n                if (this.viewport) {\n                    this.viewport.syncScrollArea();\n                }\n                break;\n            case 'screenReaderMode':\n                if (value) {\n                    if (!this._accessibilityManager && this._renderCoordinator) {\n                        this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n                    }\n                }\n                else {\n                    if (this._accessibilityManager) {\n                        this._accessibilityManager.dispose();\n                        this._accessibilityManager = null;\n                    }\n                }\n                break;\n            case 'tabStopWidth':\n                this.buffers.setupTabStops();\n                break;\n            case 'windowsMode':\n                if (value) {\n                    if (!this._windowsMode) {\n                        this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n                    }\n                }\n                else {\n                    if (this._windowsMode) {\n                        this._windowsMode.dispose();\n                        this._windowsMode = undefined;\n                    }\n                }\n                break;\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.onOptionsChanged();\n        }\n    };\n    Terminal.prototype._onTextAreaFocus = function (ev) {\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[I');\n        }\n        this.updateCursorStyle(ev);\n        this.element.classList.add('focus');\n        this.showCursor();\n        this.emit('focus');\n    };\n    Terminal.prototype.blur = function () {\n        return this.textarea.blur();\n    };\n    Terminal.prototype._onTextAreaBlur = function () {\n        this.textarea.value = '';\n        this.refresh(this.buffer.y, this.buffer.y);\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[O');\n        }\n        this.element.classList.remove('focus');\n        this.emit('blur');\n    };\n    Terminal.prototype._initGlobal = function () {\n        var _this = this;\n        this._bindKeys();\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'copy', function (event) {\n            if (!_this.hasSelection()) {\n                return;\n            }\n            Clipboard_1.copyHandler(event, _this, _this.selectionManager);\n        }));\n        var pasteHandlerWrapper = function (event) { return Clipboard_1.pasteHandler(event, _this); };\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'paste', pasteHandlerWrapper));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'paste', pasteHandlerWrapper));\n        if (Browser.isFirefox) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (event) {\n                if (event.button === 2) {\n                    Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n                }\n            }));\n        }\n        else {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'contextmenu', function (event) {\n                Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n            }));\n        }\n        if (Browser.isLinux) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'auxclick', function (event) {\n                if (event.button === 1) {\n                    Clipboard_1.moveTextAreaUnderMouseCursor(event, _this);\n                }\n            }));\n        }\n    };\n    Terminal.prototype._bindKeys = function () {\n        var _this = this;\n        var self = this;\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keydown', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyDown(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keypress', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyPress(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keyup', function (ev) {\n            if (!wasModifierKeyOnlyEvent(ev)) {\n                _this.focus();\n            }\n            self._keyUp(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keydown', function (ev) { return _this._keyDown(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keypress', function (ev) { return _this._keyPress(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionstart', function () { return _this._compositionHelper.compositionstart(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionupdate', function (e) { return _this._compositionHelper.compositionupdate(e); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionend', function () { return _this._compositionHelper.compositionend(); }));\n        this.register(this.onRender(function () { return _this._compositionHelper.updateCompositionElements(); }));\n        this.register(this.onRender(function (e) { return _this._queueLinkification(e.start, e.end); }));\n    };\n    Terminal.prototype.open = function (parent) {\n        var _this = this;\n        this._parent = parent || this._parent;\n        if (!this._parent) {\n            throw new Error('Terminal requires a parent element.');\n        }\n        this._context = this._parent.ownerDocument.defaultView;\n        this._document = this._parent.ownerDocument;\n        this.element = this._document.createElement('div');\n        this.element.dir = 'ltr';\n        this.element.classList.add('terminal');\n        this.element.classList.add('xterm');\n        this.element.setAttribute('tabindex', '0');\n        this._parent.appendChild(this.element);\n        var fragment = document.createDocumentFragment();\n        this._viewportElement = document.createElement('div');\n        this._viewportElement.classList.add('xterm-viewport');\n        fragment.appendChild(this._viewportElement);\n        this._viewportScrollArea = document.createElement('div');\n        this._viewportScrollArea.classList.add('xterm-scroll-area');\n        this._viewportElement.appendChild(this._viewportScrollArea);\n        this.screenElement = document.createElement('div');\n        this.screenElement.classList.add('xterm-screen');\n        this._helperContainer = document.createElement('div');\n        this._helperContainer.classList.add('xterm-helpers');\n        this.screenElement.appendChild(this._helperContainer);\n        fragment.appendChild(this.screenElement);\n        this._mouseZoneManager = new MouseZoneManager_1.MouseZoneManager(this);\n        this.register(this._mouseZoneManager);\n        this.register(this.onScroll(function () { return _this._mouseZoneManager.clearAll(); }));\n        this.linkifier.attachToDom(this._mouseZoneManager);\n        this.textarea = document.createElement('textarea');\n        this.textarea.classList.add('xterm-helper-textarea');\n        this.textarea.setAttribute('aria-label', Strings.promptLabel);\n        this.textarea.setAttribute('aria-multiline', 'false');\n        this.textarea.setAttribute('autocorrect', 'off');\n        this.textarea.setAttribute('autocapitalize', 'off');\n        this.textarea.setAttribute('spellcheck', 'false');\n        this.textarea.tabIndex = 0;\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'focus', function (ev) { return _this._onTextAreaFocus(ev); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'blur', function () { return _this._onTextAreaBlur(); }));\n        this._helperContainer.appendChild(this.textarea);\n        this._compositionView = document.createElement('div');\n        this._compositionView.classList.add('composition-view');\n        this._compositionHelper = new CompositionHelper_1.CompositionHelper(this.textarea, this._compositionView, this);\n        this._helperContainer.appendChild(this._compositionView);\n        this.charMeasure = new CharMeasure_1.CharMeasure(document, this._helperContainer);\n        this.element.appendChild(fragment);\n        this._theme = this.options.theme;\n        this._colorManager = new ColorManager_1.ColorManager(document, this.options.allowTransparency);\n        this._colorManager.setTheme(this._theme);\n        var renderer = this._createRenderer();\n        this._renderCoordinator = new RenderCoordinator_1.RenderCoordinator(renderer, this.rows, this.screenElement);\n        this._renderCoordinator.onRender(function (e) { return _this._onRender.fire(e); });\n        this.onResize(function (e) { return _this._renderCoordinator.resize(e.cols, e.rows); });\n        this.viewport = new Viewport_1.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure, this._renderCoordinator.dimensions);\n        this.viewport.onThemeChange(this._colorManager.colors);\n        this.register(this.viewport);\n        this.register(this.onCursorMove(function () { return _this._renderCoordinator.onCursorMove(); }));\n        this.register(this.onResize(function () { return _this._renderCoordinator.onResize(_this.cols, _this.rows); }));\n        this.register(this.addDisposableListener('blur', function () { return _this._renderCoordinator.onBlur(); }));\n        this.register(this.addDisposableListener('focus', function () { return _this._renderCoordinator.onFocus(); }));\n        this.register(this.charMeasure.onCharSizeChanged(function () { return _this._renderCoordinator.onCharSizeChanged(); }));\n        this.register(this._renderCoordinator.onDimensionsChange(function () { return _this.viewport.syncScrollArea(); }));\n        this.selectionManager = new SelectionManager_1.SelectionManager(this, this.charMeasure);\n        this.register(this.selectionManager.onSelectionChange(function () { return _this._onSelectionChange.fire(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (e) { return _this.selectionManager.onMouseDown(e); }));\n        this.register(this.selectionManager.onRedrawRequest(function (e) { return _this._renderCoordinator.onSelectionChanged(e.start, e.end, e.columnSelectMode); }));\n        this.register(this.selectionManager.onLinuxMouseSelection(function (text) {\n            _this.textarea.value = text;\n            _this.textarea.focus();\n            _this.textarea.select();\n        }));\n        this.register(this.onScroll(function () {\n            _this.viewport.syncScrollArea();\n            _this.selectionManager.refresh();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(this._viewportElement, 'scroll', function () { return _this.selectionManager.refresh(); }));\n        this.mouseHelper = new MouseHelper_1.MouseHelper(this._renderCoordinator);\n        this.element.classList.toggle('enable-mouse-events', this.mouseEvents);\n        if (this.mouseEvents) {\n            this.selectionManager.disable();\n        }\n        else {\n            this.selectionManager.enable();\n        }\n        if (this.options.screenReaderMode) {\n            this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n            this._accessibilityManager.register(this._renderCoordinator.onDimensionsChange(function (e) { return _this._accessibilityManager.setDimensions(e); }));\n        }\n        this.charMeasure.measure(this.options);\n        this.refresh(0, this.rows - 1);\n        this._initGlobal();\n        this.bindMouse();\n    };\n    Terminal.prototype._createRenderer = function () {\n        switch (this.options.rendererType) {\n            case 'canvas':\n                return new Renderer_1.Renderer(this, this._colorManager.colors);\n                break;\n            case 'dom':\n                return new DomRenderer_1.DomRenderer(this, this._colorManager.colors);\n                break;\n            default: throw new Error(\"Unrecognized rendererType \\\"\" + this.options.rendererType + \"\\\"\");\n        }\n    };\n    Terminal.prototype._setTheme = function (theme) {\n        this._theme = theme;\n        if (this._colorManager) {\n            this._colorManager.setTheme(theme);\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.setColors(this._colorManager.colors);\n        }\n        if (this.viewport) {\n            this.viewport.onThemeChange(this._colorManager.colors);\n        }\n    };\n    Terminal.prototype.bindMouse = function () {\n        var _this = this;\n        var el = this.element;\n        var self = this;\n        var pressed = 32;\n        function sendButton(ev) {\n            var button;\n            var pos;\n            button = getButton(ev);\n            pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            sendEvent(button, pos);\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    pressed = button;\n                    break;\n                case 'mouseup':\n                    pressed = 32;\n                    break;\n                case 'wheel':\n                    break;\n            }\n        }\n        function sendMove(ev) {\n            var button = pressed;\n            var pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            button += 32;\n            sendEvent(button, pos);\n        }\n        function encode(data, ch) {\n            if (!self.utfMouse) {\n                if (ch === 255) {\n                    data.push(0);\n                    return;\n                }\n                if (ch > 127)\n                    ch = 127;\n                data.push(ch);\n            }\n            else {\n                if (ch > 2047) {\n                    data.push(2047);\n                    return;\n                }\n                data.push(ch);\n            }\n        }\n        function sendEvent(button, pos) {\n            if (self._vt300Mouse) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                var data_1 = EscapeSequences_1.C0.ESC + '[24';\n                if (button === 0)\n                    data_1 += '1';\n                else if (button === 1)\n                    data_1 += '3';\n                else if (button === 2)\n                    data_1 += '5';\n                else if (button === 3)\n                    return;\n                else\n                    data_1 += '0';\n                data_1 += '~[' + pos.x + ',' + pos.y + ']\\r';\n                self.handler(data_1);\n                return;\n            }\n            if (self._decLocator) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                if (button === 0)\n                    button = 2;\n                else if (button === 1)\n                    button = 4;\n                else if (button === 2)\n                    button = 6;\n                else if (button === 3)\n                    button = 3;\n                self.handler(EscapeSequences_1.C0.ESC + '['\n                    + button\n                    + ';'\n                    + (button === 3 ? 4 : 0)\n                    + ';'\n                    + pos.y\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.page || 0\n                    + '&w');\n                return;\n            }\n            if (self.urxvtMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                pos.x++;\n                pos.y++;\n                self.handler(EscapeSequences_1.C0.ESC + '[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                return;\n            }\n            if (self.sgrMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                self.handler(EscapeSequences_1.C0.ESC + '[<'\n                    + (((button & 3) === 3 ? button & ~3 : button) - 32)\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.y\n                    + ((button & 3) === 3 ? 'm' : 'M'));\n                return;\n            }\n            var data = [];\n            encode(data, button);\n            encode(data, pos.x);\n            encode(data, pos.y);\n            self.handler(EscapeSequences_1.C0.ESC + '[M' + String.fromCharCode.apply(String, data));\n        }\n        function getButton(ev) {\n            var button;\n            var shift;\n            var meta;\n            var ctrl;\n            var mod;\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    button = ev.button !== null && ev.button !== undefined\n                        ? +ev.button\n                        : ev.which !== null && ev.which !== undefined\n                            ? ev.which - 1\n                            : null;\n                    if (Browser.isMSIE) {\n                        button = button === 1 ? 0 : button === 4 ? 1 : button;\n                    }\n                    break;\n                case 'mouseup':\n                    button = 3;\n                    break;\n                case 'DOMMouseScroll':\n                    button = ev.detail < 0\n                        ? 64\n                        : 65;\n                    break;\n                case 'wheel':\n                    button = ev.deltaY < 0\n                        ? 64\n                        : 65;\n                    break;\n            }\n            shift = ev.shiftKey ? 4 : 0;\n            meta = ev.metaKey ? 8 : 0;\n            ctrl = ev.ctrlKey ? 16 : 0;\n            mod = shift | meta | ctrl;\n            if (self.vt200Mouse) {\n                mod &= ctrl;\n            }\n            else if (!self.normalMouse) {\n                mod = 0;\n            }\n            button = (32 + (mod << 2)) + button;\n            return button;\n        }\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'mousedown', function (ev) {\n            ev.preventDefault();\n            _this.focus();\n            if (!_this.mouseEvents || _this.selectionManager.shouldForceSelection(ev)) {\n                return;\n            }\n            sendButton(ev);\n            if (_this.vt200Mouse) {\n                ev.overrideType = 'mouseup';\n                sendButton(ev);\n                return _this.cancel(ev);\n            }\n            var moveHandler;\n            if (_this.normalMouse) {\n                moveHandler = function (event) {\n                    if (!_this.normalMouse) {\n                        return;\n                    }\n                    sendMove(event);\n                };\n                _this._document.addEventListener('mousemove', moveHandler);\n            }\n            var handler = function (ev) {\n                if (_this.normalMouse && !_this.x10Mouse) {\n                    sendButton(ev);\n                }\n                if (moveHandler) {\n                    _this._document.removeEventListener('mousemove', moveHandler);\n                    moveHandler = null;\n                }\n                _this._document.removeEventListener('mouseup', handler);\n                return _this.cancel(ev);\n            };\n            _this._document.addEventListener('mouseup', handler);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (!_this.mouseEvents) {\n                if (!_this.buffer.hasScrollback) {\n                    var amount = _this.viewport.getLinesScrolled(ev);\n                    if (amount === 0) {\n                        return;\n                    }\n                    var sequence = EscapeSequences_1.C0.ESC + (_this.applicationCursor ? 'O' : '[') + (ev.deltaY < 0 ? 'A' : 'B');\n                    var data = '';\n                    for (var i = 0; i < Math.abs(amount); i++) {\n                        data += sequence;\n                    }\n                    _this.handler(data);\n                }\n                return;\n            }\n            if (_this.x10Mouse || _this._vt300Mouse || _this._decLocator)\n                return;\n            sendButton(ev);\n            ev.preventDefault();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onWheel(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchstart', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchStart(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchmove', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchMove(ev);\n            return _this.cancel(ev);\n        }));\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        if (this._renderCoordinator) {\n            this._renderCoordinator.refreshRows(start, end);\n        }\n    };\n    Terminal.prototype._queueLinkification = function (start, end) {\n        if (this.linkifier) {\n            this.linkifier.linkifyRows(start, end);\n        }\n    };\n    Terminal.prototype.updateCursorStyle = function (ev) {\n        if (this.selectionManager && this.selectionManager.shouldColumnSelect(ev)) {\n            this.element.classList.add('column-select');\n        }\n        else {\n            this.element.classList.remove('column-select');\n        }\n    };\n    Terminal.prototype.showCursor = function () {\n        if (!this.cursorState) {\n            this.cursorState = 1;\n            this.refresh(this.buffer.y, this.buffer.y);\n        }\n    };\n    Terminal.prototype.scroll = function (isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        var newLine;\n        newLine = this._blankLine;\n        var eraseAttr = this.eraseAttrData();\n        if (!newLine || newLine.length !== this.cols || newLine.getFg(0) !== eraseAttr.fg || newLine.getBg(0) !== eraseAttr.bg) {\n            newLine = this.buffer.getBlankLine(eraseAttr, isWrapped);\n            this._blankLine = newLine;\n        }\n        newLine.isWrapped = isWrapped;\n        var topRow = this.buffer.ybase + this.buffer.scrollTop;\n        var bottomRow = this.buffer.ybase + this.buffer.scrollBottom;\n        if (this.buffer.scrollTop === 0) {\n            var willBufferBeTrimmed = this.buffer.lines.isFull;\n            if (bottomRow === this.buffer.lines.length - 1) {\n                if (willBufferBeTrimmed) {\n                    this.buffer.lines.recycle().copyFrom(newLine);\n                }\n                else {\n                    this.buffer.lines.push(newLine.clone());\n                }\n            }\n            else {\n                this.buffer.lines.splice(bottomRow + 1, 0, newLine.clone());\n            }\n            if (!willBufferBeTrimmed) {\n                this.buffer.ybase++;\n                if (!this._userScrolling) {\n                    this.buffer.ydisp++;\n                }\n            }\n            else {\n                if (this._userScrolling) {\n                    this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0);\n                }\n            }\n        }\n        else {\n            var scrollRegionHeight = bottomRow - topRow + 1;\n            this.buffer.lines.shiftElements(topRow + 1, scrollRegionHeight - 1, -1);\n            this.buffer.lines.set(bottomRow, newLine.clone());\n        }\n        if (!this._userScrolling) {\n            this.buffer.ydisp = this.buffer.ybase;\n        }\n        this.updateRange(this.buffer.scrollTop);\n        this.updateRange(this.buffer.scrollBottom);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollLines = function (disp, suppressScrollEvent) {\n        if (disp < 0) {\n            if (this.buffer.ydisp === 0) {\n                return;\n            }\n            this._userScrolling = true;\n        }\n        else if (disp + this.buffer.ydisp >= this.buffer.ybase) {\n            this._userScrolling = false;\n        }\n        var oldYdisp = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + disp, this.buffer.ybase), 0);\n        if (oldYdisp === this.buffer.ydisp) {\n            return;\n        }\n        if (!suppressScrollEvent) {\n            this._onScroll.fire(this.buffer.ydisp);\n        }\n        this.refresh(0, this.rows - 1);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this.scrollLines(pageCount * (this.rows - 1));\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        var scrollAmount = line - this.buffer.ydisp;\n        if (scrollAmount !== 0) {\n            this.scrollLines(scrollAmount);\n        }\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBufferUtf8.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBufferUtf8.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBufferUtf8.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWriteUtf8();\n            });\n        }\n    };\n    Terminal.prototype._innerWriteUtf8 = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBufferUtf8 = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBufferUtf8.length > bufferOffset) {\n            var data = this.writeBufferUtf8[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBufferUtf8.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parseUtf8(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBufferUtf8.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBufferUtf8 = this.writeBufferUtf8.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWriteUtf8(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBufferUtf8 = [];\n        }\n    };\n    Terminal.prototype.write = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBuffer.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBuffer.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWrite();\n            });\n        }\n    };\n    Terminal.prototype._innerWrite = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBuffer = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBuffer.length > bufferOffset) {\n            var data = this.writeBuffer[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBuffer.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parse(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBuffer.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBuffer = this.writeBuffer.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWrite(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBuffer = [];\n        }\n    };\n    Terminal.prototype.writeln = function (data) {\n        this.write(data + '\\r\\n');\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._customKeyEventHandler = customKeyEventHandler;\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._inputHandler.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._inputHandler.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        var matcherId = this.linkifier.registerLinkMatcher(regex, handler, options);\n        this.refresh(0, this.rows - 1);\n        return matcherId;\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        if (this.linkifier.deregisterLinkMatcher(matcherId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        var joinerId = this._renderCoordinator.registerCharacterJoiner(handler);\n        this.refresh(0, this.rows - 1);\n        return joinerId;\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        if (this._renderCoordinator.deregisterCharacterJoiner(joinerId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () {\n            return this.buffer.markers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        if (this.buffer !== this.buffers.normal) {\n            return;\n        }\n        return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this.selectionManager ? this.selectionManager.hasSelection : false;\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this.selectionManager.setSelection(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : '';\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        if (!this.selectionManager.hasSelection) {\n            return undefined;\n        }\n        return {\n            startColumn: this.selectionManager.selectionStart[0],\n            startRow: this.selectionManager.selectionStart[1],\n            endColumn: this.selectionManager.selectionEnd[0],\n            endRow: this.selectionManager.selectionEnd[1]\n        };\n    };\n    Terminal.prototype.clearSelection = function () {\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n        }\n    };\n    Terminal.prototype.selectAll = function () {\n        if (this.selectionManager) {\n            this.selectionManager.selectAll();\n        }\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        if (this.selectionManager) {\n            this.selectionManager.selectLines(start, end);\n        }\n    };\n    Terminal.prototype._keyDown = function (event) {\n        if (this._customKeyEventHandler && this._customKeyEventHandler(event) === false) {\n            return false;\n        }\n        if (!this._compositionHelper.keydown(event)) {\n            if (this.buffer.ybase !== this.buffer.ydisp) {\n                this.scrollToBottom();\n            }\n            return false;\n        }\n        var result = Keyboard_1.evaluateKeyboardEvent(event, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n        this.updateCursorStyle(event);\n        if (result.type === 3 || result.type === 2) {\n            var scrollCount = this.rows - 1;\n            this.scrollLines(result.type === 2 ? -scrollCount : scrollCount);\n            return this.cancel(event, true);\n        }\n        if (result.type === 1) {\n            this.selectAll();\n        }\n        if (this._isThirdLevelShift(this.browser, event)) {\n            return true;\n        }\n        if (result.cancel) {\n            this.cancel(event, true);\n        }\n        if (!result.key) {\n            return true;\n        }\n        this.emit('keydown', event);\n        this._onKey.fire({ key: result.key, domEvent: event });\n        this.showCursor();\n        this.handler(result.key);\n        return this.cancel(event, true);\n    };\n    Terminal.prototype._isThirdLevelShift = function (browser, ev) {\n        var thirdLevelKey = (browser.isMac && !this.options.macOptionIsMeta && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n            (browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n        if (ev.type === 'keypress') {\n            return thirdLevelKey;\n        }\n        return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n    };\n    Terminal.prototype.setgLevel = function (g) {\n        this.glevel = g;\n        this.charset = this.charsets[g];\n    };\n    Terminal.prototype.setgCharset = function (g, charset) {\n        this.charsets[g] = charset;\n        if (this.glevel === g) {\n            this.charset = charset;\n        }\n    };\n    Terminal.prototype._keyUp = function (ev) {\n        this.updateCursorStyle(ev);\n    };\n    Terminal.prototype._keyPress = function (ev) {\n        var key;\n        if (this._customKeyEventHandler && this._customKeyEventHandler(ev) === false) {\n            return false;\n        }\n        this.cancel(ev);\n        if (ev.charCode) {\n            key = ev.charCode;\n        }\n        else if (ev.which === null || ev.which === undefined) {\n            key = ev.keyCode;\n        }\n        else if (ev.which !== 0 && ev.charCode !== 0) {\n            key = ev.which;\n        }\n        else {\n            return false;\n        }\n        if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !this._isThirdLevelShift(this.browser, ev))) {\n            return false;\n        }\n        key = String.fromCharCode(key);\n        this.emit('keypress', key, ev);\n        this._onKey.fire({ key: key, domEvent: ev });\n        this.showCursor();\n        this.handler(key);\n        return true;\n    };\n    Terminal.prototype.bell = function () {\n        var _this = this;\n        this.emit('bell');\n        if (this._soundBell()) {\n            this.soundManager.playBellSound();\n        }\n        if (this._visualBell()) {\n            this.element.classList.add('visual-bell-active');\n            clearTimeout(this._visualBellTimer);\n            this._visualBellTimer = window.setTimeout(function () {\n                _this.element.classList.remove('visual-bell-active');\n            }, 200);\n        }\n    };\n    Terminal.prototype.log = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.log)\n            return;\n        this._context.console.log(text, data);\n    };\n    Terminal.prototype.error = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.error)\n            return;\n        this._context.console.error(text, data);\n    };\n    Terminal.prototype.resize = function (x, y) {\n        if (isNaN(x) || isNaN(y)) {\n            return;\n        }\n        if (x === this.cols && y === this.rows) {\n            if (this.charMeasure && (!this.charMeasure.width || !this.charMeasure.height)) {\n                this.charMeasure.measure(this.options);\n            }\n            return;\n        }\n        if (x < MINIMUM_COLS)\n            x = MINIMUM_COLS;\n        if (y < MINIMUM_ROWS)\n            y = MINIMUM_ROWS;\n        this.buffers.resize(x, y);\n        this.cols = x;\n        this.rows = y;\n        this.buffers.setupTabStops(this.cols);\n        if (this.charMeasure) {\n            this.charMeasure.measure(this.options);\n        }\n        this.refresh(0, this.rows - 1);\n        this._onResize.fire({ cols: x, rows: y });\n    };\n    Terminal.prototype.updateRange = function (y) {\n        if (y < this._refreshStart)\n            this._refreshStart = y;\n        if (y > this._refreshEnd)\n            this._refreshEnd = y;\n    };\n    Terminal.prototype.maxRange = function () {\n        this._refreshStart = 0;\n        this._refreshEnd = this.rows - 1;\n    };\n    Terminal.prototype.clear = function () {\n        if (this.buffer.ybase === 0 && this.buffer.y === 0) {\n            return;\n        }\n        this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y));\n        this.buffer.lines.length = 1;\n        this.buffer.ydisp = 0;\n        this.buffer.ybase = 0;\n        this.buffer.y = 0;\n        for (var i = 1; i < this.rows; i++) {\n            this.buffer.lines.push(this.buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this.refresh(0, this.rows - 1);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.is = function (term) {\n        return (this.options.termName + '').indexOf(term) === 0;\n    };\n    Terminal.prototype.handler = function (data) {\n        if (this.options.disableStdin) {\n            return;\n        }\n        if (this.selectionManager && this.selectionManager.hasSelection) {\n            this.selectionManager.clearSelection();\n        }\n        if (this.buffer.ybase !== this.buffer.ydisp) {\n            this.scrollToBottom();\n        }\n        this._onData.fire(data);\n    };\n    Terminal.prototype.handleTitle = function (title) {\n        this._onTitleChange.fire(title);\n    };\n    Terminal.prototype.index = function () {\n        this.buffer.y++;\n        if (this.buffer.y > this.buffer.scrollBottom) {\n            this.buffer.y--;\n            this.scroll();\n        }\n        if (this.buffer.x >= this.cols) {\n            this.buffer.x--;\n        }\n    };\n    Terminal.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n            var scrollRegionHeight = this.buffer.scrollBottom - this.buffer.scrollTop;\n            this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, scrollRegionHeight, 1);\n            this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttrData()));\n            this.updateRange(this.buffer.scrollTop);\n            this.updateRange(this.buffer.scrollBottom);\n        }\n        else {\n            this.buffer.y--;\n        }\n    };\n    Terminal.prototype.reset = function () {\n        this.options.rows = this.rows;\n        this.options.cols = this.cols;\n        var customKeyEventHandler = this._customKeyEventHandler;\n        var inputHandler = this._inputHandler;\n        var cursorState = this.cursorState;\n        var writeBuffer = this.writeBuffer;\n        var writeBufferUtf8 = this.writeBufferUtf8;\n        var writeInProgress = this._writeInProgress;\n        var xoffSentToCatchUp = this._xoffSentToCatchUp;\n        var userScrolling = this._userScrolling;\n        this._setup();\n        this._customKeyEventHandler = customKeyEventHandler;\n        this._inputHandler = inputHandler;\n        this.cursorState = cursorState;\n        this.writeBuffer = writeBuffer;\n        this.writeBufferUtf8 = writeBufferUtf8;\n        this._writeInProgress = writeInProgress;\n        this._xoffSentToCatchUp = xoffSentToCatchUp;\n        this._userScrolling = userScrolling;\n        this.refresh(0, this.rows - 1);\n        if (this.viewport) {\n            this.viewport.syncScrollArea();\n        }\n    };\n    Terminal.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = true;\n    };\n    Terminal.prototype.cancel = function (ev, force) {\n        if (!this.options.cancelEvents && !force) {\n            return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    };\n    Terminal.prototype._visualBell = function () {\n        return false;\n    };\n    Terminal.prototype._soundBell = function () {\n        return this.options.bellStyle === 'sound';\n    };\n    return Terminal;\n}(EventEmitter_1.EventEmitter));\nexports.Terminal = Terminal;\nfunction wasModifierKeyOnlyEvent(ev) {\n    return ev.keyCode === 16 ||\n        ev.keyCode === 17 ||\n        ev.keyCode === 18;\n}\n\n},{\"./AccessibilityManager\":18,\"./Buffer\":19,\"./BufferSet\":20,\"./CharMeasure\":21,\"./Clipboard\":23,\"./CompositionHelper\":24,\"./InputHandler\":26,\"./Linkifier\":27,\"./MouseHelper\":28,\"./MouseZoneManager\":29,\"./SelectionManager\":30,\"./SoundManager\":32,\"./Strings\":33,\"./Viewport\":35,\"./WindowsMode\":36,\"./common/Clone\":39,\"./common/EventEmitter\":40,\"./common/EventEmitter2\":41,\"./common/Platform\":43,\"./common/data/EscapeSequences\":46,\"./core/buffer/BufferLine\":47,\"./core/input/Keyboard\":51,\"./renderer/RenderCoordinator\":61,\"./renderer/Renderer\":62,\"./renderer/atlas/CharAtlasCache\":66,\"./renderer/dom/DomRenderer\":74,\"./ui/ColorManager\":76,\"./ui/Lifecycle\":77}],35:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar FALLBACK_SCROLL_BAR_WIDTH = 15;\nvar Viewport = (function (_super) {\n    __extends(Viewport, _super);\n    function Viewport(_terminal, _viewportElement, _scrollArea, _charMeasure, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._viewportElement = _viewportElement;\n        _this._scrollArea = _scrollArea;\n        _this._charMeasure = _charMeasure;\n        _this._dimensions = _dimensions;\n        _this.scrollBarWidth = 0;\n        _this._currentRowHeight = 0;\n        _this._lastRecordedBufferLength = 0;\n        _this._lastRecordedViewportHeight = 0;\n        _this._lastRecordedBufferHeight = 0;\n        _this._lastScrollTop = 0;\n        _this._wheelPartialScroll = 0;\n        _this._refreshAnimationFrame = null;\n        _this._ignoreNextScrollEvent = false;\n        _this.scrollBarWidth = (_this._viewportElement.offsetWidth - _this._scrollArea.offsetWidth) || FALLBACK_SCROLL_BAR_WIDTH;\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._viewportElement, 'scroll', _this._onScroll.bind(_this)));\n        setTimeout(function () { return _this.syncScrollArea(); }, 0);\n        return _this;\n    }\n    Viewport.prototype.onDimensionsChance = function (dimensions) {\n        this._dimensions = dimensions;\n    };\n    Viewport.prototype.onThemeChange = function (colors) {\n        this._viewportElement.style.backgroundColor = colors.background.css;\n    };\n    Viewport.prototype._refresh = function () {\n        var _this = this;\n        if (this._refreshAnimationFrame === null) {\n            this._refreshAnimationFrame = requestAnimationFrame(function () { return _this._innerRefresh(); });\n        }\n    };\n    Viewport.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n            this._currentRowHeight = this._dimensions.scaledCellHeight / window.devicePixelRatio;\n            this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n            var newBufferHeight = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._dimensions.canvasHeight);\n            if (this._lastRecordedBufferHeight !== newBufferHeight) {\n                this._lastRecordedBufferHeight = newBufferHeight;\n                this._scrollArea.style.height = this._lastRecordedBufferHeight + 'px';\n            }\n        }\n        var scrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._viewportElement.scrollTop !== scrollTop) {\n            this._ignoreNextScrollEvent = true;\n            this._viewportElement.scrollTop = scrollTop;\n        }\n        this._refreshAnimationFrame = null;\n    };\n    Viewport.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) {\n            this._lastRecordedBufferLength = this._terminal.buffer.lines.length;\n            this._refresh();\n            return;\n        }\n        if (this._lastRecordedViewportHeight !== this._dimensions.canvasHeight) {\n            this._refresh();\n            return;\n        }\n        var newScrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._lastScrollTop !== newScrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._lastScrollTop !== this._viewportElement.scrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._dimensions.scaledCellHeight / window.devicePixelRatio !== this._currentRowHeight) {\n            this._refresh();\n            return;\n        }\n    };\n    Viewport.prototype._onScroll = function (ev) {\n        this._lastScrollTop = this._viewportElement.scrollTop;\n        if (!this._viewportElement.offsetParent) {\n            return;\n        }\n        if (this._ignoreNextScrollEvent) {\n            this._ignoreNextScrollEvent = false;\n            return;\n        }\n        var newRow = Math.round(this._lastScrollTop / this._currentRowHeight);\n        var diff = newRow - this._terminal.buffer.ydisp;\n        this._terminal.scrollLines(diff, true);\n    };\n    Viewport.prototype.onWheel = function (ev) {\n        var amount = this._getPixelsScrolled(ev);\n        if (amount === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += amount;\n        ev.preventDefault();\n    };\n    Viewport.prototype._getPixelsScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n            amount *= this._currentRowHeight;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._currentRowHeight * this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.getLinesScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n            amount /= this._currentRowHeight + 0.0;\n            this._wheelPartialScroll += amount;\n            amount = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1);\n            this._wheelPartialScroll %= 1;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.onTouchStart = function (ev) {\n        this._lastTouchY = ev.touches[0].pageY;\n    };\n    Viewport.prototype.onTouchMove = function (ev) {\n        var deltaY = this._lastTouchY - ev.touches[0].pageY;\n        this._lastTouchY = ev.touches[0].pageY;\n        if (deltaY === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += deltaY;\n        ev.preventDefault();\n    };\n    return Viewport;\n}(Lifecycle_1.Disposable));\nexports.Viewport = Viewport;\n\n},{\"./common/Lifecycle\":42,\"./ui/Lifecycle\":77}],36:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nfunction applyWindowsMode(terminal) {\n    return terminal.onLineFeed(function () {\n        var line = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y - 1);\n        var lastChar = line.get(terminal.cols - 1);\n        var nextLine = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y);\n        nextLine.isWrapped = (lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.NULL_CELL_CODE && lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.WHITESPACE_CELL_CODE);\n    });\n}\nexports.applyWindowsMode = applyWindowsMode;\n\n},{\"./core/buffer/BufferLine\":47}],37:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction proposeGeometry(term) {\n    if (!term.element.parentElement) {\n        return null;\n    }\n    var parentElementStyle = window.getComputedStyle(term.element.parentElement);\n    var parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    var parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    var elementStyle = window.getComputedStyle(term.element);\n    var elementPadding = {\n        top: parseInt(elementStyle.getPropertyValue('padding-top')),\n        bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n        right: parseInt(elementStyle.getPropertyValue('padding-right')),\n        left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    var elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    var elementPaddingHor = elementPadding.right + elementPadding.left;\n    var availableHeight = parentElementHeight - elementPaddingVer;\n    var availableWidth = parentElementWidth - elementPaddingHor - term._core.viewport.scrollBarWidth;\n    var geometry = {\n        cols: Math.floor(availableWidth / term._core._renderCoordinator.dimensions.actualCellWidth),\n        rows: Math.floor(availableHeight / term._core._renderCoordinator.dimensions.actualCellHeight)\n    };\n    return geometry;\n}\nexports.proposeGeometry = proposeGeometry;\nfunction fit(term) {\n    var geometry = proposeGeometry(term);\n    if (geometry) {\n        if (term.rows !== geometry.rows || term.cols !== geometry.cols) {\n            term._core._renderCoordinator.clear();\n            term.resize(geometry.cols, geometry.rows);\n        }\n    }\n}\nexports.fit = fit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.proposeGeometry = function () {\n        return proposeGeometry(this);\n    };\n    terminalConstructor.prototype.fit = function () {\n        fit(this);\n    };\n}\nexports.apply = apply;\n\n},{}],38:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"./EventEmitter2\");\nvar CircularList = (function () {\n    function CircularList(_maxLength) {\n        this._maxLength = _maxLength;\n        this.onDeleteEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onInsertEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onTrimEmitter = new EventEmitter2_1.EventEmitter2();\n        this._array = new Array(this._maxLength);\n        this._startIndex = 0;\n        this._length = 0;\n    }\n    Object.defineProperty(CircularList.prototype, \"onDelete\", {\n        get: function () { return this.onDeleteEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onInsert\", {\n        get: function () { return this.onInsertEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onTrim\", {\n        get: function () { return this.onTrimEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"maxLength\", {\n        get: function () {\n            return this._maxLength;\n        },\n        set: function (newMaxLength) {\n            if (this._maxLength === newMaxLength) {\n                return;\n            }\n            var newArray = new Array(newMaxLength);\n            for (var i = 0; i < Math.min(newMaxLength, this.length); i++) {\n                newArray[i] = this._array[this._getCyclicIndex(i)];\n            }\n            this._array = newArray;\n            this._maxLength = newMaxLength;\n            this._startIndex = 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (newLength) {\n            if (newLength > this._length) {\n                for (var i = this._length; i < newLength; i++) {\n                    this._array[i] = undefined;\n                }\n            }\n            this._length = newLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.get = function (index) {\n        return this._array[this._getCyclicIndex(index)];\n    };\n    CircularList.prototype.set = function (index, value) {\n        this._array[this._getCyclicIndex(index)] = value;\n    };\n    CircularList.prototype.push = function (value) {\n        this._array[this._getCyclicIndex(this._length)] = value;\n        if (this._length === this._maxLength) {\n            this._startIndex = ++this._startIndex % this._maxLength;\n            this.onTrimEmitter.fire(1);\n        }\n        else {\n            this._length++;\n        }\n    };\n    CircularList.prototype.recycle = function () {\n        if (this._length !== this._maxLength) {\n            throw new Error('Can only recycle when the buffer is full');\n        }\n        this._startIndex = ++this._startIndex % this._maxLength;\n        this.onTrimEmitter.fire(1);\n        return this._array[this._getCyclicIndex(this._length - 1)];\n    };\n    Object.defineProperty(CircularList.prototype, \"isFull\", {\n        get: function () {\n            return this._length === this._maxLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n    };\n    CircularList.prototype.splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        if (deleteCount) {\n            for (var i = start; i < this._length - deleteCount; i++) {\n                this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + deleteCount)];\n            }\n            this._length -= deleteCount;\n        }\n        for (var i = this._length - 1; i >= start; i--) {\n            this._array[this._getCyclicIndex(i + items.length)] = this._array[this._getCyclicIndex(i)];\n        }\n        for (var i = 0; i < items.length; i++) {\n            this._array[this._getCyclicIndex(start + i)] = items[i];\n        }\n        if (this._length + items.length > this._maxLength) {\n            var countToTrim = (this._length + items.length) - this._maxLength;\n            this._startIndex += countToTrim;\n            this._length = this._maxLength;\n            this.onTrimEmitter.fire(countToTrim);\n        }\n        else {\n            this._length += items.length;\n        }\n    };\n    CircularList.prototype.trimStart = function (count) {\n        if (count > this._length) {\n            count = this._length;\n        }\n        this._startIndex += count;\n        this._length -= count;\n        this.onTrimEmitter.fire(count);\n    };\n    CircularList.prototype.shiftElements = function (start, count, offset) {\n        if (count <= 0) {\n            return;\n        }\n        if (start < 0 || start >= this._length) {\n            throw new Error('start argument out of range');\n        }\n        if (start + offset < 0) {\n            throw new Error('Cannot shift elements in list beyond index 0');\n        }\n        if (offset > 0) {\n            for (var i = count - 1; i >= 0; i--) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n            var expandListBy = (start + count + offset) - this._length;\n            if (expandListBy > 0) {\n                this._length += expandListBy;\n                while (this._length > this._maxLength) {\n                    this._length--;\n                    this._startIndex++;\n                    this.onTrimEmitter.fire(1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < count; i++) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n        }\n    };\n    CircularList.prototype._getCyclicIndex = function (index) {\n        return (this._startIndex + index) % this._maxLength;\n    };\n    return CircularList;\n}());\nexports.CircularList = CircularList;\n\n},{\"./EventEmitter2\":41}],39:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction clone(val, depth) {\n    if (depth === void 0) { depth = 5; }\n    if (typeof val !== 'object') {\n        return val;\n    }\n    if (val === null) {\n        return null;\n    }\n    var clonedObject = Array.isArray(val) ? [] : {};\n    for (var key in val) {\n        clonedObject[key] = depth <= 1 ? val[key] : clone(val[key], depth - 1);\n    }\n    return clonedObject;\n}\nexports.clone = clone;\n\n},{}],40:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./Lifecycle\");\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._events = _this._events || {};\n        return _this;\n    }\n    EventEmitter.prototype.on = function (type, listener) {\n        this._events[type] = this._events[type] || [];\n        this._events[type].push(listener);\n    };\n    EventEmitter.prototype.addDisposableListener = function (type, handler) {\n        var _this = this;\n        this.on(type, handler);\n        var disposed = false;\n        return {\n            dispose: function () {\n                if (disposed) {\n                    return;\n                }\n                _this.off(type, handler);\n                disposed = true;\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (type, listener) {\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var i = obj.length;\n        while (i--) {\n            if (obj[i] === listener) {\n                obj.splice(i, 1);\n                return;\n            }\n        }\n    };\n    EventEmitter.prototype.removeAllListeners = function (type) {\n        if (this._events[type]) {\n            delete this._events[type];\n        }\n    };\n    EventEmitter.prototype.emit = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n        }\n    };\n    EventEmitter.prototype.emitMayRemoveListeners = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n            i -= length - obj.length;\n            length = obj.length;\n        }\n    };\n    EventEmitter.prototype.listeners = function (type) {\n        return this._events[type] || [];\n    };\n    EventEmitter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._events = {};\n    };\n    return EventEmitter;\n}(Lifecycle_1.Disposable));\nexports.EventEmitter = EventEmitter;\n\n},{\"./Lifecycle\":42}],41:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2 = (function () {\n    function EventEmitter2() {\n        this._listeners = [];\n    }\n    Object.defineProperty(EventEmitter2.prototype, \"event\", {\n        get: function () {\n            var _this = this;\n            if (!this._event) {\n                this._event = function (listener) {\n                    _this._listeners.push(listener);\n                    var disposable = {\n                        dispose: function () {\n                            for (var i = 0; i < _this._listeners.length; i++) {\n                                if (_this._listeners[i] === listener) {\n                                    _this._listeners.splice(i, 1);\n                                    return;\n                                }\n                            }\n                        }\n                    };\n                    return disposable;\n                };\n            }\n            return this._event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EventEmitter2.prototype.fire = function (data) {\n        var queue = [];\n        for (var i = 0; i < this._listeners.length; i++) {\n            queue.push(this._listeners[i]);\n        }\n        for (var i = 0; i < queue.length; i++) {\n            queue[i].call(undefined, data);\n        }\n    };\n    return EventEmitter2;\n}());\nexports.EventEmitter2 = EventEmitter2;\n\n},{}],42:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Disposable = (function () {\n    function Disposable() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    Disposable.prototype.dispose = function () {\n        this._isDisposed = true;\n        this._disposables.forEach(function (d) { return d.dispose(); });\n        this._disposables.length = 0;\n    };\n    Disposable.prototype.register = function (d) {\n        this._disposables.push(d);\n    };\n    Disposable.prototype.unregister = function (d) {\n        var index = this._disposables.indexOf(d);\n        if (index !== -1) {\n            this._disposables.splice(index, 1);\n        }\n    };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n\n},{}],43:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNode = (typeof navigator === 'undefined') ? true : false;\nvar userAgent = (isNode) ? 'node' : navigator.userAgent;\nvar platform = (isNode) ? 'node' : navigator.platform;\nexports.isFirefox = !!~userAgent.indexOf('Firefox');\nexports.isSafari = /^((?!chrome|android).)*safari/i.test(userAgent);\nexports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\nexports.isMac = contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\nexports.isIpad = platform === 'iPad';\nexports.isIphone = platform === 'iPhone';\nexports.isMSWindows = contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\nexports.isLinux = platform.indexOf('Linux') >= 0;\nfunction contains(arr, el) {\n    return arr.indexOf(el) >= 0;\n}\n\n},{}],44:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fill(array, value, start, end) {\n    if (array.fill) {\n        return array.fill(value, start, end);\n    }\n    return fillFallback(array, value, start, end);\n}\nexports.fill = fill;\nfunction fillFallback(array, value, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = array.length; }\n    if (start >= array.length) {\n        return array;\n    }\n    start = (array.length + start) % array.length;\n    if (end >= array.length) {\n        end = array.length;\n    }\n    else {\n        end = (array.length + end) % array.length;\n    }\n    for (var i = start; i < end; ++i) {\n        array[i] = value;\n    }\n    return array;\n}\nexports.fillFallback = fillFallback;\nfunction concat(a, b) {\n    var result = new a.constructor(a.length + b.length);\n    result.set(a);\n    result.set(b, a.length);\n    return result;\n}\nexports.concat = concat;\n\n},{}],45:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_COLOR = 256;\n\n},{}],46:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar C0;\n(function (C0) {\n    C0.NUL = '\\x00';\n    C0.SOH = '\\x01';\n    C0.STX = '\\x02';\n    C0.ETX = '\\x03';\n    C0.EOT = '\\x04';\n    C0.ENQ = '\\x05';\n    C0.ACK = '\\x06';\n    C0.BEL = '\\x07';\n    C0.BS = '\\x08';\n    C0.HT = '\\x09';\n    C0.LF = '\\x0a';\n    C0.VT = '\\x0b';\n    C0.FF = '\\x0c';\n    C0.CR = '\\x0d';\n    C0.SO = '\\x0e';\n    C0.SI = '\\x0f';\n    C0.DLE = '\\x10';\n    C0.DC1 = '\\x11';\n    C0.DC2 = '\\x12';\n    C0.DC3 = '\\x13';\n    C0.DC4 = '\\x14';\n    C0.NAK = '\\x15';\n    C0.SYN = '\\x16';\n    C0.ETB = '\\x17';\n    C0.CAN = '\\x18';\n    C0.EM = '\\x19';\n    C0.SUB = '\\x1a';\n    C0.ESC = '\\x1b';\n    C0.FS = '\\x1c';\n    C0.GS = '\\x1d';\n    C0.RS = '\\x1e';\n    C0.US = '\\x1f';\n    C0.SP = '\\x20';\n    C0.DEL = '\\x7f';\n})(C0 = exports.C0 || (exports.C0 = {}));\nvar C1;\n(function (C1) {\n    C1.PAD = '\\x80';\n    C1.HOP = '\\x81';\n    C1.BPH = '\\x82';\n    C1.NBH = '\\x83';\n    C1.IND = '\\x84';\n    C1.NEL = '\\x85';\n    C1.SSA = '\\x86';\n    C1.ESA = '\\x87';\n    C1.HTS = '\\x88';\n    C1.HTJ = '\\x89';\n    C1.VTS = '\\x8a';\n    C1.PLD = '\\x8b';\n    C1.PLU = '\\x8c';\n    C1.RI = '\\x8d';\n    C1.SS2 = '\\x8e';\n    C1.SS3 = '\\x8f';\n    C1.DCS = '\\x90';\n    C1.PU1 = '\\x91';\n    C1.PU2 = '\\x92';\n    C1.STS = '\\x93';\n    C1.CCH = '\\x94';\n    C1.MW = '\\x95';\n    C1.SPA = '\\x96';\n    C1.EPA = '\\x97';\n    C1.SOS = '\\x98';\n    C1.SGCI = '\\x99';\n    C1.SCI = '\\x9a';\n    C1.CSI = '\\x9b';\n    C1.ST = '\\x9c';\n    C1.OSC = '\\x9d';\n    C1.PM = '\\x9e';\n    C1.APC = '\\x9f';\n})(C1 = exports.C1 || (exports.C1 = {}));\n\n},{}],47:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextDecoder_1 = require(\"../input/TextDecoder\");\nvar Types_1 = require(\"../../common/Types\");\nexports.DEFAULT_ATTR = (0 << 18) | (Types_1.DEFAULT_COLOR << 9) | (256 << 0);\nexports.CHAR_DATA_ATTR_INDEX = 0;\nexports.CHAR_DATA_CHAR_INDEX = 1;\nexports.CHAR_DATA_WIDTH_INDEX = 2;\nexports.CHAR_DATA_CODE_INDEX = 3;\nexports.NULL_CELL_CHAR = '';\nexports.NULL_CELL_WIDTH = 1;\nexports.NULL_CELL_CODE = 0;\nexports.WHITESPACE_CELL_CHAR = ' ';\nexports.WHITESPACE_CELL_WIDTH = 1;\nexports.WHITESPACE_CELL_CODE = 32;\nvar CELL_SIZE = 3;\nvar AttributeData = (function () {\n    function AttributeData() {\n        this.fg = 0;\n        this.bg = 0;\n    }\n    AttributeData.toColorRGB = function (value) {\n        return [\n            value >>> 16 & 255,\n            value >>> 8 & 255,\n            value & 255\n        ];\n    };\n    AttributeData.fromColorRGB = function (value) {\n        return (value[0] & 255) << 16 | (value[1] & 255) << 8 | value[2] & 255;\n    };\n    AttributeData.prototype.clone = function () {\n        var newObj = new AttributeData();\n        newObj.fg = this.fg;\n        newObj.bg = this.bg;\n        return newObj;\n    };\n    AttributeData.prototype.isInverse = function () { return this.fg & 67108864; };\n    AttributeData.prototype.isBold = function () { return this.fg & 134217728; };\n    AttributeData.prototype.isUnderline = function () { return this.fg & 268435456; };\n    AttributeData.prototype.isBlink = function () { return this.fg & 536870912; };\n    AttributeData.prototype.isInvisible = function () { return this.fg & 1073741824; };\n    AttributeData.prototype.isItalic = function () { return this.bg & 67108864; };\n    AttributeData.prototype.isDim = function () { return this.bg & 134217728; };\n    AttributeData.prototype.getFgColorMode = function () { return this.fg & 50331648; };\n    AttributeData.prototype.getBgColorMode = function () { return this.bg & 50331648; };\n    AttributeData.prototype.isFgRGB = function () { return (this.fg & 50331648) === 50331648; };\n    AttributeData.prototype.isBgRGB = function () { return (this.bg & 50331648) === 50331648; };\n    AttributeData.prototype.isFgPalette = function () { return (this.fg & 50331648) === 16777216 || (this.fg & 50331648) === 33554432; };\n    AttributeData.prototype.isBgPalette = function () { return (this.bg & 50331648) === 16777216 || (this.bg & 50331648) === 33554432; };\n    AttributeData.prototype.isFgDefault = function () { return (this.fg & 50331648) === 0; };\n    AttributeData.prototype.isBgDefault = function () { return (this.bg & 50331648) === 0; };\n    AttributeData.prototype.getFgColor = function () {\n        switch (this.fg & 50331648) {\n            case 16777216:\n            case 33554432: return this.fg & 255;\n            case 50331648: return this.fg & 16777215;\n            default: return -1;\n        }\n    };\n    AttributeData.prototype.getBgColor = function () {\n        switch (this.bg & 50331648) {\n            case 16777216:\n            case 33554432: return this.bg & 255;\n            case 50331648: return this.bg & 16777215;\n            default: return -1;\n        }\n    };\n    return AttributeData;\n}());\nexports.AttributeData = AttributeData;\nexports.DEFAULT_ATTR_DATA = Object.freeze(new AttributeData());\nvar CellData = (function (_super) {\n    __extends(CellData, _super);\n    function CellData() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.content = 0;\n        _this.fg = 0;\n        _this.bg = 0;\n        _this.combinedData = '';\n        return _this;\n    }\n    CellData.fromCharData = function (value) {\n        var obj = new CellData();\n        obj.setFromCharData(value);\n        return obj;\n    };\n    CellData.prototype.isCombined = function () {\n        return this.content & 2097152;\n    };\n    CellData.prototype.getWidth = function () {\n        return this.content >> 22;\n    };\n    CellData.prototype.getChars = function () {\n        if (this.content & 2097152) {\n            return this.combinedData;\n        }\n        if (this.content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(this.content & 2097151);\n        }\n        return '';\n    };\n    CellData.prototype.getCode = function () {\n        return (this.isCombined())\n            ? this.combinedData.charCodeAt(this.combinedData.length - 1)\n            : this.content & 2097151;\n    };\n    CellData.prototype.setFromCharData = function (value) {\n        this.fg = value[exports.CHAR_DATA_ATTR_INDEX];\n        this.bg = 0;\n        var combined = false;\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 2) {\n            combined = true;\n        }\n        else if (value[exports.CHAR_DATA_CHAR_INDEX].length === 2) {\n            var code = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                var second = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    this.content = ((code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n                }\n                else {\n                    combined = true;\n                }\n            }\n            else {\n                combined = true;\n            }\n        }\n        else {\n            this.content = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        if (combined) {\n            this.combinedData = value[exports.CHAR_DATA_CHAR_INDEX];\n            this.content = 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    CellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return CellData;\n}(AttributeData));\nexports.CellData = CellData;\nvar BufferLine = (function () {\n    function BufferLine(cols, fillCellData, isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        this.isWrapped = isWrapped;\n        this._combined = {};\n        this._data = new Uint32Array(cols * CELL_SIZE);\n        var cell = fillCellData || CellData.fromCharData([0, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE]);\n        for (var i = 0; i < cols; ++i) {\n            this.setCell(i, cell);\n        }\n        this.length = cols;\n    }\n    BufferLine.prototype.get = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        var cp = content & 2097151;\n        return [\n            this._data[index * CELL_SIZE + 1],\n            (content & 2097152)\n                ? this._combined[index]\n                : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : '',\n            content >> 22,\n            (content & 2097152)\n                ? this._combined[index].charCodeAt(this._combined[index].length - 1)\n                : cp\n        ];\n    };\n    BufferLine.prototype.set = function (index, value) {\n        this._data[index * CELL_SIZE + 1] = value[exports.CHAR_DATA_ATTR_INDEX];\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 1) {\n            this._combined[index] = value[1];\n            this._data[index * CELL_SIZE + 0] = index | 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        else {\n            this._data[index * CELL_SIZE + 0] = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    BufferLine.prototype.getWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] >> 22;\n    };\n    BufferLine.prototype.hasWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 12582912;\n    };\n    BufferLine.prototype.getFg = function (index) {\n        return this._data[index * CELL_SIZE + 1];\n    };\n    BufferLine.prototype.getBg = function (index) {\n        return this._data[index * CELL_SIZE + 2];\n    };\n    BufferLine.prototype.hasContent = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 4194303;\n    };\n    BufferLine.prototype.getCodePoint = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index].charCodeAt(this._combined[index].length - 1);\n        }\n        return content & 2097151;\n    };\n    BufferLine.prototype.isCombined = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 2097152;\n    };\n    BufferLine.prototype.getString = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index];\n        }\n        if (content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(content & 2097151);\n        }\n        return '';\n    };\n    BufferLine.prototype.loadCell = function (index, cell) {\n        var startIndex = index * CELL_SIZE;\n        cell.content = this._data[startIndex + 0];\n        cell.fg = this._data[startIndex + 1];\n        cell.bg = this._data[startIndex + 2];\n        if (cell.content & 2097152) {\n            cell.combinedData = this._combined[index];\n        }\n        return cell;\n    };\n    BufferLine.prototype.setCell = function (index, cell) {\n        if (cell.content & 2097152) {\n            this._combined[index] = cell.combinedData;\n        }\n        this._data[index * CELL_SIZE + 0] = cell.content;\n        this._data[index * CELL_SIZE + 1] = cell.fg;\n        this._data[index * CELL_SIZE + 2] = cell.bg;\n    };\n    BufferLine.prototype.setCellFromCodePoint = function (index, codePoint, width, fg, bg) {\n        this._data[index * CELL_SIZE + 0] = codePoint | (width << 22);\n        this._data[index * CELL_SIZE + 1] = fg;\n        this._data[index * CELL_SIZE + 2] = bg;\n    };\n    BufferLine.prototype.addCodepointToCell = function (index, codePoint) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            this._combined[index] += TextDecoder_1.stringFromCodePoint(codePoint);\n        }\n        else {\n            if (content & 2097151) {\n                this._combined[index] = TextDecoder_1.stringFromCodePoint(content & 2097151) + TextDecoder_1.stringFromCodePoint(codePoint);\n                content &= ~2097151;\n                content |= 2097152;\n            }\n            else {\n                content = codePoint | (1 << 22);\n            }\n            this._data[index * CELL_SIZE + 0] = content;\n        }\n    };\n    BufferLine.prototype.insertCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = this.length - pos - n - 1; i >= 0; --i) {\n                this.setCell(pos + n + i, this.loadCell(pos + i, cell));\n            }\n            for (var i = 0; i < n; ++i) {\n                this.setCell(pos + i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.deleteCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = 0; i < this.length - pos - n; ++i) {\n                this.setCell(pos + i, this.loadCell(pos + n + i, cell));\n            }\n            for (var i = this.length - n; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.replaceCells = function (start, end, fillCellData) {\n        while (start < end && start < this.length) {\n            this.setCell(start++, fillCellData);\n        }\n    };\n    BufferLine.prototype.resize = function (cols, fillCellData) {\n        if (cols === this.length) {\n            return;\n        }\n        if (cols > this.length) {\n            var data = new Uint32Array(cols * CELL_SIZE);\n            if (this.length) {\n                if (cols * CELL_SIZE < this._data.length) {\n                    data.set(this._data.subarray(0, cols * CELL_SIZE));\n                }\n                else {\n                    data.set(this._data);\n                }\n            }\n            this._data = data;\n            for (var i = this.length; i < cols; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            if (cols) {\n                var data = new Uint32Array(cols * CELL_SIZE);\n                data.set(this._data.subarray(0, cols * CELL_SIZE));\n                this._data = data;\n                var keys = Object.keys(this._combined);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = parseInt(keys[i], 10);\n                    if (key >= cols) {\n                        delete this._combined[key];\n                    }\n                }\n            }\n            else {\n                this._data = new Uint32Array(0);\n                this._combined = {};\n            }\n        }\n        this.length = cols;\n    };\n    BufferLine.prototype.fill = function (fillCellData) {\n        this._combined = {};\n        for (var i = 0; i < this.length; ++i) {\n            this.setCell(i, fillCellData);\n        }\n    };\n    BufferLine.prototype.copyFrom = function (line) {\n        if (this.length !== line.length) {\n            this._data = new Uint32Array(line._data);\n        }\n        else {\n            this._data.set(line._data);\n        }\n        this.length = line.length;\n        this._combined = {};\n        for (var el in line._combined) {\n            this._combined[el] = line._combined[el];\n        }\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLine.prototype.clone = function () {\n        var newLine = new BufferLine(0);\n        newLine._data = new Uint32Array(this._data);\n        newLine.length = this.length;\n        for (var el in this._combined) {\n            newLine._combined[el] = this._combined[el];\n        }\n        newLine.isWrapped = this.isWrapped;\n        return newLine;\n    };\n    BufferLine.prototype.getTrimmedLength = function () {\n        for (var i = this.length - 1; i >= 0; --i) {\n            if ((this._data[i * CELL_SIZE + 0] & 4194303)) {\n                return i + (this._data[i * CELL_SIZE + 0] >> 22);\n            }\n        }\n        return 0;\n    };\n    BufferLine.prototype.copyCellsFrom = function (src, srcCol, destCol, length, applyInReverse) {\n        var srcData = src._data;\n        if (applyInReverse) {\n            for (var cell = length - 1; cell >= 0; cell--) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        else {\n            for (var cell = 0; cell < length; cell++) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        var srcCombinedKeys = Object.keys(src._combined);\n        for (var i = 0; i < srcCombinedKeys.length; i++) {\n            var key = parseInt(srcCombinedKeys[i], 10);\n            if (key >= srcCol) {\n                this._combined[key - srcCol + destCol] = src._combined[key];\n            }\n        }\n    };\n    BufferLine.prototype.translateToString = function (trimRight, startCol, endCol) {\n        if (trimRight === void 0) { trimRight = false; }\n        if (startCol === void 0) { startCol = 0; }\n        if (endCol === void 0) { endCol = this.length; }\n        if (trimRight) {\n            endCol = Math.min(endCol, this.getTrimmedLength());\n        }\n        var result = '';\n        while (startCol < endCol) {\n            var content = this._data[startCol * CELL_SIZE + 0];\n            var cp = content & 2097151;\n            result += (content & 2097152) ? this._combined[startCol] : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : exports.WHITESPACE_CELL_CHAR;\n            startCol += (content >> 22) || 1;\n        }\n        return result;\n    };\n    return BufferLine;\n}());\nexports.BufferLine = BufferLine;\n\n},{\"../../common/Types\":45,\"../input/TextDecoder\":52}],48:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction reflowLargerGetLinesToRemove(lines, oldCols, newCols, bufferAbsoluteY, nullCell) {\n    var toRemove = [];\n    for (var y = 0; y < lines.length - 1; y++) {\n        var i = y;\n        var nextLine = lines.get(++i);\n        if (!nextLine.isWrapped) {\n            continue;\n        }\n        var wrappedLines = [lines.get(y)];\n        while (i < lines.length && nextLine.isWrapped) {\n            wrappedLines.push(nextLine);\n            nextLine = lines.get(++i);\n        }\n        if (bufferAbsoluteY >= y && bufferAbsoluteY < i) {\n            y += wrappedLines.length - 1;\n            continue;\n        }\n        var destLineIndex = 0;\n        var destCol = getWrappedLineTrimmedLength(wrappedLines, destLineIndex, oldCols);\n        var srcLineIndex = 1;\n        var srcCol = 0;\n        while (srcLineIndex < wrappedLines.length) {\n            var srcTrimmedTineLength = getWrappedLineTrimmedLength(wrappedLines, srcLineIndex, oldCols);\n            var srcRemainingCells = srcTrimmedTineLength - srcCol;\n            var destRemainingCells = newCols - destCol;\n            var cellsToCopy = Math.min(srcRemainingCells, destRemainingCells);\n            wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol, destCol, cellsToCopy, false);\n            destCol += cellsToCopy;\n            if (destCol === newCols) {\n                destLineIndex++;\n                destCol = 0;\n            }\n            srcCol += cellsToCopy;\n            if (srcCol === srcTrimmedTineLength) {\n                srcLineIndex++;\n                srcCol = 0;\n            }\n            if (destCol === 0 && destLineIndex !== 0) {\n                if (wrappedLines[destLineIndex - 1].getWidth(newCols - 1) === 2) {\n                    wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[destLineIndex - 1], newCols - 1, destCol++, 1, false);\n                    wrappedLines[destLineIndex - 1].setCell(newCols - 1, nullCell);\n                }\n            }\n        }\n        wrappedLines[destLineIndex].replaceCells(destCol, newCols, nullCell);\n        var countToRemove = 0;\n        for (var i_1 = wrappedLines.length - 1; i_1 > 0; i_1--) {\n            if (i_1 > destLineIndex || wrappedLines[i_1].getTrimmedLength() === 0) {\n                countToRemove++;\n            }\n            else {\n                break;\n            }\n        }\n        if (countToRemove > 0) {\n            toRemove.push(y + wrappedLines.length - countToRemove);\n            toRemove.push(countToRemove);\n        }\n        y += wrappedLines.length - 1;\n    }\n    return toRemove;\n}\nexports.reflowLargerGetLinesToRemove = reflowLargerGetLinesToRemove;\nfunction reflowLargerCreateNewLayout(lines, toRemove) {\n    var layout = [];\n    var nextToRemoveIndex = 0;\n    var nextToRemoveStart = toRemove[nextToRemoveIndex];\n    var countRemovedSoFar = 0;\n    for (var i = 0; i < lines.length; i++) {\n        if (nextToRemoveStart === i) {\n            var countToRemove = toRemove[++nextToRemoveIndex];\n            lines.onDeleteEmitter.fire({\n                index: i - countRemovedSoFar,\n                amount: countToRemove\n            });\n            i += countToRemove - 1;\n            countRemovedSoFar += countToRemove;\n            nextToRemoveStart = toRemove[++nextToRemoveIndex];\n        }\n        else {\n            layout.push(i);\n        }\n    }\n    return {\n        layout: layout,\n        countRemoved: countRemovedSoFar\n    };\n}\nexports.reflowLargerCreateNewLayout = reflowLargerCreateNewLayout;\nfunction reflowLargerApplyNewLayout(lines, newLayout) {\n    var newLayoutLines = [];\n    for (var i = 0; i < newLayout.length; i++) {\n        newLayoutLines.push(lines.get(newLayout[i]));\n    }\n    for (var i = 0; i < newLayoutLines.length; i++) {\n        lines.set(i, newLayoutLines[i]);\n    }\n    lines.length = newLayout.length;\n}\nexports.reflowLargerApplyNewLayout = reflowLargerApplyNewLayout;\nfunction reflowSmallerGetNewLineLengths(wrappedLines, oldCols, newCols) {\n    var newLineLengths = [];\n    var cellsNeeded = wrappedLines.map(function (l, i) { return getWrappedLineTrimmedLength(wrappedLines, i, oldCols); }).reduce(function (p, c) { return p + c; });\n    var srcCol = 0;\n    var srcLine = 0;\n    var cellsAvailable = 0;\n    while (cellsAvailable < cellsNeeded) {\n        if (cellsNeeded - cellsAvailable < newCols) {\n            newLineLengths.push(cellsNeeded - cellsAvailable);\n            break;\n        }\n        srcCol += newCols;\n        var oldTrimmedLength = getWrappedLineTrimmedLength(wrappedLines, srcLine, oldCols);\n        if (srcCol > oldTrimmedLength) {\n            srcCol -= oldTrimmedLength;\n            srcLine++;\n        }\n        var endsWithWide = wrappedLines[srcLine].getWidth(srcCol - 1) === 2;\n        if (endsWithWide) {\n            srcCol--;\n        }\n        var lineLength = endsWithWide ? newCols - 1 : newCols;\n        newLineLengths.push(lineLength);\n        cellsAvailable += lineLength;\n    }\n    return newLineLengths;\n}\nexports.reflowSmallerGetNewLineLengths = reflowSmallerGetNewLineLengths;\nfunction getWrappedLineTrimmedLength(lines, i, cols) {\n    if (i === lines.length - 1) {\n        return lines[i].getTrimmedLength();\n    }\n    var endsInNull = !(lines[i].hasContent(cols - 1)) && lines[i].getWidth(cols - 1) === 1;\n    var followingLineStartsWithWide = lines[i + 1].getWidth(0) === 2;\n    if (endsInNull && followingLineStartsWithWide) {\n        return cols - 1;\n    }\n    return cols;\n}\nexports.getWrappedLineTrimmedLength = getWrappedLineTrimmedLength;\n\n},{}],49:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"../../common/EventEmitter2\");\nvar Lifecycle_1 = require(\"../../common/Lifecycle\");\nvar Marker = (function (_super) {\n    __extends(Marker, _super);\n    function Marker(line) {\n        var _this = _super.call(this) || this;\n        _this.line = line;\n        _this._id = Marker._nextId++;\n        _this.isDisposed = false;\n        _this._onDispose = new EventEmitter2_1.EventEmitter2();\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"id\", {\n        get: function () { return this._id; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"onDispose\", {\n        get: function () { return this._onDispose.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this._onDispose.fire();\n    };\n    Marker._nextId = 1;\n    return Marker;\n}(Lifecycle_1.Disposable));\nexports.Marker = Marker;\n\n},{\"../../common/EventEmitter2\":41,\"../../common/Lifecycle\":42}],50:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHARSETS = {};\nexports.DEFAULT_CHARSET = exports.CHARSETS['B'];\nexports.CHARSETS['0'] = {\n    '`': '\\u25c6',\n    'a': '\\u2592',\n    'b': '\\u0009',\n    'c': '\\u000c',\n    'd': '\\u000d',\n    'e': '\\u000a',\n    'f': '\\u00b0',\n    'g': '\\u00b1',\n    'h': '\\u2424',\n    'i': '\\u000b',\n    'j': '\\u2518',\n    'k': '\\u2510',\n    'l': '\\u250c',\n    'm': '\\u2514',\n    'n': '\\u253c',\n    'o': '\\u23ba',\n    'p': '\\u23bb',\n    'q': '\\u2500',\n    'r': '\\u23bc',\n    's': '\\u23bd',\n    't': '\\u251c',\n    'u': '\\u2524',\n    'v': '\\u2534',\n    'w': '\\u252c',\n    'x': '\\u2502',\n    'y': '\\u2264',\n    'z': '\\u2265',\n    '{': '\\u03c0',\n    '|': '\\u2260',\n    '}': '\\u00a3',\n    '~': '\\u00b7'\n};\nexports.CHARSETS['A'] = {\n    '#': ''\n};\nexports.CHARSETS['B'] = null;\nexports.CHARSETS['4'] = {\n    '#': '',\n    '@': '',\n    '[': 'ij',\n    '\\\\': '',\n    ']': '|',\n    '{': '',\n    '|': 'f',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['C'] =\n    exports.CHARSETS['5'] = {\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['R'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['Q'] = {\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '^': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['K'] = {\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['Y'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['E'] =\n    exports.CHARSETS['6'] = {\n        '@': '',\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['Z'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': ''\n};\nexports.CHARSETS['H'] =\n    exports.CHARSETS['7'] = {\n        '@': '',\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['='] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '^': '',\n    '_': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\n\n},{}],51:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../../common/data/EscapeSequences\");\nvar KEYCODE_KEY_MAPPINGS = {\n    48: ['0', ')'],\n    49: ['1', '!'],\n    50: ['2', '@'],\n    51: ['3', '#'],\n    52: ['4', '$'],\n    53: ['5', '%'],\n    54: ['6', '^'],\n    55: ['7', '&'],\n    56: ['8', '*'],\n    57: ['9', '('],\n    186: [';', ':'],\n    187: ['=', '+'],\n    188: [',', '<'],\n    189: ['-', '_'],\n    190: ['.', '>'],\n    191: ['/', '?'],\n    192: ['`', '~'],\n    219: ['[', '{'],\n    220: ['\\\\', '|'],\n    221: [']', '}'],\n    222: ['\\'', '\"']\n};\nfunction evaluateKeyboardEvent(ev, applicationCursorMode, isMac, macOptionIsMeta) {\n    var result = {\n        type: 0,\n        cancel: false,\n        key: undefined\n    };\n    var modifiers = (ev.shiftKey ? 1 : 0) | (ev.altKey ? 2 : 0) | (ev.ctrlKey ? 4 : 0) | (ev.metaKey ? 8 : 0);\n    switch (ev.keyCode) {\n        case 0:\n            if (ev.key === 'UIKeyInputUpArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OA';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[A';\n                }\n            }\n            else if (ev.key === 'UIKeyInputLeftArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OD';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[D';\n                }\n            }\n            else if (ev.key === 'UIKeyInputRightArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OC';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[C';\n                }\n            }\n            else if (ev.key === 'UIKeyInputDownArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OB';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[B';\n                }\n            }\n            break;\n        case 8:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.BS;\n                break;\n            }\n            else if (ev.altKey) {\n                result.key = EscapeSequences_1.C0.ESC + EscapeSequences_1.C0.DEL;\n                break;\n            }\n            result.key = EscapeSequences_1.C0.DEL;\n            break;\n        case 9:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[Z';\n                break;\n            }\n            result.key = EscapeSequences_1.C0.HT;\n            result.cancel = true;\n            break;\n        case 13:\n            result.key = EscapeSequences_1.C0.CR;\n            result.cancel = true;\n            break;\n        case 27:\n            result.key = EscapeSequences_1.C0.ESC;\n            result.cancel = true;\n            break;\n        case 37:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'D';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3D') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'b' : EscapeSequences_1.C0.ESC + '[1;5D';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OD';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[D';\n            }\n            break;\n        case 39:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'C';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3C') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'f' : EscapeSequences_1.C0.ESC + '[1;5C';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OC';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[C';\n            }\n            break;\n        case 38:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'A';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3A') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5A';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OA';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[A';\n            }\n            break;\n        case 40:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'B';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3B') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5B';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OB';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[B';\n            }\n            break;\n        case 45:\n            if (!ev.shiftKey && !ev.ctrlKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[2~';\n            }\n            break;\n        case 46:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[3;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[3~';\n            }\n            break;\n        case 36:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'H';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OH';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[H';\n            }\n            break;\n        case 35:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'F';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OF';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[F';\n            }\n            break;\n        case 33:\n            if (ev.shiftKey) {\n                result.type = 2;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[5~';\n            }\n            break;\n        case 34:\n            if (ev.shiftKey) {\n                result.type = 3;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[6~';\n            }\n            break;\n        case 112:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'P';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OP';\n            }\n            break;\n        case 113:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'Q';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OQ';\n            }\n            break;\n        case 114:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'R';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OR';\n            }\n            break;\n        case 115:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'S';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OS';\n            }\n            break;\n        case 116:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[15;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[15~';\n            }\n            break;\n        case 117:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[17;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[17~';\n            }\n            break;\n        case 118:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[18;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[18~';\n            }\n            break;\n        case 119:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[19;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[19~';\n            }\n            break;\n        case 120:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[20;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[20~';\n            }\n            break;\n        case 121:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[21;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[21~';\n            }\n            break;\n        case 122:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[23;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[23~';\n            }\n            break;\n        case 123:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[24;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[24~';\n            }\n            break;\n        default:\n            if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    result.key = String.fromCharCode(ev.keyCode - 64);\n                }\n                else if (ev.keyCode === 32) {\n                    result.key = String.fromCharCode(0);\n                }\n                else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                    result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                }\n                else if (ev.keyCode === 56) {\n                    result.key = String.fromCharCode(127);\n                }\n                else if (ev.keyCode === 219) {\n                    result.key = String.fromCharCode(27);\n                }\n                else if (ev.keyCode === 220) {\n                    result.key = String.fromCharCode(28);\n                }\n                else if (ev.keyCode === 221) {\n                    result.key = String.fromCharCode(29);\n                }\n            }\n            else if ((!isMac || macOptionIsMeta) && ev.altKey && !ev.metaKey) {\n                var keyMapping = KEYCODE_KEY_MAPPINGS[ev.keyCode];\n                var key = keyMapping && keyMapping[!ev.shiftKey ? 0 : 1];\n                if (key) {\n                    result.key = EscapeSequences_1.C0.ESC + key;\n                }\n                else if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    var keyCode = ev.ctrlKey ? ev.keyCode - 64 : ev.keyCode + 32;\n                    result.key = EscapeSequences_1.C0.ESC + String.fromCharCode(keyCode);\n                }\n            }\n            else if (isMac && !ev.altKey && !ev.ctrlKey && ev.metaKey) {\n                if (ev.keyCode === 65) {\n                    result.type = 1;\n                }\n            }\n            else if (ev.key && !ev.ctrlKey && !ev.altKey && !ev.metaKey && ev.keyCode >= 48 && ev.key.length === 1) {\n                result.key = ev.key;\n            }\n            else if (ev.key && ev.ctrlKey) {\n                if (ev.key === '_') {\n                    result.key = EscapeSequences_1.C0.US;\n                }\n            }\n            break;\n    }\n    return result;\n}\nexports.evaluateKeyboardEvent = evaluateKeyboardEvent;\n\n},{\"../../common/data/EscapeSequences\":46}],52:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringFromCodePoint(codePoint) {\n    if (codePoint > 0xFFFF) {\n        codePoint -= 0x10000;\n        return String.fromCharCode((codePoint >> 10) + 0xD800) + String.fromCharCode((codePoint % 0x400) + 0xDC00);\n    }\n    return String.fromCharCode(codePoint);\n}\nexports.stringFromCodePoint = stringFromCodePoint;\nfunction utf32ToString(data, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = data.length; }\n    var result = '';\n    for (var i = start; i < end; ++i) {\n        var codepoint = data[i];\n        if (codepoint > 0xFFFF) {\n            codepoint -= 0x10000;\n            result += String.fromCharCode((codepoint >> 10) + 0xD800) + String.fromCharCode((codepoint % 0x400) + 0xDC00);\n        }\n        else {\n            result += String.fromCharCode(codepoint);\n        }\n    }\n    return result;\n}\nexports.utf32ToString = utf32ToString;\nvar StringToUtf32 = (function () {\n    function StringToUtf32() {\n        this._interim = 0;\n    }\n    StringToUtf32.prototype.clear = function () {\n        this._interim = 0;\n    };\n    StringToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var startPos = 0;\n        if (this._interim) {\n            var second = input.charCodeAt(startPos++);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                target[size++] = (this._interim - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                target[size++] = this._interim;\n                target[size++] = second;\n            }\n            this._interim = 0;\n        }\n        for (var i = startPos; i < length; ++i) {\n            var code = input.charCodeAt(i);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                if (++i >= length) {\n                    this._interim = code;\n                    return size;\n                }\n                var second = input.charCodeAt(i);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    target[size++] = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n                }\n                else {\n                    target[size++] = code;\n                    target[size++] = second;\n                }\n                continue;\n            }\n            target[size++] = code;\n        }\n        return size;\n    };\n    return StringToUtf32;\n}());\nexports.StringToUtf32 = StringToUtf32;\nvar Utf8ToUtf32 = (function () {\n    function Utf8ToUtf32() {\n        this.interim = new Uint8Array(3);\n    }\n    Utf8ToUtf32.prototype.clear = function () {\n        this.interim.fill(0);\n    };\n    Utf8ToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var byte1;\n        var byte2;\n        var byte3;\n        var byte4;\n        var codepoint = 0;\n        var startPos = 0;\n        if (this.interim[0]) {\n            var discardInterim = false;\n            var cp = this.interim[0];\n            cp &= ((((cp & 0xE0) === 0xC0)) ? 0x1F : (((cp & 0xF0) === 0xE0)) ? 0x0F : 0x07);\n            var pos = 0;\n            var tmp = void 0;\n            while ((tmp = this.interim[++pos] & 0x3F) && pos < 4) {\n                cp <<= 6;\n                cp |= tmp;\n            }\n            var type = (((this.interim[0] & 0xE0) === 0xC0)) ? 2 : (((this.interim[0] & 0xF0) === 0xE0)) ? 3 : 4;\n            var missing = type - pos;\n            while (startPos < missing) {\n                if (startPos >= length) {\n                    return 0;\n                }\n                tmp = input[startPos++];\n                if ((tmp & 0xC0) !== 0x80) {\n                    startPos--;\n                    discardInterim = true;\n                    break;\n                }\n                else {\n                    this.interim[pos++] = tmp;\n                    cp <<= 6;\n                    cp |= tmp & 0x3F;\n                }\n            }\n            if (!discardInterim) {\n                if (type === 2) {\n                    if (cp < 0x80) {\n                        startPos--;\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else if (type === 3) {\n                    if (cp < 0x0800 || (cp >= 0xD800 && cp <= 0xDFFF)) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else {\n                    if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n            }\n            this.interim.fill(0);\n        }\n        var fourStop = length - 4;\n        var i = startPos;\n        while (i < length) {\n            while (i < fourStop\n                && !((byte1 = input[i]) & 0x80)\n                && !((byte2 = input[i + 1]) & 0x80)\n                && !((byte3 = input[i + 2]) & 0x80)\n                && !((byte4 = input[i + 3]) & 0x80)) {\n                target[size++] = byte1;\n                target[size++] = byte2;\n                target[size++] = byte3;\n                target[size++] = byte4;\n                i += 4;\n            }\n            byte1 = input[i++];\n            if (byte1 < 0x80) {\n                target[size++] = byte1;\n            }\n            else if ((byte1 & 0xE0) === 0xC0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x1F) << 6 | (byte2 & 0x3F);\n                if (codepoint < 0x80) {\n                    i--;\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF0) === 0xE0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x0F) << 12 | (byte2 & 0x3F) << 6 | (byte3 & 0x3F);\n                if (codepoint < 0x0800 || (codepoint >= 0xD800 && codepoint <= 0xDFFF)) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF8) === 0xF0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    this.interim[2] = byte3;\n                    return size;\n                }\n                byte4 = input[i++];\n                if ((byte4 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x07) << 18 | (byte2 & 0x3F) << 12 | (byte3 & 0x3F) << 6 | (byte4 & 0x3F);\n                if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else {\n            }\n        }\n        return size;\n    };\n    return Utf8ToUtf32;\n}());\nexports.Utf8ToUtf32 = Utf8ToUtf32;\n\n},{}],53:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../common/data/EscapeSequences\");\nvar AltClickHandler = (function () {\n    function AltClickHandler(_mouseEvent, _terminal) {\n        var _a;\n        this._mouseEvent = _mouseEvent;\n        this._terminal = _terminal;\n        this._lines = this._terminal.buffer.lines;\n        this._startCol = this._terminal.buffer.x;\n        this._startRow = this._terminal.buffer.y;\n        var coordinates = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, false);\n        if (coordinates) {\n            _a = coordinates.map(function (coordinate) {\n                return coordinate - 1;\n            }), this._endCol = _a[0], this._endRow = _a[1];\n        }\n    }\n    AltClickHandler.prototype.move = function () {\n        if (this._mouseEvent.altKey && this._endCol !== undefined && this._endRow !== undefined) {\n            this._terminal.handler(this._arrowSequences());\n        }\n    };\n    AltClickHandler.prototype._arrowSequences = function () {\n        if (!this._terminal.buffer.hasScrollback) {\n            return this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n        }\n        return this._moveHorizontallyOnly();\n    };\n    AltClickHandler.prototype._resetStartingRow = function () {\n        if (this._moveToRequestedRow().length === 0) {\n            return '';\n        }\n        return repeat(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), false).length, this._sequence(\"D\"));\n    };\n    AltClickHandler.prototype._moveToRequestedRow = function () {\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        var rowsToMove = Math.abs(startRow - endRow) - this._wrappedRowsCount();\n        return repeat(rowsToMove, this._sequence(this._verticalDirection()));\n    };\n    AltClickHandler.prototype._moveToRequestedCol = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        var endRow = this._endRow;\n        var direction = this._horizontalDirection();\n        return repeat(this._bufferLine(this._startCol, startRow, this._endCol, endRow, direction === \"C\").length, this._sequence(direction));\n    };\n    AltClickHandler.prototype._moveHorizontallyOnly = function () {\n        var direction = this._horizontalDirection();\n        return repeat(Math.abs(this._startCol - this._endCol), this._sequence(direction));\n    };\n    AltClickHandler.prototype._wrappedRowsCount = function () {\n        var wrappedRows = 0;\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        for (var i = 0; i < Math.abs(startRow - endRow); i++) {\n            var direction = this._verticalDirection() === \"A\" ? -1 : 1;\n            if (this._lines.get(startRow + (direction * i)).isWrapped) {\n                wrappedRows++;\n            }\n        }\n        return wrappedRows;\n    };\n    AltClickHandler.prototype._wrappedRowsForRow = function (currentRow) {\n        var rowCount = 0;\n        var lineWraps = this._lines.get(currentRow).isWrapped;\n        while (lineWraps && currentRow >= 0 && currentRow < this._terminal.rows) {\n            rowCount++;\n            currentRow--;\n            lineWraps = this._lines.get(currentRow).isWrapped;\n        }\n        return rowCount;\n    };\n    AltClickHandler.prototype._horizontalDirection = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        if ((this._startCol < this._endCol &&\n            startRow <= this._endRow) ||\n            (this._startCol >= this._endCol &&\n                startRow < this._endRow)) {\n            return \"C\";\n        }\n        return \"D\";\n    };\n    AltClickHandler.prototype._verticalDirection = function () {\n        if (this._startRow > this._endRow) {\n            return \"A\";\n        }\n        return \"B\";\n    };\n    AltClickHandler.prototype._bufferLine = function (startCol, startRow, endCol, endRow, forward) {\n        var currentCol = startCol;\n        var currentRow = startRow;\n        var bufferStr = '';\n        while (currentCol !== endCol || currentRow !== endRow) {\n            currentCol += forward ? 1 : -1;\n            if (forward && currentCol > this._terminal.cols - 1) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n                currentCol = 0;\n                startCol = 0;\n                currentRow++;\n            }\n            else if (!forward && currentCol < 0) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, 0, startCol + 1);\n                currentCol = this._terminal.cols - 1;\n                startCol = currentCol;\n                currentRow--;\n            }\n        }\n        return bufferStr + this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n    };\n    AltClickHandler.prototype._sequence = function (direction) {\n        var mod = this._terminal.applicationCursor ? 'O' : '[';\n        return EscapeSequences_1.C0.ESC + mod + direction;\n    };\n    return AltClickHandler;\n}());\nexports.AltClickHandler = AltClickHandler;\nfunction repeat(count, str) {\n    count = Math.floor(count);\n    var rpt = '';\n    for (var i = 0; i < count; i++) {\n        rpt += str;\n    }\n    return rpt;\n}\n\n},{\"../common/data/EscapeSequences\":46}],54:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AddonManager = (function () {\n    function AddonManager() {\n        this._addons = [];\n    }\n    AddonManager.prototype.dispose = function () {\n        for (var i = this._addons.length - 1; i >= 0; i--) {\n            this._addons[i].instance.dispose();\n        }\n    };\n    AddonManager.prototype.loadAddon = function (terminal, instance) {\n        var _this = this;\n        var loadedAddon = {\n            instance: instance,\n            dispose: instance.dispose,\n            isDisposed: false\n        };\n        this._addons.push(loadedAddon);\n        instance.dispose = function () { return _this._wrappedAddonDispose(loadedAddon); };\n        instance.activate(terminal);\n    };\n    AddonManager.prototype._wrappedAddonDispose = function (loadedAddon) {\n        if (loadedAddon.isDisposed) {\n            return;\n        }\n        var index = -1;\n        for (var i = 0; i < this._addons.length; i++) {\n            if (this._addons[i] === loadedAddon) {\n                index = i;\n                break;\n            }\n        }\n        if (index === -1) {\n            throw new Error('Could not dispose an addon that has not been loaded');\n        }\n        loadedAddon.isDisposed = true;\n        loadedAddon.dispose.apply(loadedAddon.instance);\n        this._addons.splice(index, 1);\n    };\n    return AddonManager;\n}());\nexports.AddonManager = AddonManager;\n\n},{}],55:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Terminal_1 = require(\"../Terminal\");\nvar Strings = require(\"../Strings\");\nvar AddonManager_1 = require(\"./AddonManager\");\nvar Terminal = (function () {\n    function Terminal(options) {\n        this._core = new Terminal_1.Terminal(options);\n        this._addonManager = new AddonManager_1.AddonManager();\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._core.onCursorMove; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._core.onLineFeed; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._core.onSelectionChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._core.onData; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._core.onTitleChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._core.onScroll; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._core.onKey; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._core.onRender; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._core.onResize; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"element\", {\n        get: function () { return this._core.element; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"textarea\", {\n        get: function () { return this._core.textarea; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"rows\", {\n        get: function () { return this._core.rows; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"cols\", {\n        get: function () { return this._core.cols; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () { return new BufferApiView(this._core.buffer); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () { return this._core.markers; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.blur = function () {\n        this._core.blur();\n    };\n    Terminal.prototype.focus = function () {\n        this._core.focus();\n    };\n    Terminal.prototype.on = function (type, listener) {\n        this._core.on(type, listener);\n    };\n    Terminal.prototype.off = function (type, listener) {\n        this._core.off(type, listener);\n    };\n    Terminal.prototype.emit = function (type, data) {\n        this._core.emit(type, data);\n    };\n    Terminal.prototype.addDisposableListener = function (type, handler) {\n        return this._core.addDisposableListener(type, handler);\n    };\n    Terminal.prototype.resize = function (columns, rows) {\n        this._core.resize(columns, rows);\n    };\n    Terminal.prototype.writeln = function (data) {\n        this._core.writeln(data);\n    };\n    Terminal.prototype.open = function (parent) {\n        this._core.open(parent);\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._core.attachCustomKeyEventHandler(customKeyEventHandler);\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._core.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._core.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        return this._core.registerLinkMatcher(regex, handler, options);\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        this._core.deregisterLinkMatcher(matcherId);\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        return this._core.registerCharacterJoiner(handler);\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        this._core.deregisterCharacterJoiner(joinerId);\n    };\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        return this._core.addMarker(cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this._core.select(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this._core.getSelection();\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        return this._core.getSelectionPosition();\n    };\n    Terminal.prototype.clearSelection = function () {\n        this._core.clearSelection();\n    };\n    Terminal.prototype.selectAll = function () {\n        this._core.selectAll();\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        this._core.selectLines(start, end);\n    };\n    Terminal.prototype.dispose = function () {\n        this._addonManager.dispose();\n        this._core.dispose();\n    };\n    Terminal.prototype.destroy = function () {\n        this._core.destroy();\n    };\n    Terminal.prototype.scrollLines = function (amount) {\n        this._core.scrollLines(amount);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this._core.scrollPages(pageCount);\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        this._core.scrollToLine(line);\n    };\n    Terminal.prototype.clear = function () {\n        this._core.clear();\n    };\n    Terminal.prototype.write = function (data) {\n        this._core.write(data);\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        this._core.writeUtf8(data);\n    };\n    Terminal.prototype.getOption = function (key) {\n        return this._core.getOption(key);\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        this._core.setOption(key, value);\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        this._core.refresh(start, end);\n    };\n    Terminal.prototype.reset = function () {\n        this._core.reset();\n    };\n    Terminal.applyAddon = function (addon) {\n        addon.apply(Terminal);\n    };\n    Terminal.prototype.loadAddon = function (addon) {\n        return this._addonManager.loadAddon(this, addon);\n    };\n    Object.defineProperty(Terminal, \"strings\", {\n        get: function () {\n            return Strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Terminal;\n}());\nexports.Terminal = Terminal;\nvar BufferApiView = (function () {\n    function BufferApiView(_buffer) {\n        this._buffer = _buffer;\n    }\n    Object.defineProperty(BufferApiView.prototype, \"cursorY\", {\n        get: function () { return this._buffer.y; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"cursorX\", {\n        get: function () { return this._buffer.x; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"viewportY\", {\n        get: function () { return this._buffer.ydisp; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"baseY\", {\n        get: function () { return this._buffer.ybase; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"length\", {\n        get: function () { return this._buffer.lines.length; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferApiView.prototype.getLine = function (y) {\n        var line = this._buffer.lines.get(y);\n        if (!line) {\n            return undefined;\n        }\n        return new BufferLineApiView(line);\n    };\n    return BufferApiView;\n}());\nvar BufferLineApiView = (function () {\n    function BufferLineApiView(_line) {\n        this._line = _line;\n    }\n    Object.defineProperty(BufferLineApiView.prototype, \"isWrapped\", {\n        get: function () { return this._line.isWrapped; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferLineApiView.prototype.getCell = function (x) {\n        if (x < 0 || x >= this._line.length) {\n            return undefined;\n        }\n        return new BufferCellApiView(this._line, x);\n    };\n    BufferLineApiView.prototype.translateToString = function (trimRight, startColumn, endColumn) {\n        return this._line.translateToString(trimRight, startColumn, endColumn);\n    };\n    return BufferLineApiView;\n}());\nvar BufferCellApiView = (function () {\n    function BufferCellApiView(_line, _x) {\n        this._line = _line;\n        this._x = _x;\n    }\n    Object.defineProperty(BufferCellApiView.prototype, \"char\", {\n        get: function () { return this._line.getString(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferCellApiView.prototype, \"width\", {\n        get: function () { return this._line.getWidth(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    return BufferCellApiView;\n}());\n\n},{\"../Strings\":33,\"../Terminal\":34,\"./AddonManager\":54}],56:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../common/Types\");\nvar Types_2 = require(\"./atlas/Types\");\nvar CharAtlasCache_1 = require(\"./atlas/CharAtlasCache\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar BaseRenderLayer = (function () {\n    function BaseRenderLayer(_container, id, zIndex, _alpha, _colors) {\n        this._container = _container;\n        this._alpha = _alpha;\n        this._colors = _colors;\n        this._scaledCharWidth = 0;\n        this._scaledCharHeight = 0;\n        this._scaledCellWidth = 0;\n        this._scaledCellHeight = 0;\n        this._scaledCharLeft = 0;\n        this._scaledCharTop = 0;\n        this._currentGlyphIdentifier = {\n            chars: '',\n            code: 0,\n            bg: 0,\n            fg: 0,\n            bold: false,\n            dim: false,\n            italic: false\n        };\n        this._canvas = document.createElement('canvas');\n        this._canvas.classList.add(\"xterm-\" + id + \"-layer\");\n        this._canvas.style.zIndex = zIndex.toString();\n        this._initCanvas();\n        this._container.appendChild(this._canvas);\n    }\n    BaseRenderLayer.prototype.dispose = function () {\n        this._container.removeChild(this._canvas);\n        if (this._charAtlas) {\n            this._charAtlas.dispose();\n        }\n    };\n    BaseRenderLayer.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext('2d', { alpha: this._alpha });\n        if (!this._alpha) {\n            this.clearAll();\n        }\n    };\n    BaseRenderLayer.prototype.onOptionsChanged = function (terminal) { };\n    BaseRenderLayer.prototype.onBlur = function (terminal) { };\n    BaseRenderLayer.prototype.onFocus = function (terminal) { };\n    BaseRenderLayer.prototype.onCursorMove = function (terminal) { };\n    BaseRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) { };\n    BaseRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n    };\n    BaseRenderLayer.prototype.setColors = function (terminal, colorSet) {\n        this._refreshCharAtlas(terminal, colorSet);\n    };\n    BaseRenderLayer.prototype.setTransparency = function (terminal, alpha) {\n        if (alpha === this._alpha) {\n            return;\n        }\n        var oldCanvas = this._canvas;\n        this._alpha = alpha;\n        this._canvas = this._canvas.cloneNode();\n        this._initCanvas();\n        this._container.replaceChild(this._canvas, oldCanvas);\n        this._refreshCharAtlas(terminal, this._colors);\n        this.onGridChanged(terminal, 0, terminal.rows - 1);\n    };\n    BaseRenderLayer.prototype._refreshCharAtlas = function (terminal, colorSet) {\n        if (this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0) {\n            return;\n        }\n        this._charAtlas = CharAtlasCache_1.acquireCharAtlas(terminal, colorSet, this._scaledCharWidth, this._scaledCharHeight);\n        this._charAtlas.warmUp();\n    };\n    BaseRenderLayer.prototype.resize = function (terminal, dim) {\n        this._scaledCellWidth = dim.scaledCellWidth;\n        this._scaledCellHeight = dim.scaledCellHeight;\n        this._scaledCharWidth = dim.scaledCharWidth;\n        this._scaledCharHeight = dim.scaledCharHeight;\n        this._scaledCharLeft = dim.scaledCharLeft;\n        this._scaledCharTop = dim.scaledCharTop;\n        this._canvas.width = dim.scaledCanvasWidth;\n        this._canvas.height = dim.scaledCanvasHeight;\n        this._canvas.style.width = dim.canvasWidth + \"px\";\n        this._canvas.style.height = dim.canvasHeight + \"px\";\n        if (!this._alpha) {\n            this.clearAll();\n        }\n        this._refreshCharAtlas(terminal, this._colors);\n    };\n    BaseRenderLayer.prototype.fillCells = function (x, y, width, height) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.fillBottomLineAtCells = function (x, y, width) {\n        if (width === void 0) { width = 1; }\n        this._ctx.fillRect(x * this._scaledCellWidth, (y + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, width * this._scaledCellWidth, window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.fillLeftLineAtCell = function (x, y) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.strokeRectAtCell = function (x, y, width, height) {\n        this._ctx.lineWidth = window.devicePixelRatio;\n        this._ctx.strokeRect(x * this._scaledCellWidth + window.devicePixelRatio / 2, y * this._scaledCellHeight + (window.devicePixelRatio / 2), width * this._scaledCellWidth - window.devicePixelRatio, (height * this._scaledCellHeight) - window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.clearAll = function () {\n        if (this._alpha) {\n            this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n    };\n    BaseRenderLayer.prototype.clearCells = function (x, y, width, height) {\n        if (this._alpha) {\n            this._ctx.clearRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n    };\n    BaseRenderLayer.prototype.fillCharTrueColor = function (terminal, cell, x, y) {\n        this._ctx.font = this._getFont(terminal, false, false);\n        this._ctx.textBaseline = 'middle';\n        this._clipRow(terminal, y);\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n    };\n    BaseRenderLayer.prototype.drawChars = function (terminal, cell, x, y) {\n        if (cell.isFgRGB() || cell.isBgRGB()) {\n            this._drawUncachedChars(terminal, cell, x, y);\n            return;\n        }\n        var fg;\n        var bg;\n        if (cell.isInverse()) {\n            fg = (cell.isBgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getBgColor();\n            bg = (cell.isFgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getFgColor();\n        }\n        else {\n            bg = (cell.isBgDefault()) ? Types_1.DEFAULT_COLOR : cell.getBgColor();\n            fg = (cell.isFgDefault()) ? Types_1.DEFAULT_COLOR : cell.getFgColor();\n        }\n        var drawInBrightColor = terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8 && fg !== Types_2.INVERTED_DEFAULT_COLOR;\n        fg += drawInBrightColor ? 8 : 0;\n        this._currentGlyphIdentifier.chars = cell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n        this._currentGlyphIdentifier.code = cell.getCode() || BufferLine_1.WHITESPACE_CELL_CODE;\n        this._currentGlyphIdentifier.bg = bg;\n        this._currentGlyphIdentifier.fg = fg;\n        this._currentGlyphIdentifier.bold = cell.isBold() && terminal.options.enableBold;\n        this._currentGlyphIdentifier.dim = !!cell.isDim();\n        this._currentGlyphIdentifier.italic = !!cell.isItalic();\n        var atlasDidDraw = this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        if (!atlasDidDraw) {\n            this._drawUncachedChars(terminal, cell, x, y);\n        }\n    };\n    BaseRenderLayer.prototype._drawUncachedChars = function (terminal, cell, x, y) {\n        this._ctx.save();\n        this._ctx.font = this._getFont(terminal, cell.isBold() && terminal.options.enableBold, !!cell.isItalic());\n        this._ctx.textBaseline = 'middle';\n        if (cell.isInverse()) {\n            if (cell.isBgDefault()) {\n                this._ctx.fillStyle = this._colors.background.css;\n            }\n            else if (cell.isBgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else {\n                this._ctx.fillStyle = this._colors.ansi[cell.getBgColor()].css;\n            }\n        }\n        else {\n            if (cell.isFgDefault()) {\n                this._ctx.fillStyle = this._colors.foreground.css;\n            }\n            else if (cell.isFgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n            }\n            else {\n                var fg = cell.getFgColor();\n                if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                    fg += 8;\n                }\n                this._ctx.fillStyle = this._colors.ansi[fg].css;\n            }\n        }\n        this._clipRow(terminal, y);\n        if (cell.isDim()) {\n            this._ctx.globalAlpha = Types_2.DIM_OPACITY;\n        }\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n        this._ctx.restore();\n    };\n    BaseRenderLayer.prototype._clipRow = function (terminal, y) {\n        this._ctx.beginPath();\n        this._ctx.rect(0, y * this._scaledCellHeight, terminal.cols * this._scaledCellWidth, this._scaledCellHeight);\n        this._ctx.clip();\n    };\n    BaseRenderLayer.prototype._getFont = function (terminal, isBold, isItalic) {\n        var fontWeight = isBold ? terminal.options.fontWeightBold : terminal.options.fontWeight;\n        var fontStyle = isItalic ? 'italic' : '';\n        return fontStyle + \" \" + fontWeight + \" \" + terminal.options.fontSize * window.devicePixelRatio + \"px \" + terminal.options.fontFamily;\n    };\n    return BaseRenderLayer;\n}());\nexports.BaseRenderLayer = BaseRenderLayer;\n\n},{\"../common/Types\":45,\"../core/buffer/BufferLine\":47,\"./atlas/CharAtlasCache\":66,\"./atlas/Types\":73}],57:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar JoinedCellData = (function (_super) {\n    __extends(JoinedCellData, _super);\n    function JoinedCellData(firstCell, chars, width) {\n        var _this = _super.call(this) || this;\n        _this.content = 0;\n        _this.combinedData = '';\n        _this.fg = firstCell.fg;\n        _this.bg = firstCell.bg;\n        _this.combinedData = chars;\n        _this._width = width;\n        return _this;\n    }\n    JoinedCellData.prototype.isCombined = function () {\n        return 2097152;\n    };\n    JoinedCellData.prototype.getWidth = function () {\n        return this._width;\n    };\n    JoinedCellData.prototype.getChars = function () {\n        return this.combinedData;\n    };\n    JoinedCellData.prototype.getCode = function () {\n        return 0x1FFFFF;\n    };\n    JoinedCellData.prototype.setFromCharData = function (value) {\n        throw new Error('not implemented');\n    };\n    JoinedCellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return JoinedCellData;\n}(BufferLine_1.AttributeData));\nexports.JoinedCellData = JoinedCellData;\nvar CharacterJoinerRegistry = (function () {\n    function CharacterJoinerRegistry(_terminal) {\n        this._terminal = _terminal;\n        this._characterJoiners = [];\n        this._nextCharacterJoinerId = 0;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    CharacterJoinerRegistry.prototype.registerCharacterJoiner = function (handler) {\n        var joiner = {\n            id: this._nextCharacterJoinerId++,\n            handler: handler\n        };\n        this._characterJoiners.push(joiner);\n        return joiner.id;\n    };\n    CharacterJoinerRegistry.prototype.deregisterCharacterJoiner = function (joinerId) {\n        for (var i = 0; i < this._characterJoiners.length; i++) {\n            if (this._characterJoiners[i].id === joinerId) {\n                this._characterJoiners.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    CharacterJoinerRegistry.prototype.getJoinedCharacters = function (row) {\n        if (this._characterJoiners.length === 0) {\n            return [];\n        }\n        var line = this._terminal.buffer.lines.get(row);\n        if (line.length === 0) {\n            return [];\n        }\n        var ranges = [];\n        var lineStr = line.translateToString(true);\n        var rangeStartColumn = 0;\n        var currentStringIndex = 0;\n        var rangeStartStringIndex = 0;\n        var rangeAttrFG = line.getFg(0);\n        var rangeAttrBG = line.getBg(0);\n        for (var x = 0; x < line.getTrimmedLength(); x++) {\n            line.loadCell(x, this._workCell);\n            if (this._workCell.getWidth() === 0) {\n                continue;\n            }\n            if (this._workCell.fg !== rangeAttrFG || this._workCell.bg !== rangeAttrBG) {\n                if (x - rangeStartColumn > 1) {\n                    var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n                    for (var i = 0; i < joinedRanges.length; i++) {\n                        ranges.push(joinedRanges[i]);\n                    }\n                }\n                rangeStartColumn = x;\n                rangeStartStringIndex = currentStringIndex;\n                rangeAttrFG = this._workCell.fg;\n                rangeAttrBG = this._workCell.bg;\n            }\n            currentStringIndex += this._workCell.getChars().length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n        }\n        if (this._terminal.cols - rangeStartColumn > 1) {\n            var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n            for (var i = 0; i < joinedRanges.length; i++) {\n                ranges.push(joinedRanges[i]);\n            }\n        }\n        return ranges;\n    };\n    CharacterJoinerRegistry.prototype._getJoinedRanges = function (line, startIndex, endIndex, lineData, startCol) {\n        var text = line.substring(startIndex, endIndex);\n        var joinedRanges = this._characterJoiners[0].handler(text);\n        for (var i = 1; i < this._characterJoiners.length; i++) {\n            var joinerRanges = this._characterJoiners[i].handler(text);\n            for (var j = 0; j < joinerRanges.length; j++) {\n                CharacterJoinerRegistry._mergeRanges(joinedRanges, joinerRanges[j]);\n            }\n        }\n        this._stringRangesToCellRanges(joinedRanges, lineData, startCol);\n        return joinedRanges;\n    };\n    CharacterJoinerRegistry.prototype._stringRangesToCellRanges = function (ranges, line, startCol) {\n        var currentRangeIndex = 0;\n        var currentRangeStarted = false;\n        var currentStringIndex = 0;\n        var currentRange = ranges[currentRangeIndex];\n        if (!currentRange) {\n            return;\n        }\n        for (var x = startCol; x < this._terminal.cols; x++) {\n            var width = line.getWidth(x);\n            var length_1 = line.getString(x).length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n            if (width === 0) {\n                continue;\n            }\n            if (!currentRangeStarted && currentRange[0] <= currentStringIndex) {\n                currentRange[0] = x;\n                currentRangeStarted = true;\n            }\n            if (currentRange[1] <= currentStringIndex) {\n                currentRange[1] = x;\n                currentRange = ranges[++currentRangeIndex];\n                if (!currentRange) {\n                    break;\n                }\n                if (currentRange[0] <= currentStringIndex) {\n                    currentRange[0] = x;\n                    currentRangeStarted = true;\n                }\n                else {\n                    currentRangeStarted = false;\n                }\n            }\n            currentStringIndex += length_1;\n        }\n        if (currentRange) {\n            currentRange[1] = this._terminal.cols;\n        }\n    };\n    CharacterJoinerRegistry._mergeRanges = function (ranges, newRange) {\n        var inRange = false;\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (!inRange) {\n                if (newRange[1] <= range[0]) {\n                    ranges.splice(i, 0, newRange);\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    return ranges;\n                }\n                if (newRange[0] < range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    inRange = true;\n                }\n                continue;\n            }\n            else {\n                if (newRange[1] <= range[0]) {\n                    ranges[i - 1][1] = newRange[1];\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    ranges[i - 1][1] = Math.max(newRange[1], range[1]);\n                    ranges.splice(i, 1);\n                    inRange = false;\n                    return ranges;\n                }\n                ranges.splice(i, 1);\n                i--;\n            }\n        }\n        if (inRange) {\n            ranges[ranges.length - 1][1] = newRange[1];\n        }\n        else {\n            ranges.push(newRange);\n        }\n        return ranges;\n    };\n    return CharacterJoinerRegistry;\n}());\nexports.CharacterJoinerRegistry = CharacterJoinerRegistry;\n\n},{\"../core/buffer/BufferLine\":47}],58:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar BLINK_INTERVAL = 600;\nvar CursorRenderLayer = (function (_super) {\n    __extends(CursorRenderLayer, _super);\n    function CursorRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'cursor', zIndex, true, colors) || this;\n        _this._cell = new BufferLine_1.CellData();\n        _this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n        _this._cursorRenderers = {\n            'bar': _this._renderBarCursor.bind(_this),\n            'block': _this._renderBlockCursor.bind(_this),\n            'underline': _this._renderUnderlineCursor.bind(_this)\n        };\n        return _this;\n    }\n    CursorRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n    };\n    CursorRenderLayer.prototype.reset = function (terminal) {\n        this._clearCursor();\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.dispose();\n            this._cursorBlinkStateManager = null;\n            this.onOptionsChanged(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onBlur = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.pause();\n        }\n        terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n    };\n    CursorRenderLayer.prototype.onFocus = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.resume(terminal);\n        }\n        else {\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        var _this = this;\n        if (terminal.options.cursorBlink) {\n            if (!this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager = new CursorBlinkStateManager(terminal, function () {\n                    _this._render(terminal, true);\n                });\n            }\n        }\n        else {\n            if (this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager.dispose();\n                this._cursorBlinkStateManager = null;\n            }\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onCursorMove = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) {\n        if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused) {\n            this._render(terminal, false);\n        }\n        else {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype._render = function (terminal, triggeredByAnimationFrame) {\n        if (!terminal.cursorState || terminal.cursorHidden) {\n            this._clearCursor();\n            return;\n        }\n        var cursorY = terminal.buffer.ybase + terminal.buffer.y;\n        var viewportRelativeCursorY = cursorY - terminal.buffer.ydisp;\n        if (viewportRelativeCursorY < 0 || viewportRelativeCursorY >= terminal.rows) {\n            this._clearCursor();\n            return;\n        }\n        terminal.buffer.lines.get(cursorY).loadCell(terminal.buffer.x, this._cell);\n        if (this._cell.content === undefined) {\n            return;\n        }\n        if (!terminal.isFocused) {\n            this._clearCursor();\n            this._ctx.save();\n            this._ctx.fillStyle = this._colors.cursor.css;\n            this._renderBlurCursor(terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n            this._ctx.restore();\n            this._state.x = terminal.buffer.x;\n            this._state.y = viewportRelativeCursorY;\n            this._state.isFocused = false;\n            this._state.style = terminal.options.cursorStyle;\n            this._state.width = this._cell.getWidth();\n            return;\n        }\n        if (this._cursorBlinkStateManager && !this._cursorBlinkStateManager.isCursorVisible) {\n            this._clearCursor();\n            return;\n        }\n        if (this._state) {\n            if (this._state.x === terminal.buffer.x &&\n                this._state.y === viewportRelativeCursorY &&\n                this._state.isFocused === terminal.isFocused &&\n                this._state.style === terminal.options.cursorStyle &&\n                this._state.width === this._cell.getWidth()) {\n                return;\n            }\n            this._clearCursor();\n        }\n        this._ctx.save();\n        this._cursorRenderers[terminal.options.cursorStyle || 'block'](terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n        this._ctx.restore();\n        this._state.x = terminal.buffer.x;\n        this._state.y = viewportRelativeCursorY;\n        this._state.isFocused = false;\n        this._state.style = terminal.options.cursorStyle;\n        this._state.width = this._cell.getWidth();\n    };\n    CursorRenderLayer.prototype._clearCursor = function () {\n        if (this._state) {\n            this.clearCells(this._state.x, this._state.y, this._state.width, 1);\n            this._state = {\n                x: null,\n                y: null,\n                isFocused: null,\n                style: null,\n                width: null\n            };\n        }\n    };\n    CursorRenderLayer.prototype._renderBarCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillLeftLineAtCell(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlockCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillCells(x, y, cell.getWidth(), 1);\n        this._ctx.fillStyle = this._colors.cursorAccent.css;\n        this.fillCharTrueColor(terminal, cell, x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderUnderlineCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillBottomLineAtCells(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlurCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.strokeStyle = this._colors.cursor.css;\n        this.strokeRectAtCell(x, y, cell.getWidth(), 1);\n        this._ctx.restore();\n    };\n    return CursorRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.CursorRenderLayer = CursorRenderLayer;\nvar CursorBlinkStateManager = (function () {\n    function CursorBlinkStateManager(terminal, _renderCallback) {\n        this._renderCallback = _renderCallback;\n        this.isCursorVisible = true;\n        if (terminal.isFocused) {\n            this._restartInterval();\n        }\n    }\n    Object.defineProperty(CursorBlinkStateManager.prototype, \"isPaused\", {\n        get: function () { return !(this._blinkStartTimeout || this._blinkInterval); },\n        enumerable: true,\n        configurable: true\n    });\n    CursorBlinkStateManager.prototype.dispose = function () {\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.restartBlinkAnimation = function (terminal) {\n        var _this = this;\n        if (this.isPaused) {\n            return;\n        }\n        this._animationTimeRestarted = Date.now();\n        this.isCursorVisible = true;\n        if (!this._animationFrame) {\n            this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n        }\n    };\n    CursorBlinkStateManager.prototype._restartInterval = function (timeToStart) {\n        var _this = this;\n        if (timeToStart === void 0) { timeToStart = BLINK_INTERVAL; }\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n        }\n        this._blinkStartTimeout = setTimeout(function () {\n            if (_this._animationTimeRestarted) {\n                var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                _this._animationTimeRestarted = null;\n                if (time > 0) {\n                    _this._restartInterval(time);\n                    return;\n                }\n            }\n            _this.isCursorVisible = false;\n            _this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n            _this._blinkInterval = setInterval(function () {\n                if (_this._animationTimeRestarted) {\n                    var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                    _this._animationTimeRestarted = null;\n                    _this._restartInterval(time);\n                    return;\n                }\n                _this.isCursorVisible = !_this.isCursorVisible;\n                _this._animationFrame = window.requestAnimationFrame(function () {\n                    _this._renderCallback();\n                    _this._animationFrame = null;\n                });\n            }, BLINK_INTERVAL);\n        }, timeToStart);\n    };\n    CursorBlinkStateManager.prototype.pause = function () {\n        this.isCursorVisible = true;\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.resume = function (terminal) {\n        this._animationTimeRestarted = null;\n        this._restartInterval();\n        this.restartBlinkAnimation(terminal);\n    };\n    return CursorBlinkStateManager;\n}());\n\n},{\"../core/buffer/BufferLine\":47,\"./BaseRenderLayer\":56}],59:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache = (function () {\n    function GridCache() {\n        this.cache = [];\n    }\n    GridCache.prototype.resize = function (width, height) {\n        for (var x = 0; x < width; x++) {\n            if (this.cache.length <= x) {\n                this.cache.push([]);\n            }\n            for (var y = this.cache[x].length; y < height; y++) {\n                this.cache[x].push(null);\n            }\n            this.cache[x].length = height;\n        }\n        this.cache.length = width;\n    };\n    GridCache.prototype.clear = function () {\n        for (var x = 0; x < this.cache.length; x++) {\n            for (var y = 0; y < this.cache[x].length; y++) {\n                this.cache[x][y] = null;\n            }\n        }\n    };\n    return GridCache;\n}());\nexports.GridCache = GridCache;\n\n},{}],60:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar Types_1 = require(\"./atlas/Types\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar LinkRenderLayer = (function (_super) {\n    __extends(LinkRenderLayer, _super);\n    function LinkRenderLayer(container, zIndex, colors, terminal) {\n        var _this = _super.call(this, container, 'link', zIndex, true, colors) || this;\n        _this._state = null;\n        terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    LinkRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = null;\n    };\n    LinkRenderLayer.prototype.reset = function (terminal) {\n        this._clearCurrentLink();\n    };\n    LinkRenderLayer.prototype._clearCurrentLink = function () {\n        if (this._state) {\n            this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n            var middleRowCount = this._state.y2 - this._state.y1 - 1;\n            if (middleRowCount > 0) {\n                this.clearCells(0, this._state.y1 + 1, this._state.cols, middleRowCount);\n            }\n            this.clearCells(0, this._state.y2, this._state.x2, 1);\n            this._state = null;\n        }\n    };\n    LinkRenderLayer.prototype._onLinkHover = function (e) {\n        if (e.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(e.fg)) {\n            this._ctx.fillStyle = this._colors.ansi[e.fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        if (e.y1 === e.y2) {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);\n        }\n        else {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n            for (var y = e.y1 + 1; y < e.y2; y++) {\n                this.fillBottomLineAtCells(0, y, e.cols);\n            }\n            this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n    };\n    LinkRenderLayer.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n    };\n    return LinkRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.LinkRenderLayer = LinkRenderLayer;\n\n},{\"./BaseRenderLayer\":56,\"./atlas/CharAtlasUtils\":68,\"./atlas/Types\":73}],61:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer_1 = require(\"../ui/RenderDebouncer\");\nvar EventEmitter2_1 = require(\"../common/EventEmitter2\");\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor_1 = require(\"../ui/ScreenDprMonitor\");\nvar Lifecycle_2 = require(\"../ui/Lifecycle\");\nvar RenderCoordinator = (function (_super) {\n    __extends(RenderCoordinator, _super);\n    function RenderCoordinator(_renderer, _rowCount, screenElement) {\n        var _this = _super.call(this) || this;\n        _this._renderer = _renderer;\n        _this._rowCount = _rowCount;\n        _this._isPaused = false;\n        _this._needsFullRefresh = false;\n        _this._canvasWidth = 0;\n        _this._canvasHeight = 0;\n        _this._onDimensionsChange = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onRefreshRequest = new EventEmitter2_1.EventEmitter2();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(function (start, end) { return _this._renderRows(start, end); });\n        _this.register(_this._renderDebouncer);\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this._screenDprMonitor.setListener(function () { return _this._renderer.onDevicePixelRatioChange(); });\n        _this.register(_this._screenDprMonitor);\n        _this.register(Lifecycle_2.addDisposableDomListener(window, 'resize', function () { return _this._renderer.onDevicePixelRatioChange(); }));\n        if ('IntersectionObserver' in window) {\n            var observer_1 = new IntersectionObserver(function (e) { return _this._onIntersectionChange(e[e.length - 1]); }, { threshold: 0 });\n            observer_1.observe(screenElement);\n            _this.register({ dispose: function () { return observer_1.disconnect(); } });\n        }\n        return _this;\n    }\n    Object.defineProperty(RenderCoordinator.prototype, \"onDimensionsChange\", {\n        get: function () { return this._onDimensionsChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRefreshRequest\", {\n        get: function () { return this._onRefreshRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"dimensions\", {\n        get: function () { return this._renderer.dimensions; },\n        enumerable: true,\n        configurable: true\n    });\n    RenderCoordinator.prototype._onIntersectionChange = function (entry) {\n        this._isPaused = entry.intersectionRatio === 0;\n        if (!this._isPaused && this._needsFullRefresh) {\n            this.refreshRows(0, this._rowCount - 1);\n            this._needsFullRefresh = false;\n        }\n    };\n    RenderCoordinator.prototype.refreshRows = function (start, end) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n            return;\n        }\n        this._renderDebouncer.refresh(start, end, this._rowCount);\n    };\n    RenderCoordinator.prototype._renderRows = function (start, end) {\n        this._renderer.renderRows(start, end);\n        this._onRender.fire({ start: start, end: end });\n    };\n    RenderCoordinator.prototype.resize = function (cols, rows) {\n        this._rowCount = rows;\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype.changeOptions = function () {\n        this._renderer.onOptionsChanged();\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype._fireOnCanvasResize = function () {\n        if (this._renderer.dimensions.canvasWidth === this._canvasWidth && this._renderer.dimensions.canvasHeight === this._canvasHeight) {\n            return;\n        }\n        this._onDimensionsChange.fire(this._renderer.dimensions);\n    };\n    RenderCoordinator.prototype.setRenderer = function (renderer) {\n        this._renderer.dispose();\n        this._renderer = renderer;\n    };\n    RenderCoordinator.prototype._fullRefresh = function () {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this.refreshRows(0, this._rowCount);\n        }\n    };\n    RenderCoordinator.prototype.setColors = function (colors) {\n        this._renderer.setColors(colors);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onDevicePixelRatioChange = function () {\n        this._renderer.onDevicePixelRatioChange();\n    };\n    RenderCoordinator.prototype.onResize = function (cols, rows) {\n        this._renderer.onResize(cols, rows);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onCharSizeChanged = function () {\n        this._renderer.onCharSizeChanged();\n    };\n    RenderCoordinator.prototype.onBlur = function () {\n        this._renderer.onBlur();\n    };\n    RenderCoordinator.prototype.onFocus = function () {\n        this._renderer.onFocus();\n    };\n    RenderCoordinator.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        this._renderer.onSelectionChanged(start, end, columnSelectMode);\n    };\n    RenderCoordinator.prototype.onCursorMove = function () {\n        this._renderer.onCursorMove();\n    };\n    RenderCoordinator.prototype.onOptionsChanged = function () {\n        this._renderer.onOptionsChanged();\n    };\n    RenderCoordinator.prototype.clear = function () {\n        this._renderer.clear();\n    };\n    RenderCoordinator.prototype.registerCharacterJoiner = function (handler) {\n        return this._renderer.registerCharacterJoiner(handler);\n    };\n    RenderCoordinator.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._renderer.deregisterCharacterJoiner(joinerId);\n    };\n    return RenderCoordinator;\n}(Lifecycle_1.Disposable));\nexports.RenderCoordinator = RenderCoordinator;\n\n},{\"../common/EventEmitter2\":41,\"../common/Lifecycle\":42,\"../ui/Lifecycle\":77,\"../ui/RenderDebouncer\":78,\"../ui/ScreenDprMonitor\":79}],62:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextRenderLayer_1 = require(\"./TextRenderLayer\");\nvar SelectionRenderLayer_1 = require(\"./SelectionRenderLayer\");\nvar CursorRenderLayer_1 = require(\"./CursorRenderLayer\");\nvar LinkRenderLayer_1 = require(\"./LinkRenderLayer\");\nvar CharacterJoinerRegistry_1 = require(\"../renderer/CharacterJoinerRegistry\");\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar Renderer = (function (_super) {\n    __extends(Renderer, _super);\n    function Renderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this._characterJoinerRegistry = new CharacterJoinerRegistry_1.CharacterJoinerRegistry(_terminal);\n        _this._renderLayers = [\n            new TextRenderLayer_1.TextRenderLayer(_this._terminal.screenElement, 0, _this._colors, _this._characterJoinerRegistry, allowTransparency),\n            new SelectionRenderLayer_1.SelectionRenderLayer(_this._terminal.screenElement, 1, _this._colors),\n            new LinkRenderLayer_1.LinkRenderLayer(_this._terminal.screenElement, 2, _this._colors, _this._terminal),\n            new CursorRenderLayer_1.CursorRenderLayer(_this._terminal.screenElement, 3, _this._colors)\n        ];\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._devicePixelRatio = window.devicePixelRatio;\n        _this._updateDimensions();\n        _this.onOptionsChanged();\n        return _this;\n    }\n    Renderer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._renderLayers.forEach(function (l) { return l.dispose(); });\n    };\n    Renderer.prototype.onDevicePixelRatioChange = function () {\n        if (this._devicePixelRatio !== window.devicePixelRatio) {\n            this._devicePixelRatio = window.devicePixelRatio;\n            this.onResize(this._terminal.cols, this._terminal.rows);\n        }\n    };\n    Renderer.prototype.setColors = function (colors) {\n        var _this = this;\n        this._colors = colors;\n        this._renderLayers.forEach(function (l) {\n            l.setColors(_this._terminal, _this._colors);\n            l.reset(_this._terminal);\n        });\n    };\n    Renderer.prototype.onResize = function (cols, rows) {\n        var _this = this;\n        this._updateDimensions();\n        this._renderLayers.forEach(function (l) { return l.resize(_this._terminal, _this.dimensions); });\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    Renderer.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n    };\n    Renderer.prototype.onBlur = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onBlur(_this._terminal); });\n    };\n    Renderer.prototype.onFocus = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onFocus(_this._terminal); });\n    };\n    Renderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        var _this = this;\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n        this._runOperation(function (l) { return l.onSelectionChanged(_this._terminal, start, end, columnSelectMode); });\n    };\n    Renderer.prototype.onCursorMove = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onCursorMove(_this._terminal); });\n    };\n    Renderer.prototype.onOptionsChanged = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onOptionsChanged(_this._terminal); });\n    };\n    Renderer.prototype.clear = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.reset(_this._terminal); });\n    };\n    Renderer.prototype._runOperation = function (operation) {\n        this._renderLayers.forEach(function (l) { return operation(l); });\n    };\n    Renderer.prototype.renderRows = function (start, end) {\n        var _this = this;\n        this._renderLayers.forEach(function (l) { return l.onGridChanged(_this._terminal, start, end); });\n    };\n    Renderer.prototype._updateDimensions = function () {\n        if (!this._terminal.charMeasure.width || !this._terminal.charMeasure.height) {\n            return;\n        }\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharTop = this._terminal.options.lineHeight === 1 ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2);\n        this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight;\n        this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth;\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n    };\n    Renderer.prototype.registerCharacterJoiner = function (handler) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(handler);\n    };\n    Renderer.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(joinerId);\n    };\n    return Renderer;\n}(Lifecycle_1.Disposable));\nexports.Renderer = Renderer;\n\n},{\"../common/Lifecycle\":42,\"../renderer/CharacterJoinerRegistry\":57,\"./CursorRenderLayer\":58,\"./LinkRenderLayer\":60,\"./SelectionRenderLayer\":63,\"./TextRenderLayer\":64}],63:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar SelectionRenderLayer = (function (_super) {\n    __extends(SelectionRenderLayer, _super);\n    function SelectionRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'selection', zIndex, true, colors) || this;\n        _this._clearState();\n        return _this;\n    }\n    SelectionRenderLayer.prototype._clearState = function () {\n        this._state = {\n            start: null,\n            end: null,\n            columnSelectMode: null,\n            ydisp: null\n        };\n    };\n    SelectionRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._clearState();\n    };\n    SelectionRenderLayer.prototype.reset = function (terminal) {\n        if (this._state.start && this._state.end) {\n            this._clearState();\n            this.clearAll();\n        }\n    };\n    SelectionRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (!this._didStateChange(start, end, columnSelectMode, terminal.buffer.ydisp)) {\n            return;\n        }\n        this.clearAll();\n        if (!start || !end) {\n            this._clearState();\n            return;\n        }\n        var viewportStartRow = start[1] - terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, terminal.rows - 1);\n        if (viewportCappedStartRow >= terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        this._ctx.fillStyle = this._colors.selection.css;\n        if (columnSelectMode) {\n            var startCol = start[0];\n            var width = end[0] - startCol;\n            var height = viewportCappedEndRow - viewportCappedStartRow + 1;\n            this.fillCells(startCol, viewportCappedStartRow, width, height);\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var startRowEndCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : terminal.cols;\n            this.fillCells(startCol, viewportCappedStartRow, startRowEndCol - startCol, 1);\n            var middleRowsCount = Math.max(viewportCappedEndRow - viewportCappedStartRow - 1, 0);\n            this.fillCells(0, viewportCappedStartRow + 1, terminal.cols, middleRowsCount);\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol = viewportEndRow === viewportCappedEndRow ? end[0] : terminal.cols;\n                this.fillCells(0, viewportCappedEndRow, endCol, 1);\n            }\n        }\n        this._state.start = [start[0], start[1]];\n        this._state.end = [end[0], end[1]];\n        this._state.columnSelectMode = columnSelectMode;\n        this._state.ydisp = terminal.buffer.ydisp;\n    };\n    SelectionRenderLayer.prototype._didStateChange = function (start, end, columnSelectMode, ydisp) {\n        return !this._areCoordinatesEqual(start, this._state.start) ||\n            !this._areCoordinatesEqual(end, this._state.end) ||\n            columnSelectMode !== this._state.columnSelectMode ||\n            ydisp !== this._state.ydisp;\n    };\n    SelectionRenderLayer.prototype._areCoordinatesEqual = function (coord1, coord2) {\n        if (!coord1 || !coord2) {\n            return false;\n        }\n        return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n    };\n    return SelectionRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.SelectionRenderLayer = SelectionRenderLayer;\n\n},{\"./BaseRenderLayer\":56}],64:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache_1 = require(\"./GridCache\");\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar CharacterJoinerRegistry_1 = require(\"./CharacterJoinerRegistry\");\nvar TextRenderLayer = (function (_super) {\n    __extends(TextRenderLayer, _super);\n    function TextRenderLayer(container, zIndex, colors, characterJoinerRegistry, alpha) {\n        var _this = _super.call(this, container, 'text', zIndex, alpha, colors) || this;\n        _this._characterOverlapCache = {};\n        _this._workCell = new BufferLine_1.CellData();\n        _this._state = new GridCache_1.GridCache();\n        _this._characterJoinerRegistry = characterJoinerRegistry;\n        return _this;\n    }\n    TextRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        var terminalFont = this._getFont(terminal, false, false);\n        if (this._characterWidth !== dim.scaledCharWidth || this._characterFont !== terminalFont) {\n            this._characterWidth = dim.scaledCharWidth;\n            this._characterFont = terminalFont;\n            this._characterOverlapCache = {};\n        }\n        this._state.clear();\n        this._state.resize(terminal.cols, terminal.rows);\n    };\n    TextRenderLayer.prototype.reset = function (terminal) {\n        this._state.clear();\n        this.clearAll();\n    };\n    TextRenderLayer.prototype._forEachCell = function (terminal, firstRow, lastRow, joinerRegistry, callback) {\n        for (var y = firstRow; y <= lastRow; y++) {\n            var row = y + terminal.buffer.ydisp;\n            var line = terminal.buffer.lines.get(row);\n            var joinedRanges = joinerRegistry ? joinerRegistry.getJoinedCharacters(row) : [];\n            for (var x = 0; x < terminal.cols; x++) {\n                line.loadCell(x, this._workCell);\n                var cell = this._workCell;\n                var isJoined = false;\n                var lastCharX = x;\n                if (cell.getWidth() === 0) {\n                    continue;\n                }\n                if (joinedRanges.length > 0 && x === joinedRanges[0][0]) {\n                    isJoined = true;\n                    var range = joinedRanges.shift();\n                    cell = new CharacterJoinerRegistry_1.JoinedCellData(this._workCell, line.translateToString(true, range[0], range[1]), range[1] - range[0]);\n                    lastCharX = range[1] - 1;\n                }\n                if (!isJoined && this._isOverlapping(cell)) {\n                    if (lastCharX < line.length - 1 && line.getCodePoint(lastCharX + 1) === BufferLine_1.NULL_CELL_CODE) {\n                        cell.content &= ~12582912;\n                        cell.content |= 2 << 22;\n                    }\n                }\n                callback(cell, x, y);\n                x = lastCharX;\n            }\n        }\n    };\n    TextRenderLayer.prototype._drawBackground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        var ctx = this._ctx;\n        var cols = terminal.cols;\n        var startX = 0;\n        var startY = 0;\n        var prevFillStyle = null;\n        ctx.save();\n        this._forEachCell(terminal, firstRow, lastRow, null, function (cell, x, y) {\n            var nextFillStyle = null;\n            if (cell.isInverse()) {\n                if (cell.isFgDefault()) {\n                    nextFillStyle = _this._colors.foreground.css;\n                }\n                else if (cell.isFgRGB()) {\n                    nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                }\n                else {\n                    nextFillStyle = _this._colors.ansi[cell.getFgColor()].css;\n                }\n            }\n            else if (cell.isBgRGB()) {\n                nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else if (cell.isBgPalette()) {\n                nextFillStyle = _this._colors.ansi[cell.getBgColor()].css;\n            }\n            if (prevFillStyle === null) {\n                startX = x;\n                startY = y;\n            }\n            if (y !== startY) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, cols - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            else if (prevFillStyle !== nextFillStyle) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, x - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            prevFillStyle = nextFillStyle;\n        });\n        if (prevFillStyle !== null) {\n            ctx.fillStyle = prevFillStyle;\n            this.fillCells(startX, startY, cols - startX, 1);\n        }\n        ctx.restore();\n    };\n    TextRenderLayer.prototype._drawForeground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        this._forEachCell(terminal, firstRow, lastRow, this._characterJoinerRegistry, function (cell, x, y) {\n            if (cell.isInvisible()) {\n                return;\n            }\n            _this.drawChars(terminal, cell, x, y);\n            if (cell.isUnderline()) {\n                _this._ctx.save();\n                if (cell.isInverse()) {\n                    if (cell.isBgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.background.css;\n                    }\n                    else if (cell.isBgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n                    }\n                    else {\n                        _this._ctx.fillStyle = _this._colors.ansi[cell.getBgColor()].css;\n                    }\n                }\n                else {\n                    if (cell.isFgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.foreground.css;\n                    }\n                    else if (cell.isFgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                    }\n                    else {\n                        var fg = cell.getFgColor();\n                        if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                            fg += 8;\n                        }\n                        _this._ctx.fillStyle = _this._colors.ansi[fg].css;\n                    }\n                }\n                _this.fillBottomLineAtCells(x, y, cell.getWidth());\n                _this._ctx.restore();\n            }\n        });\n    };\n    TextRenderLayer.prototype.onGridChanged = function (terminal, firstRow, lastRow) {\n        if (this._state.cache.length === 0) {\n            return;\n        }\n        if (this._charAtlas) {\n            this._charAtlas.beginFrame();\n        }\n        this.clearCells(0, firstRow, terminal.cols, lastRow - firstRow + 1);\n        this._drawBackground(terminal, firstRow, lastRow);\n        this._drawForeground(terminal, firstRow, lastRow);\n    };\n    TextRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        this.setTransparency(terminal, terminal.options.allowTransparency);\n    };\n    TextRenderLayer.prototype._isOverlapping = function (cell) {\n        if (cell.getWidth() !== 1) {\n            return false;\n        }\n        if (cell.getCode() < 256) {\n            return false;\n        }\n        var chars = cell.getChars();\n        if (this._characterOverlapCache.hasOwnProperty(chars)) {\n            return this._characterOverlapCache[chars];\n        }\n        this._ctx.save();\n        this._ctx.font = this._characterFont;\n        var overlaps = Math.floor(this._ctx.measureText(chars).width) > this._characterWidth;\n        this._ctx.restore();\n        this._characterOverlapCache[chars] = overlaps;\n        return overlaps;\n    };\n    return TextRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.TextRenderLayer = TextRenderLayer;\n\n},{\"../core/buffer/BufferLine\":47,\"./BaseRenderLayer\":56,\"./CharacterJoinerRegistry\":57,\"./GridCache\":59}],65:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas = (function () {\n    function BaseCharAtlas() {\n        this._didWarmUp = false;\n    }\n    BaseCharAtlas.prototype.dispose = function () { };\n    BaseCharAtlas.prototype.warmUp = function () {\n        if (!this._didWarmUp) {\n            this._doWarmUp();\n            this._didWarmUp = true;\n        }\n    };\n    BaseCharAtlas.prototype._doWarmUp = function () { };\n    BaseCharAtlas.prototype.beginFrame = function () { };\n    return BaseCharAtlas;\n}());\nexports.default = BaseCharAtlas;\n\n},{}],66:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar DynamicCharAtlas_1 = require(\"./DynamicCharAtlas\");\nvar NoneCharAtlas_1 = require(\"./NoneCharAtlas\");\nvar StaticCharAtlas_1 = require(\"./StaticCharAtlas\");\nvar charAtlasImplementations = {\n    'none': NoneCharAtlas_1.default,\n    'static': StaticCharAtlas_1.default,\n    'dynamic': DynamicCharAtlas_1.default\n};\nvar charAtlasCache = [];\nfunction acquireCharAtlas(terminal, colors, scaledCharWidth, scaledCharHeight) {\n    var newConfig = CharAtlasUtils_1.generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors);\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        var ownedByIndex = entry.ownedBy.indexOf(terminal);\n        if (ownedByIndex >= 0) {\n            if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n                return entry.atlas;\n            }\n            if (entry.ownedBy.length === 1) {\n                entry.atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                entry.ownedBy.splice(ownedByIndex, 1);\n            }\n            break;\n        }\n    }\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n            entry.ownedBy.push(terminal);\n            return entry.atlas;\n        }\n    }\n    var newEntry = {\n        atlas: new charAtlasImplementations[terminal.options.experimentalCharAtlas](document, newConfig),\n        config: newConfig,\n        ownedBy: [terminal]\n    };\n    charAtlasCache.push(newEntry);\n    return newEntry.atlas;\n}\nexports.acquireCharAtlas = acquireCharAtlas;\nfunction removeTerminalFromCache(terminal) {\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var index = charAtlasCache[i].ownedBy.indexOf(terminal);\n        if (index !== -1) {\n            if (charAtlasCache[i].ownedBy.length === 1) {\n                charAtlasCache[i].atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                charAtlasCache[i].ownedBy.splice(index, 1);\n            }\n            break;\n        }\n    }\n}\nexports.removeTerminalFromCache = removeTerminalFromCache;\n\n},{\"./CharAtlasUtils\":68,\"./DynamicCharAtlas\":69,\"./NoneCharAtlas\":71,\"./StaticCharAtlas\":72}],67:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform_1 = require(\"../../common/Platform\");\nvar Types_1 = require(\"./Types\");\nfunction generateStaticCharAtlasTexture(context, canvasFactory, config) {\n    var cellWidth = config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var cellHeight = config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var canvas = canvasFactory(255 * cellWidth, (2 + 16 + 16) * cellHeight);\n    var ctx = canvas.getContext('2d', { alpha: config.allowTransparency });\n    ctx.fillStyle = config.colors.background.css;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.fillStyle = config.colors.foreground.css;\n    ctx.font = getFont(config.fontWeight, config);\n    ctx.textBaseline = 'middle';\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, 0, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight / 2);\n        ctx.restore();\n    }\n    ctx.save();\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, cellHeight, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight * 1.5);\n        ctx.restore();\n    }\n    ctx.restore();\n    ctx.font = getFont(config.fontWeight, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2 + 16) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.restore();\n    if (!('createImageBitmap' in context) || Platform_1.isFirefox || Platform_1.isSafari) {\n        return canvas;\n    }\n    var charAtlasImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    clearColor(charAtlasImageData, config.colors.background);\n    return context.createImageBitmap(charAtlasImageData);\n}\nexports.generateStaticCharAtlasTexture = generateStaticCharAtlasTexture;\nfunction clearColor(imageData, color) {\n    var isEmpty = true;\n    var r = color.rgba >>> 24;\n    var g = color.rgba >>> 16 & 0xFF;\n    var b = color.rgba >>> 8 & 0xFF;\n    for (var offset = 0; offset < imageData.data.length; offset += 4) {\n        if (imageData.data[offset] === r &&\n            imageData.data[offset + 1] === g &&\n            imageData.data[offset + 2] === b) {\n            imageData.data[offset + 3] = 0;\n        }\n        else {\n            isEmpty = false;\n        }\n    }\n    return isEmpty;\n}\nexports.clearColor = clearColor;\nfunction getFont(fontWeight, config) {\n    return fontWeight + \" \" + config.fontSize * config.devicePixelRatio + \"px \" + config.fontFamily;\n}\n\n},{\"../../common/Platform\":43,\"./Types\":73}],68:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../../common/Types\");\nfunction generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors) {\n    var clonedColors = {\n        foreground: colors.foreground,\n        background: colors.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: colors.ansi.slice(0, 16)\n    };\n    return {\n        type: terminal.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: scaledCharWidth,\n        scaledCharHeight: scaledCharHeight,\n        fontFamily: terminal.options.fontFamily,\n        fontSize: terminal.options.fontSize,\n        fontWeight: terminal.options.fontWeight,\n        fontWeightBold: terminal.options.fontWeightBold,\n        allowTransparency: terminal.options.allowTransparency,\n        colors: clonedColors\n    };\n}\nexports.generateConfig = generateConfig;\nfunction configEquals(a, b) {\n    for (var i = 0; i < a.colors.ansi.length; i++) {\n        if (a.colors.ansi[i].rgba !== b.colors.ansi[i].rgba) {\n            return false;\n        }\n    }\n    return a.type === b.type &&\n        a.devicePixelRatio === b.devicePixelRatio &&\n        a.fontFamily === b.fontFamily &&\n        a.fontSize === b.fontSize &&\n        a.fontWeight === b.fontWeight &&\n        a.fontWeightBold === b.fontWeightBold &&\n        a.allowTransparency === b.allowTransparency &&\n        a.scaledCharWidth === b.scaledCharWidth &&\n        a.scaledCharHeight === b.scaledCharHeight &&\n        a.colors.foreground === b.colors.foreground &&\n        a.colors.background === b.colors.background;\n}\nexports.configEquals = configEquals;\nfunction is256Color(colorCode) {\n    return colorCode < Types_1.DEFAULT_COLOR;\n}\nexports.is256Color = is256Color;\n\n},{\"../../common/Types\":45}],69:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar ColorManager_1 = require(\"../../ui/ColorManager\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar LRUMap_1 = require(\"./LRUMap\");\nvar Platform_1 = require(\"../../common/Platform\");\nvar TEXTURE_WIDTH = 1024;\nvar TEXTURE_HEIGHT = 1024;\nvar TRANSPARENT_COLOR = {\n    css: 'rgba(0, 0, 0, 0)',\n    rgba: 0\n};\nvar FRAME_CACHE_DRAW_LIMIT = 100;\nvar GLYPH_BITMAP_COMMIT_DELAY = 100;\nfunction getGlyphCacheKey(glyph) {\n    return glyph.code << 21 | glyph.bg << 12 | glyph.fg << 3 | (glyph.bold ? 0 : 4) + (glyph.dim ? 0 : 2) + (glyph.italic ? 0 : 1);\n}\nexports.getGlyphCacheKey = getGlyphCacheKey;\nvar DynamicCharAtlas = (function (_super) {\n    __extends(DynamicCharAtlas, _super);\n    function DynamicCharAtlas(document, _config) {\n        var _this = _super.call(this) || this;\n        _this._config = _config;\n        _this._drawToCacheCount = 0;\n        _this._glyphsWaitingOnBitmap = [];\n        _this._bitmapCommitTimeout = null;\n        _this._bitmap = null;\n        _this._cacheCanvas = document.createElement('canvas');\n        _this._cacheCanvas.width = TEXTURE_WIDTH;\n        _this._cacheCanvas.height = TEXTURE_HEIGHT;\n        _this._cacheCtx = _this._cacheCanvas.getContext('2d', { alpha: true });\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = _this._config.scaledCharWidth;\n        tmpCanvas.height = _this._config.scaledCharHeight;\n        _this._tmpCtx = tmpCanvas.getContext('2d', { alpha: _this._config.allowTransparency });\n        _this._width = Math.floor(TEXTURE_WIDTH / _this._config.scaledCharWidth);\n        _this._height = Math.floor(TEXTURE_HEIGHT / _this._config.scaledCharHeight);\n        var capacity = _this._width * _this._height;\n        _this._cacheMap = new LRUMap_1.default(capacity);\n        _this._cacheMap.prealloc(capacity);\n        return _this;\n    }\n    DynamicCharAtlas.prototype.dispose = function () {\n        if (this._bitmapCommitTimeout !== null) {\n            window.clearTimeout(this._bitmapCommitTimeout);\n            this._bitmapCommitTimeout = null;\n        }\n    };\n    DynamicCharAtlas.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n    };\n    DynamicCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (glyph.code === 32) {\n            return true;\n        }\n        if (!this._canCache(glyph)) {\n            return false;\n        }\n        var glyphKey = getGlyphCacheKey(glyph);\n        var cacheValue = this._cacheMap.get(glyphKey);\n        if (cacheValue !== null && cacheValue !== undefined) {\n            this._drawFromCache(ctx, cacheValue, x, y);\n            return true;\n        }\n        else if (this._drawToCacheCount < FRAME_CACHE_DRAW_LIMIT) {\n            var index = void 0;\n            if (this._cacheMap.size < this._cacheMap.capacity) {\n                index = this._cacheMap.size;\n            }\n            else {\n                index = this._cacheMap.peek().index;\n            }\n            var cacheValue_1 = this._drawToCache(glyph, index);\n            this._cacheMap.set(glyphKey, cacheValue_1);\n            this._drawFromCache(ctx, cacheValue_1, x, y);\n            return true;\n        }\n        return false;\n    };\n    DynamicCharAtlas.prototype._canCache = function (glyph) {\n        return glyph.code < 256;\n    };\n    DynamicCharAtlas.prototype._toCoordinateX = function (index) {\n        return (index % this._width) * this._config.scaledCharWidth;\n    };\n    DynamicCharAtlas.prototype._toCoordinateY = function (index) {\n        return Math.floor(index / this._width) * this._config.scaledCharHeight;\n    };\n    DynamicCharAtlas.prototype._drawFromCache = function (ctx, cacheValue, x, y) {\n        if (cacheValue.isEmpty) {\n            return;\n        }\n        var cacheX = this._toCoordinateX(cacheValue.index);\n        var cacheY = this._toCoordinateY(cacheValue.index);\n        ctx.drawImage(cacheValue.inBitmap ? this._bitmap : this._cacheCanvas, cacheX, cacheY, this._config.scaledCharWidth, this._config.scaledCharHeight, x, y, this._config.scaledCharWidth, this._config.scaledCharHeight);\n    };\n    DynamicCharAtlas.prototype._getColorFromAnsiIndex = function (idx) {\n        if (idx < this._config.colors.ansi.length) {\n            return this._config.colors.ansi[idx];\n        }\n        return ColorManager_1.DEFAULT_ANSI_COLORS[idx];\n    };\n    DynamicCharAtlas.prototype._getBackgroundColor = function (glyph) {\n        if (this._config.allowTransparency) {\n            return TRANSPARENT_COLOR;\n        }\n        else if (glyph.bg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.foreground;\n        }\n        else if (glyph.bg < 256) {\n            return this._getColorFromAnsiIndex(glyph.bg);\n        }\n        return this._config.colors.background;\n    };\n    DynamicCharAtlas.prototype._getForegroundColor = function (glyph) {\n        if (glyph.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.background;\n        }\n        else if (glyph.fg < 256) {\n            return this._getColorFromAnsiIndex(glyph.fg);\n        }\n        return this._config.colors.foreground;\n    };\n    DynamicCharAtlas.prototype._drawToCache = function (glyph, index) {\n        this._drawToCacheCount++;\n        this._tmpCtx.save();\n        var backgroundColor = this._getBackgroundColor(glyph);\n        this._tmpCtx.globalCompositeOperation = 'copy';\n        this._tmpCtx.fillStyle = backgroundColor.css;\n        this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        this._tmpCtx.globalCompositeOperation = 'source-over';\n        var fontWeight = glyph.bold ? this._config.fontWeightBold : this._config.fontWeight;\n        var fontStyle = glyph.italic ? 'italic' : '';\n        this._tmpCtx.font =\n            fontStyle + \" \" + fontWeight + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily;\n        this._tmpCtx.textBaseline = 'middle';\n        this._tmpCtx.fillStyle = this._getForegroundColor(glyph).css;\n        if (glyph.dim) {\n            this._tmpCtx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._tmpCtx.fillText(glyph.chars, 0, this._config.scaledCharHeight / 2);\n        this._tmpCtx.restore();\n        var imageData = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        var isEmpty = false;\n        if (!this._config.allowTransparency) {\n            isEmpty = CharAtlasGenerator_1.clearColor(imageData, backgroundColor);\n        }\n        var x = this._toCoordinateX(index);\n        var y = this._toCoordinateY(index);\n        this._cacheCtx.putImageData(imageData, x, y);\n        var cacheValue = {\n            index: index,\n            isEmpty: isEmpty,\n            inBitmap: false\n        };\n        this._addGlyphToBitmap(cacheValue);\n        return cacheValue;\n    };\n    DynamicCharAtlas.prototype._addGlyphToBitmap = function (cacheValue) {\n        var _this = this;\n        if (!('createImageBitmap' in window) || Platform_1.isFirefox || Platform_1.isSafari) {\n            return;\n        }\n        this._glyphsWaitingOnBitmap.push(cacheValue);\n        if (this._bitmapCommitTimeout !== null) {\n            return;\n        }\n        this._bitmapCommitTimeout = window.setTimeout(function () { return _this._generateBitmap(); }, GLYPH_BITMAP_COMMIT_DELAY);\n    };\n    DynamicCharAtlas.prototype._generateBitmap = function () {\n        var _this = this;\n        var glyphsMovingToBitmap = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [];\n        window.createImageBitmap(this._cacheCanvas).then(function (bitmap) {\n            _this._bitmap = bitmap;\n            for (var i = 0; i < glyphsMovingToBitmap.length; i++) {\n                var value = glyphsMovingToBitmap[i];\n                value.inBitmap = true;\n            }\n        });\n        this._bitmapCommitTimeout = null;\n    };\n    return DynamicCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = DynamicCharAtlas;\n\n},{\"../../common/Platform\":43,\"../../ui/ColorManager\":76,\"./BaseCharAtlas\":65,\"./CharAtlasGenerator\":67,\"./LRUMap\":70,\"./Types\":73}],70:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRUMap = (function () {\n    function LRUMap(capacity) {\n        this.capacity = capacity;\n        this._map = {};\n        this._head = null;\n        this._tail = null;\n        this._nodePool = [];\n        this.size = 0;\n    }\n    LRUMap.prototype._unlinkNode = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        if (node === this._head) {\n            this._head = next;\n        }\n        if (node === this._tail) {\n            this._tail = prev;\n        }\n        if (prev !== null) {\n            prev.next = next;\n        }\n        if (next !== null) {\n            next.prev = prev;\n        }\n    };\n    LRUMap.prototype._appendNode = function (node) {\n        var tail = this._tail;\n        if (tail !== null) {\n            tail.next = node;\n        }\n        node.prev = tail;\n        node.next = null;\n        this._tail = node;\n        if (this._head === null) {\n            this._head = node;\n        }\n    };\n    LRUMap.prototype.prealloc = function (count) {\n        var nodePool = this._nodePool;\n        for (var i = 0; i < count; i++) {\n            nodePool.push({\n                prev: null,\n                next: null,\n                key: null,\n                value: null\n            });\n        }\n    };\n    LRUMap.prototype.get = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            this._unlinkNode(node);\n            this._appendNode(node);\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peekValue = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peek = function () {\n        var head = this._head;\n        return head === null ? null : head.value;\n    };\n    LRUMap.prototype.set = function (key, value) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            node = this._map[key];\n            this._unlinkNode(node);\n            node.value = value;\n        }\n        else if (this.size >= this.capacity) {\n            node = this._head;\n            this._unlinkNode(node);\n            delete this._map[node.key];\n            node.key = key;\n            node.value = value;\n            this._map[key] = node;\n        }\n        else {\n            var nodePool = this._nodePool;\n            if (nodePool.length > 0) {\n                node = nodePool.pop();\n                node.key = key;\n                node.value = value;\n            }\n            else {\n                node = {\n                    prev: null,\n                    next: null,\n                    key: key,\n                    value: value\n                };\n            }\n            this._map[key] = node;\n            this.size++;\n        }\n        this._appendNode(node);\n    };\n    return LRUMap;\n}());\nexports.default = LRUMap;\n\n},{}],71:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar NoneCharAtlas = (function (_super) {\n    __extends(NoneCharAtlas, _super);\n    function NoneCharAtlas(document, config) {\n        return _super.call(this) || this;\n    }\n    NoneCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        return false;\n    };\n    return NoneCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = NoneCharAtlas;\n\n},{\"./BaseCharAtlas\":65}],72:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar Types_2 = require(\"../../common/Types\");\nvar StaticCharAtlas = (function (_super) {\n    __extends(StaticCharAtlas, _super);\n    function StaticCharAtlas(_document, _config) {\n        var _this = _super.call(this) || this;\n        _this._document = _document;\n        _this._config = _config;\n        _this._canvasFactory = function (width, height) {\n            var canvas = _this._document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        };\n        return _this;\n    }\n    StaticCharAtlas.prototype._doWarmUp = function () {\n        var _this = this;\n        var result = CharAtlasGenerator_1.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        if (result instanceof HTMLCanvasElement) {\n            this._texture = result;\n        }\n        else {\n            result.then(function (texture) {\n                _this._texture = texture;\n            });\n        }\n    };\n    StaticCharAtlas.prototype._isCached = function (glyph, colorIndex) {\n        var isAscii = glyph.code < 256;\n        var isBasicColor = glyph.fg < 16;\n        var isDefaultColor = glyph.fg === Types_2.DEFAULT_COLOR;\n        var isDefaultBackground = glyph.bg === Types_2.DEFAULT_COLOR;\n        return isAscii && (isBasicColor || isDefaultColor) && isDefaultBackground && !glyph.italic;\n    };\n    StaticCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (this._texture === null || this._texture === undefined) {\n            return false;\n        }\n        var colorIndex = 0;\n        if (CharAtlasUtils_1.is256Color(glyph.fg)) {\n            colorIndex = 2 + glyph.fg + (glyph.bold ? 16 : 0);\n        }\n        else if (glyph.fg === Types_2.DEFAULT_COLOR) {\n            if (glyph.bold) {\n                colorIndex = 1;\n            }\n        }\n        if (!this._isCached(glyph, colorIndex)) {\n            return false;\n        }\n        ctx.save();\n        var charAtlasCellWidth = this._config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n        var charAtlasCellHeight = this._config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n        if (glyph.dim) {\n            ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        ctx.drawImage(this._texture, glyph.code * charAtlasCellWidth, colorIndex * charAtlasCellHeight, charAtlasCellWidth, this._config.scaledCharHeight, x, y, charAtlasCellWidth, this._config.scaledCharHeight);\n        ctx.restore();\n        return true;\n    };\n    return StaticCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = StaticCharAtlas;\n\n},{\"../../common/Types\":45,\"./BaseCharAtlas\":65,\"./CharAtlasGenerator\":67,\"./CharAtlasUtils\":68,\"./Types\":73}],73:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.INVERTED_DEFAULT_COLOR = 257;\nexports.DIM_OPACITY = 0.5;\nexports.CHAR_ATLAS_CELL_SPACING = 1;\n\n},{}],74:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DomRendererRowFactory_1 = require(\"./DomRendererRowFactory\");\nvar Types_1 = require(\"../atlas/Types\");\nvar Lifecycle_1 = require(\"../../common/Lifecycle\");\nvar TERMINAL_CLASS_PREFIX = 'xterm-dom-renderer-owner-';\nvar ROW_CONTAINER_CLASS = 'xterm-rows';\nvar FG_CLASS_PREFIX = 'xterm-fg-';\nvar BG_CLASS_PREFIX = 'xterm-bg-';\nvar FOCUS_CLASS = 'xterm-focus';\nvar SELECTION_CLASS = 'xterm-selection';\nvar nextTerminalId = 1;\nvar DomRenderer = (function (_super) {\n    __extends(DomRenderer, _super);\n    function DomRenderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        _this._terminalClass = nextTerminalId++;\n        _this._rowElements = [];\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add(ROW_CONTAINER_CLASS);\n        _this._rowContainer.style.lineHeight = 'normal';\n        _this._rowContainer.setAttribute('aria-hidden', 'true');\n        _this._refreshRowElements(_this._terminal.cols, _this._terminal.rows);\n        _this._selectionContainer = document.createElement('div');\n        _this._selectionContainer.classList.add(SELECTION_CLASS);\n        _this._selectionContainer.setAttribute('aria-hidden', 'true');\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._updateDimensions();\n        _this._injectCss();\n        _this._rowFactory = new DomRendererRowFactory_1.DomRendererRowFactory(_terminal.options, document);\n        _this._terminal.element.classList.add(TERMINAL_CLASS_PREFIX + _this._terminalClass);\n        _this._terminal.screenElement.appendChild(_this._rowContainer);\n        _this._terminal.screenElement.appendChild(_this._selectionContainer);\n        _this._terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        _this._terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    DomRenderer.prototype.dispose = function () {\n        this._terminal.element.classList.remove(TERMINAL_CLASS_PREFIX + this._terminalClass);\n        this._terminal.screenElement.removeChild(this._rowContainer);\n        this._terminal.screenElement.removeChild(this._selectionContainer);\n        this._terminal.screenElement.removeChild(this._themeStyleElement);\n        this._terminal.screenElement.removeChild(this._dimensionsStyleElement);\n        _super.prototype.dispose.call(this);\n    };\n    DomRenderer.prototype._updateDimensions = function () {\n        var _this = this;\n        this.dimensions.scaledCharWidth = this._terminal.charMeasure.width * window.devicePixelRatio;\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharLeft = 0;\n        this.dimensions.scaledCharTop = 0;\n        this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols;\n        this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows;\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this._rowElements.forEach(function (element) {\n            element.style.width = _this.dimensions.canvasWidth + \"px\";\n            element.style.height = _this.dimensions.actualCellHeight + \"px\";\n            element.style.lineHeight = _this.dimensions.actualCellHeight + \"px\";\n            element.style.overflow = 'hidden';\n        });\n        if (!this._dimensionsStyleElement) {\n            this._dimensionsStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._dimensionsStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" span {\" +\n            \" display: inline-block;\" +\n            \" height: 100%;\" +\n            \" vertical-align: top;\" +\n            (\" width: \" + this.dimensions.actualCellWidth + \"px\") +\n            \"}\";\n        this._dimensionsStyleElement.innerHTML = styles;\n        this._selectionContainer.style.height = this._terminal._viewportElement.style.height;\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    DomRenderer.prototype.setColors = function (colors) {\n        this._colors = colors;\n        this._injectCss();\n    };\n    DomRenderer.prototype._injectCss = function () {\n        var _this = this;\n        if (!this._themeStyleElement) {\n            this._themeStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._themeStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" {\" +\n            (\" color: \" + this._colors.foreground.css + \";\") +\n            (\" background-color: \" + this._colors.background.css + \";\") +\n            (\" font-family: \" + this._terminal.options.fontFamily + \";\") +\n            (\" font-size: \" + this._terminal.options.fontSize + \"px;\") +\n            \"}\";\n        styles +=\n            this._terminalSelector + \" span:not(.\" + DomRendererRowFactory_1.BOLD_CLASS + \") {\" +\n                (\" font-weight: \" + this._terminal.options.fontWeight + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.BOLD_CLASS + \" {\") +\n                (\" font-weight: \" + this._terminal.options.fontWeightBold + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.ITALIC_CLASS + \" {\") +\n                \" font-style: italic;\" +\n                \"}\";\n        styles +=\n            \"@keyframes blink {\" +\n                \" 0% { opacity: 1.0; }\" +\n                \" 50% { opacity: 0.0; }\" +\n                \" 100% { opacity: 1.0; }\" +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \":not(.\" + FOCUS_CLASS + \") .\" + DomRendererRowFactory_1.CURSOR_CLASS + \" {\" +\n                (\" outline: 1px solid \" + this._colors.cursor.css + \";\") +\n                \" outline-offset: -1px;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_BLINK_CLASS + \" {\") +\n                \" animation: blink 1s step-end infinite;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BLOCK_CLASS + \" {\") +\n                (\" background-color: \" + this._colors.cursor.css + \";\") +\n                (\" color: \" + this._colors.cursorAccent.css + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BAR_CLASS + \" {\") +\n                (\" box-shadow: 1px 0 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_UNDERLINE_CLASS + \" {\") +\n                (\" box-shadow: 0 -1px 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + SELECTION_CLASS + \" {\" +\n                \" position: absolute;\" +\n                \" top: 0;\" +\n                \" left: 0;\" +\n                \" z-index: 1;\" +\n                \" pointer-events: none;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + SELECTION_CLASS + \" div {\") +\n                \" position: absolute;\" +\n                (\" background-color: \" + this._colors.selection.css + \";\") +\n                \"}\";\n        this._colors.ansi.forEach(function (c, i) {\n            styles +=\n                _this._terminalSelector + \" .\" + FG_CLASS_PREFIX + i + \" { color: \" + c.css + \"; }\" +\n                    (_this._terminalSelector + \" .\" + BG_CLASS_PREFIX + i + \" { background-color: \" + c.css + \"; }\");\n        });\n        styles +=\n            this._terminalSelector + \" .\" + FG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { color: \" + this._colors.background.css + \"; }\" +\n                (this._terminalSelector + \" .\" + BG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this._colors.foreground.css + \"; }\");\n        this._themeStyleElement.innerHTML = styles;\n    };\n    DomRenderer.prototype.onDevicePixelRatioChange = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype._refreshRowElements = function (cols, rows) {\n        for (var i = this._rowElements.length; i <= rows; i++) {\n            var row = document.createElement('div');\n            this._rowContainer.appendChild(row);\n            this._rowElements.push(row);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n    };\n    DomRenderer.prototype.onResize = function (cols, rows) {\n        this._refreshRowElements(cols, rows);\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onFocus = function () {\n        this._rowContainer.classList.add(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        while (this._selectionContainer.children.length) {\n            this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n        }\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - this._terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - this._terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, this._terminal.rows - 1);\n        if (viewportCappedStartRow >= this._terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        var documentFragment = document.createDocumentFragment();\n        if (columnSelectMode) {\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, start[0], end[0], viewportCappedEndRow - viewportCappedStartRow + 1));\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var endCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, startCol, endCol));\n            var middleRowsCount = viewportCappedEndRow - viewportCappedStartRow - 1;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow + 1, 0, this._terminal.cols, middleRowsCount));\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol_1 = viewportEndRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n                documentFragment.appendChild(this._createSelectionElement(viewportCappedEndRow, 0, endCol_1));\n            }\n        }\n        this._selectionContainer.appendChild(documentFragment);\n    };\n    DomRenderer.prototype._createSelectionElement = function (row, colStart, colEnd, rowCount) {\n        if (rowCount === void 0) { rowCount = 1; }\n        var element = document.createElement('div');\n        element.style.height = rowCount * this.dimensions.actualCellHeight + \"px\";\n        element.style.top = row * this.dimensions.actualCellHeight + \"px\";\n        element.style.left = colStart * this.dimensions.actualCellWidth + \"px\";\n        element.style.width = this.dimensions.actualCellWidth * (colEnd - colStart) + \"px\";\n        return element;\n    };\n    DomRenderer.prototype.onCursorMove = function () {\n    };\n    DomRenderer.prototype.onOptionsChanged = function () {\n        this._updateDimensions();\n        this._injectCss();\n        this._terminal.refresh(0, this._terminal.rows - 1);\n    };\n    DomRenderer.prototype.clear = function () {\n        this._rowElements.forEach(function (e) { return e.innerHTML = ''; });\n    };\n    DomRenderer.prototype.renderRows = function (start, end) {\n        var terminal = this._terminal;\n        var cursorAbsoluteY = terminal.buffer.ybase + terminal.buffer.y;\n        var cursorX = this._terminal.buffer.x;\n        var cursorBlink = this._terminal.options.cursorBlink;\n        for (var y = start; y <= end; y++) {\n            var rowElement = this._rowElements[y];\n            rowElement.innerHTML = '';\n            var row = y + terminal.buffer.ydisp;\n            var lineData = terminal.buffer.lines.get(row);\n            var cursorStyle = terminal.options.cursorStyle;\n            rowElement.appendChild(this._rowFactory.createRow(lineData, row === cursorAbsoluteY, cursorStyle, cursorX, cursorBlink, this.dimensions.actualCellWidth, terminal.cols));\n        }\n    };\n    Object.defineProperty(DomRenderer.prototype, \"_terminalSelector\", {\n        get: function () {\n            return \".\" + TERMINAL_CLASS_PREFIX + this._terminalClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomRenderer.prototype.registerCharacterJoiner = function (handler) { return -1; };\n    DomRenderer.prototype.deregisterCharacterJoiner = function (joinerId) { return false; };\n    DomRenderer.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, true);\n    };\n    DomRenderer.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, false);\n    };\n    DomRenderer.prototype._setCellUnderline = function (x, x2, y, y2, cols, enabled) {\n        while (x !== x2 || y !== y2) {\n            var row = this._rowElements[y];\n            if (!row) {\n                return;\n            }\n            var span = row.children[x];\n            if (span) {\n                span.style.textDecoration = enabled ? 'underline' : 'none';\n            }\n            if (++x >= cols) {\n                x = 0;\n                y++;\n            }\n        }\n    };\n    return DomRenderer;\n}(Lifecycle_1.Disposable));\nexports.DomRenderer = DomRenderer;\n\n},{\"../../common/Lifecycle\":42,\"../atlas/Types\":73,\"./DomRendererRowFactory\":75}],75:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../atlas/Types\");\nvar BufferLine_1 = require(\"../../core/buffer/BufferLine\");\nexports.BOLD_CLASS = 'xterm-bold';\nexports.DIM_CLASS = 'xterm-dim';\nexports.ITALIC_CLASS = 'xterm-italic';\nexports.UNDERLINE_CLASS = 'xterm-underline';\nexports.CURSOR_CLASS = 'xterm-cursor';\nexports.CURSOR_BLINK_CLASS = 'xterm-cursor-blink';\nexports.CURSOR_STYLE_BLOCK_CLASS = 'xterm-cursor-block';\nexports.CURSOR_STYLE_BAR_CLASS = 'xterm-cursor-bar';\nexports.CURSOR_STYLE_UNDERLINE_CLASS = 'xterm-cursor-underline';\nvar DomRendererRowFactory = (function () {\n    function DomRendererRowFactory(_terminalOptions, _document) {\n        this._terminalOptions = _terminalOptions;\n        this._document = _document;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    DomRendererRowFactory.prototype.createRow = function (lineData, isCursorRow, cursorStyle, cursorX, cursorBlink, cellWidth, cols) {\n        var fragment = this._document.createDocumentFragment();\n        var lineLength = 0;\n        for (var x = Math.min(lineData.length, cols) - 1; x >= 0; x--) {\n            if (lineData.loadCell(x, this._workCell).getCode() !== BufferLine_1.NULL_CELL_CODE || (isCursorRow && x === cursorX)) {\n                lineLength = x + 1;\n                break;\n            }\n        }\n        for (var x = 0; x < lineLength; x++) {\n            lineData.loadCell(x, this._workCell);\n            var width = this._workCell.getWidth();\n            if (width === 0) {\n                continue;\n            }\n            var charElement = this._document.createElement('span');\n            if (width > 1) {\n                charElement.style.width = cellWidth * width + \"px\";\n            }\n            if (isCursorRow && x === cursorX) {\n                charElement.classList.add(exports.CURSOR_CLASS);\n                if (cursorBlink) {\n                    charElement.classList.add(exports.CURSOR_BLINK_CLASS);\n                }\n                switch (cursorStyle) {\n                    case 'bar':\n                        charElement.classList.add(exports.CURSOR_STYLE_BAR_CLASS);\n                        break;\n                    case 'underline':\n                        charElement.classList.add(exports.CURSOR_STYLE_UNDERLINE_CLASS);\n                        break;\n                    default:\n                        charElement.classList.add(exports.CURSOR_STYLE_BLOCK_CLASS);\n                        break;\n                }\n            }\n            if (this._workCell.isBold() && this._terminalOptions.enableBold) {\n                charElement.classList.add(exports.BOLD_CLASS);\n            }\n            if (this._workCell.isItalic()) {\n                charElement.classList.add(exports.ITALIC_CLASS);\n            }\n            if (this._workCell.isDim()) {\n                charElement.classList.add(exports.DIM_CLASS);\n            }\n            if (this._workCell.isUnderline()) {\n                charElement.classList.add(exports.UNDERLINE_CLASS);\n            }\n            charElement.textContent = this._workCell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n            var swapColor = this._workCell.isInverse();\n            if (this._workCell.isFgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? 'background-' : '') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getFgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isFgPalette()) {\n                var fg = this._workCell.getFgColor();\n                if (this._workCell.isBold() && fg < 8 && !swapColor &&\n                    this._terminalOptions.enableBold && this._terminalOptions.drawBoldTextInBrightColors) {\n                    fg += 8;\n                }\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'b' : 'f') + \"g-\" + fg);\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-bg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            if (this._workCell.isBgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? '' : 'background-') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getBgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isBgPalette()) {\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'f' : 'b') + \"g-\" + this._workCell.getBgColor());\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-fg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            fragment.appendChild(charElement);\n        }\n        return fragment;\n    };\n    return DomRendererRowFactory;\n}());\nexports.DomRendererRowFactory = DomRendererRowFactory;\n\n},{\"../../core/buffer/BufferLine\":47,\"../atlas/Types\":73}],76:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DEFAULT_FOREGROUND = fromHex('#ffffff');\nvar DEFAULT_BACKGROUND = fromHex('#000000');\nvar DEFAULT_CURSOR = fromHex('#ffffff');\nvar DEFAULT_CURSOR_ACCENT = fromHex('#000000');\nvar DEFAULT_SELECTION = {\n    css: 'rgba(255, 255, 255, 0.3)',\n    rgba: 0xFFFFFF77\n};\nexports.DEFAULT_ANSI_COLORS = (function () {\n    var colors = [\n        fromHex('#2e3436'),\n        fromHex('#cc0000'),\n        fromHex('#4e9a06'),\n        fromHex('#c4a000'),\n        fromHex('#3465a4'),\n        fromHex('#75507b'),\n        fromHex('#06989a'),\n        fromHex('#d3d7cf'),\n        fromHex('#555753'),\n        fromHex('#ef2929'),\n        fromHex('#8ae234'),\n        fromHex('#fce94f'),\n        fromHex('#729fcf'),\n        fromHex('#ad7fa8'),\n        fromHex('#34e2e2'),\n        fromHex('#eeeeec')\n    ];\n    var v = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff];\n    for (var i = 0; i < 216; i++) {\n        var r = v[(i / 36) % 6 | 0];\n        var g = v[(i / 6) % 6 | 0];\n        var b = v[i % 6];\n        colors.push({\n            css: \"#\" + toPaddedHex(r) + toPaddedHex(g) + toPaddedHex(b),\n            rgba: ((r << 24) | (g << 16) | (b << 8) | 0xFF) >>> 0\n        });\n    }\n    for (var i = 0; i < 24; i++) {\n        var c = 8 + i * 10;\n        var ch = toPaddedHex(c);\n        colors.push({\n            css: \"#\" + ch + ch + ch,\n            rgba: ((c << 24) | (c << 16) | (c << 8) | 0xFF) >>> 0\n        });\n    }\n    return colors;\n})();\nfunction fromHex(css) {\n    return {\n        css: css,\n        rgba: parseInt(css.slice(1), 16) << 8 | 0xFF\n    };\n}\nfunction toPaddedHex(c) {\n    var s = c.toString(16);\n    return s.length < 2 ? '0' + s : s;\n}\nvar ColorManager = (function () {\n    function ColorManager(document, allowTransparency) {\n        this.allowTransparency = allowTransparency;\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        var ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get rendering context');\n        }\n        this._ctx = ctx;\n        this._ctx.globalCompositeOperation = 'copy';\n        this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1);\n        this.colors = {\n            foreground: DEFAULT_FOREGROUND,\n            background: DEFAULT_BACKGROUND,\n            cursor: DEFAULT_CURSOR,\n            cursorAccent: DEFAULT_CURSOR_ACCENT,\n            selection: DEFAULT_SELECTION,\n            ansi: exports.DEFAULT_ANSI_COLORS.slice()\n        };\n    }\n    ColorManager.prototype.setTheme = function (theme) {\n        if (theme === void 0) { theme = {}; }\n        this.colors.foreground = this._parseColor(theme.foreground, DEFAULT_FOREGROUND);\n        this.colors.background = this._parseColor(theme.background, DEFAULT_BACKGROUND);\n        this.colors.cursor = this._parseColor(theme.cursor, DEFAULT_CURSOR, true);\n        this.colors.cursorAccent = this._parseColor(theme.cursorAccent, DEFAULT_CURSOR_ACCENT, true);\n        this.colors.selection = this._parseColor(theme.selection, DEFAULT_SELECTION, true);\n        this.colors.ansi[0] = this._parseColor(theme.black, exports.DEFAULT_ANSI_COLORS[0]);\n        this.colors.ansi[1] = this._parseColor(theme.red, exports.DEFAULT_ANSI_COLORS[1]);\n        this.colors.ansi[2] = this._parseColor(theme.green, exports.DEFAULT_ANSI_COLORS[2]);\n        this.colors.ansi[3] = this._parseColor(theme.yellow, exports.DEFAULT_ANSI_COLORS[3]);\n        this.colors.ansi[4] = this._parseColor(theme.blue, exports.DEFAULT_ANSI_COLORS[4]);\n        this.colors.ansi[5] = this._parseColor(theme.magenta, exports.DEFAULT_ANSI_COLORS[5]);\n        this.colors.ansi[6] = this._parseColor(theme.cyan, exports.DEFAULT_ANSI_COLORS[6]);\n        this.colors.ansi[7] = this._parseColor(theme.white, exports.DEFAULT_ANSI_COLORS[7]);\n        this.colors.ansi[8] = this._parseColor(theme.brightBlack, exports.DEFAULT_ANSI_COLORS[8]);\n        this.colors.ansi[9] = this._parseColor(theme.brightRed, exports.DEFAULT_ANSI_COLORS[9]);\n        this.colors.ansi[10] = this._parseColor(theme.brightGreen, exports.DEFAULT_ANSI_COLORS[10]);\n        this.colors.ansi[11] = this._parseColor(theme.brightYellow, exports.DEFAULT_ANSI_COLORS[11]);\n        this.colors.ansi[12] = this._parseColor(theme.brightBlue, exports.DEFAULT_ANSI_COLORS[12]);\n        this.colors.ansi[13] = this._parseColor(theme.brightMagenta, exports.DEFAULT_ANSI_COLORS[13]);\n        this.colors.ansi[14] = this._parseColor(theme.brightCyan, exports.DEFAULT_ANSI_COLORS[14]);\n        this.colors.ansi[15] = this._parseColor(theme.brightWhite, exports.DEFAULT_ANSI_COLORS[15]);\n    };\n    ColorManager.prototype._parseColor = function (css, fallback, allowTransparency) {\n        if (allowTransparency === void 0) { allowTransparency = this.allowTransparency; }\n        if (css === undefined) {\n            return fallback;\n        }\n        this._ctx.fillStyle = this._litmusColor;\n        this._ctx.fillStyle = css;\n        if (typeof this._ctx.fillStyle !== 'string') {\n            console.warn(\"Color: \" + css + \" is invalid using fallback \" + fallback.css);\n            return fallback;\n        }\n        this._ctx.fillRect(0, 0, 1, 1);\n        var data = this._ctx.getImageData(0, 0, 1, 1).data;\n        if (!allowTransparency && data[3] !== 0xFF) {\n            console.warn(\"Color: \" + css + \" is using transparency, but allowTransparency is false. \" +\n                (\"Using fallback \" + fallback.css + \".\"));\n            return fallback;\n        }\n        return {\n            css: css,\n            rgba: (data[0] << 24 | data[1] << 16 | data[2] << 8 | data[3]) >>> 0\n        };\n    };\n    return ColorManager;\n}());\nexports.ColorManager = ColorManager;\n\n},{}],77:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addDisposableDomListener(node, type, handler, useCapture) {\n    node.addEventListener(type, handler, useCapture);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            node.removeEventListener(type, handler, useCapture);\n        }\n    };\n}\nexports.addDisposableDomListener = addDisposableDomListener;\n\n},{}],78:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer = (function () {\n    function RenderDebouncer(_renderCallback) {\n        this._renderCallback = _renderCallback;\n    }\n    RenderDebouncer.prototype.dispose = function () {\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = undefined;\n        }\n    };\n    RenderDebouncer.prototype.refresh = function (rowStart, rowEnd, rowCount) {\n        var _this = this;\n        this._rowCount = rowCount;\n        rowStart = rowStart !== undefined ? rowStart : 0;\n        rowEnd = rowEnd !== undefined ? rowEnd : this._rowCount - 1;\n        this._rowStart = this._rowStart !== undefined ? Math.min(this._rowStart, rowStart) : rowStart;\n        this._rowEnd = this._rowEnd !== undefined ? Math.max(this._rowEnd, rowEnd) : rowEnd;\n        if (this._animationFrame) {\n            return;\n        }\n        this._animationFrame = window.requestAnimationFrame(function () { return _this._innerRefresh(); });\n    };\n    RenderDebouncer.prototype._innerRefresh = function () {\n        if (this._rowStart === undefined || this._rowEnd === undefined || this._rowCount === undefined) {\n            return;\n        }\n        this._rowStart = Math.max(this._rowStart, 0);\n        this._rowEnd = Math.min(this._rowEnd, this._rowCount - 1);\n        this._renderCallback(this._rowStart, this._rowEnd);\n        this._rowStart = undefined;\n        this._rowEnd = undefined;\n        this._animationFrame = undefined;\n    };\n    return RenderDebouncer;\n}());\nexports.RenderDebouncer = RenderDebouncer;\n\n},{}],79:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor = (function (_super) {\n    __extends(ScreenDprMonitor, _super);\n    function ScreenDprMonitor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._currentDevicePixelRatio = window.devicePixelRatio;\n        return _this;\n    }\n    ScreenDprMonitor.prototype.setListener = function (listener) {\n        var _this = this;\n        if (this._listener) {\n            this.clearListener();\n        }\n        this._listener = listener;\n        this._outerListener = function () {\n            if (!_this._listener) {\n                return;\n            }\n            _this._listener(window.devicePixelRatio, _this._currentDevicePixelRatio);\n            _this._updateDpr();\n        };\n        this._updateDpr();\n    };\n    ScreenDprMonitor.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.clearListener();\n    };\n    ScreenDprMonitor.prototype._updateDpr = function () {\n        if (!this._resolutionMediaMatchList || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._currentDevicePixelRatio = window.devicePixelRatio;\n        this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\");\n        this._resolutionMediaMatchList.addListener(this._outerListener);\n    };\n    ScreenDprMonitor.prototype.clearListener = function () {\n        if (!this._resolutionMediaMatchList || !this._listener || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._resolutionMediaMatchList = undefined;\n        this._listener = undefined;\n        this._outerListener = undefined;\n    };\n    return ScreenDprMonitor;\n}(Lifecycle_1.Disposable));\nexports.ScreenDprMonitor = ScreenDprMonitor;\n\n},{\"../common/Lifecycle\":42}]},{},[7]);\n"]}